{"version":3,"sources":["webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/utils.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabsContainer.scss?1596","webpack:///./src/ui/src/helpers/pageManipulationFunctions.js","webpack:///../src/index.ts","webpack:///./src/ui/src/components/Outline/Context.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useIsomorphicLayoutEffect.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/wrapConnectorHooks.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/isRef.js","webpack:///./src/ui/src/constants/dnd.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/vendor/detectElementResize.js","webpack:///./src/ui/src/constants/bookmarksOutlinesShared.scss?470d","webpack:///./src/ui/src/components/Spinner/Spinner.scss?fedb","webpack:///./src/ui/src/components/Spinner/Spinner.scss","webpack:///./src/ui/src/components/Spinner/Spinner.js","webpack:///./src/ui/src/components/Spinner/index.js","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/MoreOptionsContextMenuPopup.js","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/index.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/disposables.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/SignatureIcon.js","webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/index.js","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.js","webpack:///./src/ui/src/components/OutlineContent/index.js","webpack:///./src/ui/node_modules/core-js/modules/es.string.ends-with.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useCollector.js","webpack:///./src/ui/node_modules/fast-deep-equal/index.js","webpack:///./src/ui/src/components/SignaturePanel/Spinner/Spinner.scss?3b3b","webpack:///./src/ui/src/components/SignaturePanel/Spinner/Spinner.scss","webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/SignatureIcon.scss?9d30","webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/SignatureIcon.scss","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/WidgetInfo.scss?6bdb","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/WidgetInfo.scss","webpack:///./src/ui/src/components/SignaturePanel/SignaturePanel.scss?5781","webpack:///./src/ui/src/components/SignaturePanel/SignaturePanel.scss","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/utils/calculateSizeAndPositionDataAndUpdateScrollOffset.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/utils/CellSizeAndPositionManager.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/utils/maxElementSize.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/utils/ScalingCellSizeAndPositionManager.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/utils/createCallbackMemoizer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/utils/updateScrollIndexHelper.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/utils/animationFrame.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/Grid.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/utils/requestAnimationTimeout.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/defaultOverscanIndicesGetter.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/defaultCellRangeRenderer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/accessibilityOverscanIndicesGetter.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/ArrowKeyStepper/types.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/ArrowKeyStepper/ArrowKeyStepper.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/AutoSizer/AutoSizer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurerCache.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/CollectionView.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/Section.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/SectionManager.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/utils/getUpdatedOffsetForIndex.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/Collection.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/utils/calculateSizeAndPositionData.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/index.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/ColumnSizer/ColumnSizer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/ColumnSizer/index.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/InfiniteLoader/InfiniteLoader.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/InfiniteLoader/index.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/List/List.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/vendor/binarySearchBounds.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/vendor/intervalTree.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Masonry/PositionCache.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Masonry/Masonry.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Masonry/index.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/MultiGrid/CellMeasurerCacheDecorator.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/MultiGrid/MultiGrid.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/ScrollSync/ScrollSync.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/defaultHeaderRowRenderer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/SortDirection.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/SortIndicator.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/defaultHeaderRenderer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/defaultRowRenderer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/Column.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/Table.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/defaultCellDataGetter.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/defaultCellRenderer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/index.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/WindowScroller/utils/onScroll.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/WindowScroller/utils/dimensions.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/WindowScroller/WindowScroller.js","webpack:///./src/ui/node_modules/core-js/modules/es.array-buffer.constructor.js","webpack:///./src/ui/node_modules/core-js/modules/es.typed-array.int8-array.js","webpack:///./src/ui/node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js","webpack:///./src/ui/src/helpers/setVerificationResult.js","webpack:///./src/ui/src/components/SignaturePanel/Spinner/index.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetLocator/WidgetLocator.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetLocator/index.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/WidgetInfo.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/index.js","webpack:///./src/ui/src/components/SignaturePanel/SignaturePanel.js","webpack:///./src/ui/src/components/SignaturePanel/index.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/interfaces.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/utils/predicates.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/utils/offsets.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/utils/supportsPassive.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/OptionsReader.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/TouchBackend.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/utils/math.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/index.js","webpack:///./src/ui/src/components/Element/Element.scss?a607","webpack:///./src/ui/src/components/Element/Element.scss","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.scss?c5fd","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.scss","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/MoreOptionsContextMenuPopup.scss?afd1","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/MoreOptionsContextMenuPopup.scss","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.scss?b097","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.scss","webpack:///./src/ui/src/components/Outline/Outline.scss?faae","webpack:///./src/ui/src/components/Outline/Outline.scss","webpack:///./src/ui/src/constants/bookmarksOutlinesShared.scss","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.scss?a5f6","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.scss","webpack:///./src/ui/src/components/FileAttachmentPanel/FileAttachmentPanel.scss?5dbc","webpack:///./src/ui/src/components/FileAttachmentPanel/FileAttachmentPanel.scss","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.scss?b6c7","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.scss","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.scss?24bb","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.scss","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabsContainer.scss","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.scss?a520","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.scss","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.scss?1157","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.scss","webpack:///./src/ui/src/components/Element/Element.js","webpack:///./src/ui/src/components/Element/index.js","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.js","webpack:///./src/ui/src/components/OutlineControls/index.js","webpack:///./src/ui/src/components/Outline/Outline.js","webpack:///./src/ui/src/components/Outline/index.js","webpack:///./src/ui/src/components/PageManipulationOverlayButton/PageManipulationOverlayButtonContainer.js","webpack:///./src/ui/src/components/PageManipulationOverlayButton/index.js","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.js","webpack:///./src/ui/src/components/ThumbnailControls/index.js","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.js","webpack:///./src/ui/src/components/Thumbnail/ThumbnailRedux.js","webpack:///./src/ui/src/components/Thumbnail/index.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMoreSmall/LeftPanelPageTabsMoreSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsInsertSmall/LeftPanelPageTabsInsertSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/CustomLeftPanelOperations/CustomLeftPanelOperations.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsRotate/LeftPanelPageTabsRotate.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsSmall/LeftPanelPageTabsSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMore/LeftPanelPageTabsMore.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMove/LeftPanelPageTabsMove.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabs.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsInsert/LeftPanelPageTabsInsert.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsOperations/LeftPanelPageTabsOperations.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsLarge/LeftPanelPageTabsLarge.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsContainer.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/index.js","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.js","webpack:///./src/ui/src/components/DocumentControls/index.js","webpack:///./src/ui/src/helpers/pageManipulation.js","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.js","webpack:///./src/ui/src/components/ThumbnailsPanel/index.js","webpack:///./src/ui/src/components/Bookmark/Bookmark.js","webpack:///./src/ui/src/components/Bookmark/index.js","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.js","webpack:///./src/ui/src/components/BookmarksPanel/index.js","webpack:///./src/ui/src/components/FileAttachmentPanel/FileAttachmentPanel.js","webpack:///./src/ui/src/components/FileAttachmentPanel/index.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/DropTargetMonitorImpl.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/TargetConnector.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/registration.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/DragSourceMonitorImpl.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/SourceConnector.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDragLayer.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/DropTarget.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/DragSource.js","webpack:///./src/ui/node_modules/@pdftron/webviewer-react-toolkit/dist/esm/components/Input/Input.js","webpack:///./src/ui/src/components/LeftPanelTabs/LeftPanelTabs.scss?a3dd","webpack:///./src/ui/src/components/LeftPanelTabs/LeftPanelTabs.scss","webpack:///./src/ui/src/components/PortfolioItemContent/PortfolioItemContent.scss?eb5b","webpack:///./src/ui/src/components/PortfolioItemContent/PortfolioItemContent.scss","webpack:///./src/ui/src/components/PortfolioItem/PortfolioItem.scss?1371","webpack:///./src/ui/src/components/PortfolioItem/PortfolioItem.scss","webpack:///./src/ui/src/components/PortfolioPanel/PortfolioPanel.scss?2eaf","webpack:///./src/ui/src/components/PortfolioPanel/PortfolioPanel.scss","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.scss?e27f","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.scss","webpack:///./src/ui/src/components/LeftPanel/LeftPanel.scss?e1e9","webpack:///./src/ui/src/components/LeftPanel/LeftPanel.scss","webpack:///./src/ui/src/components/LeftPanelTabs/LeftPanelTabs.js","webpack:///./src/ui/src/components/LeftPanelTabs/index.js","webpack:///./src/ui/src/components/PortfolioPanel/PortfolioContext.js","webpack:///./src/ui/src/components/PortfolioItemContent/PortfolioItemContent.js","webpack:///./src/ui/src/components/PortfolioItemContent/index.js","webpack:///./src/ui/src/components/PortfolioItem/PortfolioItem.js","webpack:///./src/ui/src/components/PortfolioItem/index.js","webpack:///./src/ui/src/components/PortfolioPanel/PortfolioDragLayer.js","webpack:///./src/ui/src/components/PortfolioPanel/PortfolioPanel.js","webpack:///./src/ui/src/components/PortfolioPanel/index.js","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesDragLayer.js","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.js","webpack:///./src/ui/src/components/OutlinesPanel/index.js","webpack:///./src/ui/src/components/LeftPanel/LeftPanel.js","webpack:///./src/ui/src/components/LeftPanel/index.js","webpack:///./src/ui/node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","getDecoratedComponent","instanceRef","currentRef","current","decoratedRef","isRefable","C","Component","render","_item$$$typeof","item","$$typeof","toString","isRefForwardingComponent","checkDecoratorArguments","functionName","signature","isFunction","input","noop","isPlainObject","isObjectLike","Object","getPrototypeOf","proto","isValidType","type","allowArray","Array","isArray","every","t","api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","getNewRotation","curr","counterClockwise","Core","PageRotation","E_0","E_90","E_180","E_270","rotatePages","pageNumbers","doc","core","getDocument","docType","workerTypes","PDF","IMAGE","WEBVIEWER_SERVER","isWebViewerServerDocument","rotation","index","docViewer","getDocumentViewer","currentRotations","getPageRotations","page","setRotation","rotateClockwise","createAnnouncement","i18next","getPageRotation","getCurrentPage","rotateCounterClockwise","insertAbove","width","height","insertBlankPages","insertBelow","map","replace","dispatch","actions","closeElement","DataElements","PAGE_MANIPULATION_OVERLAY","openElement","extractPages","message","title","confirmBtnText","secondaryBtnText","extractAnnouncement","deleteAnnouncement","warning","onConfirm","extractPagesWithAnnotations","then","file","saveAs","onSecondary","removePages","setSelectedPageThumbnails","showWarningMessage","deletePages","isModalEnabled","setShiftKeyThumbnailsPivotIndex","getPageCount","Promise","resolve","movePagesToBottom","movePages","getTotalPages","movePagesToTop","noPagesSelectedWarning","keepOpen","exitPageInsertionWarning","closeModal","exitPageReplacementWarning","redactPages","redactionStyles","applyRedactions","createPageRedactions","annots","pageInfo","getPageInfo","pageRotation","redaction","Annotations","RedactionAnnotation","PageNumber","Rect","redactionTypeMap","setCustomData","Author","getCurrentUser","getAnnotationManager","addAnnotations","drawAnnotationsFromList","replacePages","sourceDocument","pagesToRemove","pagesToReplaceIntoDocument","documentLoadedInViewer","pageCountOfLoadedDocument","pagesToRemoveFromOriginal","sort","a","b","insertPages","pagesToInsert","insertBeforeThisPage","shallowEqual","objA","objB","compare","compareContext","compareResult","call","keysA","keys","keysB","bHasOwnProperty","hasOwnProperty","bind","idx","key","valueA","valueB","OutlineContext","React","createContext","useDragDropManager","dragDropManager","useContext","DndContext","invariant","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","throwIfCompositeComponentElement","element","displayName","name","Error","concat","wrapConnectorHooks","hooks","wrappedHooks","hook","endsWith","wrappedHook","elementOrNode","arguments","undefined","isValidElement","node","ref","cloneWithRef","wrapHookToRecognizeElement","setRef","newRef","previousRef","cloneElement","isRef","ItemTypes","OUTLINE","PORTFOLIO","DropLocation","ON_TARGET_HORIZONTAL_MIDPOINT","ABOVE_TARGET","BELOW_TARGET","INITIAL","BUFFER_ROOM","createDetectElementResize","nonce","hostWindow","_window","cancel","raf","attachEvent","self","global","requestFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","setTimeout","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","id","resetTriggers","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","style","offsetWidth","offsetHeight","scrollListener","e","target","className","indexOf","this","__resizeRAF__","__resizeLast__","checkTriggers","__resizeListeners__","animation","keyframeprefix","animationstartevent","domPrefixes","split","startEvents","elm","createElement","animationName","toLowerCase","animationKeyframes","animationStyle","addResizeListener","ownerDocument","elementStyle","getComputedStyle","position","getElementById","css","setAttribute","styleSheet","cssText","createTextNode","createStyles","resizeTriggersHtml","trustedTypes","staticPolicy","createPolicy","createHTML","addEventListener","__animationListener__","removeResizeListener","detachEvent","splice","removeEventListener","removeChild","Spinner","spinnerStyle","propTypes","PropTypes","oneOf","isRequired","anchorButton","string","shouldDisplayDeleteButton","bool","onClosePopup","func","onRenameClick","onSetDestinationClick","onDownloadClick","onDeleteClick","onOpenClick","MoreOptionsContextMenuPopup","useTranslation","containerRef","useRef","useState","left","right","top","setPosition","Portal","children","mount","getRootNode","querySelector","zIndex","createPortal","getOverlayPositionBasedOn","onClickOutside","useCallback","contains","useOnClickOutside","DataElementWrapper","dataElement","Button","img","label","ariaLabel","onClick","stopPropagation","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_defineProperty","value","Disposable","action","isDisposed","d","Boolean","dispose","result","isDisposable","empty","CompositeDisposable","_len","disposables","_key","shouldDispose","len","currentDisposables","_i","_i2","SerialDisposable","old","_slicedToArray","arr","_arrayWithHoles","_s","_e","_arr","_n","_d","next","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","slice","from","test","_unsupportedIterableToArray","_nonIterableRest","arr2","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","apply","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","decorateHandler","_ref","DecoratedComponent","createHandler","createMonitor","createConnector","registerHandler","containerDisplayName","getType","collect","_options$arePropsEqua","arePropsEqual","Decorated","DragDropContainer","_Component","subClass","superClass","create","_inherits","_super","_this","createRef","nextState","getCurrentState","state","setState","disposable","receiveProps","handlerId","nextProps","currentType","handleChange","prevProps","handler","receiveType","handlerMonitor","manager","handlerConnector","_registerHandler2","unregister","receiveHandlerId","unsubscribe","getMonitor","subscribeToStateChange","handlerIds","setDisposable","_this2","_jsx","Consumer","_ref2","receiveDragDropManager","_this2$handlerConnect","reconnect","assign","getBackend","hoistStatics","badge","size","SignatureIcon","Icon","glyph","text","outlinePath","isAdding","isOutlineRenaming","setOutlineRenaming","isOutlineChangingDest","setOutlineChangingDest","setIsHovered","onCancel","textColor","OutlineContent","currentDestPage","currentDestText","editingOutlines","setEditingOutlines","isMultiSelectMode","isOutlineEditable","addNewOutline","renameOutline","updateOutlineDest","updateOutlines","removeOutlines","isDefault","setIsDefault","outlineText","setOutlineText","isContextMenuOpen","setContextMenuOpen","inputRef","onAddOutline","trim","onRenameOutline","onCancelOutline","isRenameButtonDisabled","focus","select","editingOutlinesClone","isOutlineEditing","textStyle","color","onDoubleClick","tabIndex","setToolMode","placeholder","aria-label","onKeyDown","onChange","fontStyle","isSubmitType","disabled","$","uncurryThis","getOwnPropertyDescriptor","f","toLength","notARegExp","requireObjectCoercible","correctIsRegExpLogic","IS_PURE","un$EndsWith","min","Math","CORRECT_IS_REGEXP_LOGIC","forced","String","searchString","that","endPosition","end","search","useCollector","monitor","onUpdate","_useState2","collected","setCollected","updateCollected","nextValue","equal","RegExp","source","flags","calculateSizeAndPositionDataAndUpdateScrollOffset","cellCount","cellSize","computeMetadataCallback","computeMetadataCallbackProps","nextCellsCount","nextCellSize","nextScrollToIndex","scrollToIndex","updateScrollOffsetForScrollToIndex","CellSizeAndPositionManager","cellSizeGetter","estimatedCellSize","_cellSizeGetter","_cellCount","_estimatedCellSize","_lastMeasuredIndex","lastMeasuredCellSizeAndPosition","getSizeAndPositionOfLastMeasuredCell","offset","isNaN","_cellSizeAndPositionData","_lastBatchedIndex","_ref3","_ref3$align","align","containerSize","currentOffset","targetIndex","idealOffset","datum","getSizeAndPositionOfCell","maxOffset","minOffset","max","totalSize","getTotalSize","params","start","_findNearestCell","stop","high","low","middle","floor","interval","_binarySearch","lastMeasuredIndex","_exponentialSearch","getMaxElementSize","chrome","ScalingCellSizeAndPositionManager","_ref$maxScrollSize","maxScrollSize","_cellSizeAndPositionManager","_maxScrollSize","configure","getCellCount","getEstimatedCellSize","getLastMeasuredIndex","safeTotalSize","offsetPercentage","_getOffsetPercentage","round","_safeOffsetToOffset","getUpdatedOffsetForIndex","_offsetToSafeOffset","_ref4","getVisibleCellRange","resetCell","_ref5","_ref6","_ref7","createCallbackMemoizer","requireAllKeys","cachedIndices","callback","indices","allInitialized","indexChanged","some","cachedValue","join","updateScrollIndexHelper","cellSizeAndPositionManager","previousCellsCount","previousCellSize","previousScrollToAlignment","previousScrollToIndex","previousSize","scrollOffset","scrollToAlignment","sizeJustIncreasedFromZero","updateScrollIndexCallback","hasScrollToIndex","win","_class","_temp","request","oRequestAnimationFrame","msRequestAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","caf","frame","delay","Date","now","timeout","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","_objectSpread","getOwnPropertyDescriptors","defineProperties","SCROLL_POSITION_CHANGE_REASONS","_React$PureComponent","Grid","_disablePointerEventsTimeoutId","isScrolling","needToResetStyleCache","onSectionRendered","_onGridRenderedMemoizer","columnOverscanStartIndex","_columnStartIndex","columnOverscanStopIndex","_columnStopIndex","columnStartIndex","_renderedColumnStartIndex","columnStopIndex","_renderedColumnStopIndex","rowOverscanStartIndex","_rowStartIndex","rowOverscanStopIndex","_rowStopIndex","rowStartIndex","_renderedRowStartIndex","rowStopIndex","_renderedRowStopIndex","_scrollingContainer","event","handleScrollEvent","columnSizeAndPositionManager","columnCount","_wrapSizeGetter","columnWidth","_getEstimatedColumnSize","rowSizeAndPositionManager","rowCount","rowHeight","_getEstimatedRowSize","instanceProps","prevColumnWidth","prevRowHeight","prevColumnCount","prevRowCount","prevIsScrolling","prevScrollToColumn","scrollToColumn","prevScrollToRow","scrollToRow","scrollbarSize","scrollbarSizeMeasured","scrollDirectionHorizontal","scrollDirectionVertical","scrollPositionChangeReason","_initialScrollTop","_getCalculatedScrollTop","_initialScrollLeft","_getCalculatedScrollLeft","_ref$alignment","alignment","_ref$columnIndex","columnIndex","_ref$rowIndex","rowIndex","offsetProps","_ref2$scrollLeft","scrollLeftParam","_ref2$scrollTop","scrollTopParam","_debounceScrollEnded","_this$props","autoHeight","autoWidth","totalRowsHeight","totalColumnsWidth","newState","_invokeOnScrollMemoizer","_deferredInvalidateColumnIndex","_deferredInvalidateRowIndex","_this$props2","_ref4$columnIndex","_ref4$rowIndex","_this$props3","_recomputeScrollLeftFlag","_recomputeScrollTopFlag","_styleCache","_cellCache","forceUpdate","_updateScrollLeftForScrollToColumn","_updateScrollTopForScrollToRow","_this$props4","getScrollbarSize","_handleInvalidatedGridSize","prevState","stateUpdate","_getScrollToPositionStateUpdate","sizeIsBiggerThanZero","_invokeOnGridRenderedHelper","_maybeCallOnScrollbarPresenceChange","_this$props5","_this$state","columnOrRowCountJustIncreasedFromZero","_this$props6","autoContainerWidth","containerProps","containerRole","containerStyle","noContentRenderer","role","_this$state2","_isScrolling","gridStyle","boxSizing","direction","WebkitOverflowScrolling","willChange","_resetStyleCache","_calculateChildrenToRender","verticalScrollBarSize","horizontalScrollBarSize","_horizontalScrollBarSize","_verticalScrollBarSize","_scrollbarPresenceChanged","overflowX","overflowY","childrenToDisplay","_childrenToDisplay","showNoContentRenderer","_setScrollingContainerRef","onScroll","_onScroll","maxWidth","maxHeight","overflow","pointerEvents","cellRenderer","cellRangeRenderer","deferredMeasurementCache","overscanColumnCount","overscanIndicesGetter","overscanRowCount","isScrollingOptOut","visibleColumnIndices","visibleRowIndices","horizontalOffsetAdjustment","getOffsetAdjustment","verticalOffsetAdjustment","overscanColumnIndices","overscanCellsCount","scrollDirection","startIndex","stopIndex","overscanRowIndices","overscanStartIndex","overscanStopIndex","hasFixedHeight","has","hasFixedWidth","cellCache","parent","styleCache","scrollingResetTimeInterval","_debounceScrollEndedCallback","recomputeGridSize","_this3","_onScrollMemoizer","_this3$props","clientHeight","clientWidth","onScrollbarPresenceChange","horizontal","vertical","_ref8","_getScrollLeftForScrollToColumnStateUpdate","_getScrollTopForScrollToRowStateUpdate","maybeStateA","maybeStateB","estimatedColumnSize","estimatedRowSize","_ref9","finalColumn","scrollBarSize","calculatedScrollLeft","finalRow","calculatedScrollTop","renderedCells","areOffsetsAdjusted","canCacheStyle","rowDatum","columnDatum","isVisible","cellRendererParams","renderedCell","ArrowKeyStepper","_getPrototypeOf2","args","mode","_this$_getScrollState","_getScrollState","scrollToColumnPrevious","scrollToRowPrevious","_this$_getScrollState2","preventDefault","_updateScrollState","_this$_getScrollState3","_onKeyDown","_onSectionRendered","isControlled","onScrollToChange","_React$Component","AutoSizer","defaultHeight","defaultWidth","disableHeight","disableWidth","onResize","_parentNode","paddingLeft","parseInt","paddingRight","paddingTop","paddingBottom","newHeight","newWidth","autoSizer","_autoSizer","parentNode","defaultView","HTMLElement","_detectElementResize","_onResize","outerStyle","childParams","_setRef","CellMeasurer","cache","_this$props$columnInd","_this$props$rowIndex","_this$_getCellMeasure","_getCellMeasurements","getHeight","getWidth","set","Element","console","warn","_child","_maybeMeasureCell","measure","_measure","registerChild","_registerChild","styleWidth","styleHeight","ceil","_this$props2$columnIn","_this$props2$rowIndex","_this$_getCellMeasure2","invalidateCellSizeAfterRender","CellMeasurerCache","_keyMapper","_columnWidthCache","_defaultWidth","_rowHeightCache","_defaultHeight","fixedHeight","fixedWidth","keyMapper","minHeight","minWidth","_hasFixedHeight","_hasFixedWidth","_minHeight","_minWidth","defaultKeyMapper","_cellHeightCache","_cellWidthCache","_updateCachedColumnAndRowSizes","_rowCount","_columnCount","_key2","columnKey","rowKey","get","CollectionView","cellLayoutManager","_onSectionRenderedMemoizer","getLastRenderedIndices","scrollToCell","scrollPosition","getScrollPositionForCell","cellIndex","_setScrollPosition","_enablePointerEventsAfterDelay","isScrollingChange","_scrollbarSize","_cellLayoutManager$ge","totalHeight","totalWidth","cancelable","_scrollbarSizeMeasured","_calculateSizeAndPositionDataOnNextUpdate","_updateScrollPositionForScrollToCell","_invokeOnSectionRenderedHelper","_cellLayoutManager$ge2","horizontalOverscanSize","verticalOverscanSize","_this$state3","_lastRenderedCellCount","_lastRenderedCellLayoutManager","calculateSizeAndPositionData","_cellLayoutManager$ge3","bottom","cellRenderers","x","y","collectionStyle","Section","_indexMap","_indices","SectionManager","sectionSize","_sectionSize","_cellMetadata","_sections","getSections","section","getCellIndices","sectionXStart","sectionXStop","sectionYStart","sectionYStop","sections","sectionX","sectionY","cellMetadatum","addCellIndex","_ref$align","cellOffset","Collection","context","_lastRenderedCellIndices","_isScrollingChange","_setCollectionViewRef","_collectionView","recomputeCellSizesAndPositions","data","cellSizeAndPositionGetter","cellMetadata","sectionManager","registerCell","_sectionManager","_height","_width","cellGroupRenderer","getCellMetadata","cellRendererProps","ColumnSizer","columnMaxWidth","columnMinWidth","_registeredChild","safeColumnMinWidth","safeColumnMaxWidth","adjustedWidth","getColumnWidth","child","InfiniteLoader","_loadMoreRowsMemoizer","_onRowsRendered","autoReload","_doStuff","_lastRenderedStartIndex","_lastRenderedStopIndex","onRowsRendered","unloadedRanges","loadMoreRows","unloadedRange","promise","lastRenderedStartIndex","lastRenderedStopIndex","component","currentIndex","recomputeSize","recomputeRowHeights","forceUpdateReactVirtualizedComponent","isRowLoaded","minimumBatchSize","threshold","rangeStartIndex","rangeStopIndex","potentialStopIndex","_index","firstUnloadedRange","_index2","scanForUnloadedRanges","squashedUnloadedRanges","_loadUnloadedRanges","registeredChild","List","rowRenderer","widthDescriptor","getOffsetForCell","measureAllCells","_ref6$columnIndex","_ref6$rowIndex","scrollToPosition","noRowsRenderer","classNames","_cellRenderer","ge","c","l","h","m","_GEP","_GEA","gt","_GTP","_GTA","lt","_LTP","_LTA","le","_LEP","_LEA","eq","_EQP","_EQA","IntervalTreeNode","mid","leftPoints","rightPoints","count","copy","rebuild","intervals","ntree","createIntervalTree","rebuildWithInterval","rebuildWithoutInterval","reportLeftRange","hi","cb","r","reportRightRange","lo","reportRange","compareNumbers","compareBegin","compareEnd","pts","leftIntervals","rightIntervals","centerIntervals","s","IntervalTree","insert","weight","remove","queryPoint","queryInterval","tproto","PositionCache","defaultCellHeight","unmeasuredCellCount","tallestColumnSize","renderCallback","_intervalTree","_leftMap","columnSizeMap","_columnSizeMap","columnHeight","Masonry","eventScrollTop","currentTarget","_getEstimatedTotalHeight","_debounceResetIsScrolling","_positionCache","_invalidateOnUpdateStartIndex","_invalidateOnUpdateStopIndex","_populatePositionCache","_checkInvalidateOnUpdate","_invokeOnScrollCallback","_invokeOnCellsRenderedCallback","_debounceResetIsScrollingId","cellMeasurerCache","overscanByPixels","rowDirection","estimateTotalHeight","shortestColumnSize","measuredCellCount","range","_style","batchSize","_startIndex","_stopIndex","_debounceResetIsScrollingCallback","estimatedColumnCount","_onScrollMemoized","_startIndexMemoized","_stopIndexMemoized","onCellsRendered","cellPositioner","_cellPositioner","CellMeasurerCacheDecorator","_cellMeasurerCache","_columnIndexOffset","_rowIndexOffset","_params$columnIndexOf","columnIndexOffset","_params$rowIndexOffse","rowIndexOffset","clear","clearAll","MultiGrid","showHorizontalScrollbar","showVerticalScrollbar","_bottomLeftGrid","_bottomRightGrid","rest","fixedRowCount","fixedColumnCount","scrollInfo","_topLeftGrid","_topRightGrid","_fixedColumnCount","_fixedRowCount","_maybeCalculateCachedStyles","_deferredMeasurementCacheBottomLeftGrid","_deferredMeasurementCacheBottomRightGrid","_deferredMeasurementCacheTopRightGrid","_ref7$columnIndex","_ref7$rowIndex","_ref8$columnIndex","_ref8$rowIndex","adjustedColumnIndex","adjustedRowIndex","_leftGridWidth","_topGridHeight","_this$props7","_this$props8","_prepareForRender","_this$state4","_containerOuterStyle","_containerTopStyle","_renderTopLeftGrid","_renderTopRightGrid","_containerBottomStyle","_renderBottomLeftGrid","_renderBottomRightGrid","_getTopGridHeight","leftGridWidth","_getLeftGridWidth","topGridHeight","resetAll","_this$props9","enableFixedColumnScroll","enableFixedRowScroll","styleBottomLeftGrid","styleBottomRightGrid","styleTopLeftGrid","styleTopRightGrid","sizeChange","_lastRenderedHeight","_lastRenderedWidth","leftSizeChange","_lastRenderedColumnWidth","_lastRenderedFixedColumnCount","topSizeChange","_lastRenderedFixedRowCount","_lastRenderedRowHeight","_lastRenderedStyle","_lastRenderedStyleBottomLeftGrid","_bottomLeftGridStyle","_lastRenderedStyleBottomRightGrid","_bottomRightGridStyle","_lastRenderedStyleTopLeftGrid","_topLeftGridStyle","_lastRenderedStyleTopRightGrid","_topRightGridStyle","hideBottomLeftGridScrollbar","additionalRowCount","_getBottomGridHeight","gridWidth","bottomLeftGrid","_cellRendererBottomLeftGrid","classNameBottomLeftGrid","_onScrollTop","_bottomLeftGridRef","_rowHeightBottomGrid","_cellRendererBottomRightGrid","classNameBottomRightGrid","_columnWidthRightGrid","_onScrollbarPresenceChange","_bottomRightGridRef","_getRightGridWidth","classNameTopLeftGrid","_topLeftGridRef","hideTopRightGridScrollbar","_this$state5","additionalColumnCount","additionalHeight","gridHeight","topRightGrid","_cellRendererTopRightGrid","classNameTopRightGrid","_onScrollLeft","_topRightGridRef","ScrollSync","defaultHeaderRowRenderer","columns","ASC","DESC","SortIndicator","sortDirection","viewBox","fill","defaultHeaderRenderer","dataKey","sortBy","showSortIndicator","defaultRowRenderer","onRowClick","onRowDoubleClick","onRowMouseOut","onRowMouseOver","onRowRightClick","rowData","a11yProps","onMouseOut","onMouseOver","onContextMenu","Column","cellDataGetter","cellData","defaultSortDirection","flexGrow","flexShrink","headerRenderer","Table","scrollbarWidth","_createColumn","_createRow","_ref3$columnIndex","_ref3$rowIndex","_Grid","_setScrollbarWidth","disableHeader","gridClassName","headerHeight","headerRowRenderer","rowClassName","rowStyle","availableRowsHeight","rowClass","rowStyleObject","_cachedColumnStyles","toArray","column","flexStyles","_getFlexStyleForColumn","_getHeaderColumns","onColumnClick","_column$props","columnData","headerOnClick","headerOnKeyDown","headerTabIndex","headerAriaSort","headerAriaLabel","headerClassName","headerStyle","onHeaderClick","_column$props2","disableSort","sortEnabled","ReactVirtualized__Table__sortableHeaderColumn","renderedHeader","newSortDirection","rowGetter","flattenedStyle","_getRowHeight","customStyle","flexValue","flex","msFlex","WebkitFlex","_this4","_createHeader","getScrollbarWidth","mountedInstances","originalBodyPointerEvents","disablePointerEventsTimeoutId","enablePointerEventsIfDisabled","body","enablePointerEventsAfterDelayCallback","__resetIsScrolling","onScrollWindow","maximumTimeout","enablePointerEventsAfterDelay","scrollElement","__handleWindowScrollEvent","registerScrollListener","unregisterScrollListener","isWindow","getBoundingBox","getBoundingClientRect","getDimensions","innerHeight","innerWidth","serverHeight","serverWidth","getPositionOffset","container","documentElement","containerElement","elementRect","containerRect","getScrollOffset","_elementRect","_containerRect","scrollY","scrollX","getWindow","WindowScroller","updatePosition","scrollTo","_positionFromTop","_isMounted","_positionFromLeft","thisNode","dimensions","_registerResizeListener","prevScrollElement","_unregisterResizeListener","onChildScroll","_onChildScroll","arrayBufferModule","setSpecies","ArrayBuffer","createTypedArrayConstructor","init","byteOffset","certificates","trustLists","currentLanguage","revocationChecking","revocationProxyPrefix","getVerificationResult","verificationResult","setVerificationResult","PDFNet","VerificationResult","TrustStatus","DigestStatus","ModificationPermissionsStatus","DocumentStatus","verificationResults","runWithCleanup","getPDFDoc","VerificationOptions","SecurityLevel","e_compatibility_and_archiving","opts","enableOnlineCRLRevocationChecking","setRevocationProxyPrefix","certificate","addTrustedCertificateFromURL","error","File","fileReader","FileReader","arrayBufferPromise","reject","Uint8Array","readAsArrayBuffer","addTrustedCertificate","Int8Array","Uint8ClampedArray","trustList","trustListDataStructure","supportedDataStructures","fdfDocBuffer","arrayBuffer","includes","FDFDoc","createFromMemoryBuffer","fdf","loadTrustList","getFieldIteratorBegin","fieldIterator","hasNext","field","isValid","Field","Type","e_signature","DigitalSignatureField","createFromField","digitalSigField","verify","getSDFObj","getObjNum","signer","signTime","documentPermission","isCertification","contactInfo","location","reason","validAtTimeOfSigning","signerName","issuerField","subjectField","hasCryptographicSignature","signed","getSubFilter","subFilter","SubFilterType","e_adbe_pkcs7_detached","getSignerCertFromCMS","signerCert","getSubjectField","retrievedSubjectField","processX501DistinguishedName","processedSubjectField","e_ETSI_RFC3161","getSignatureName","getContactInfo","getSigningTime","formatPDFNetDate","getLocation","getReason","getDocumentPermissions","getVerificationStatus","verificationStatus","getDocumentStatus","documentStatus","getDigestStatus","digestStatus","getTrustStatus","trustStatus","getPermissionsStatus","permissionStatus","getDigestAlgorithm","digestAlgorithm","getDisallowedChanges","change","getTypeAsString","objnum","all","disallowedChanges","validSignerIdentity","e_trust_verified","trustVerificationResultString","trustVerificationResultBoolean","timeOfTrustVerificationEnum","trustVerificationTime","hasTrustVerificationResult","getTrustVerificationResult","trustVerificationResult","wasSuccessful","getResultString","getTimeOfTrustVerificationEnum","getTimeOfTrustVerification","epochTrustVerificationTime","formatDate","getCertPath","certPath","firstX509Cert","getIssuerField","retrievedIssuerField","processedIssuerField","lastX509Cert","getNotBeforeEpochTime","notBeforeEpochTime","getNotAfterEpochTime","notAfterEpochTime","badgeIcon","e_no_error","e_digest_verified","e_digest_verification_disabled","e_no_trust_status","e_unmodified","e_has_allowed_changes","e_permissions_verification_disabled","e_commonName","getName","fieldName","date","year","month","day","hour","minute","second","UTC","toLocaleDateString","weekday","timeZoneName","epochTime","setUTCSeconds","x501DistinguishedNameObject","processedObject","getAllAttributesAndValues","allAttributeAndValues","x501AttributeTypeAndValue","getAttributeTypeOID","objectIdentifier","getRawValue","getStringValue","translateObjectIdentifierBotanOID","objectIdentifierOIDenum","JSON","stringify","WidgetLocator","rect","show","setShow","scrollViewContainer","getScrollViewElement","handleScroll","ReactDOM","y1","x1","x2","y2","border","renderPermissionStatus","translate","e_invalidated_by_disallowed_changes","e_no_permissions_status","collapsible","instanceOf","Forms","WidgetInfo","verificationType","useSelector","selectors","isExpanded","setIsExpanded","locatorRect","setLocatorRect","signatureDetailsExpanded","setSignatureDetailsExpanded","TimeMode","useDispatch","jumpToWidget","widgets","widget","jumpToAnnotation","getRect","windowTopLeft","getDisplayModeObject","pageToWindow","windowBottomRight","titleInteraction","openSignatureModal","setSignatureValidationModalWidgetName","Fragment","onKeyPress","arrow","expanded","verificationTimeMessage","e_current","e_signing","e_timestamp","renderTrustVerification","SignaturePanel","fields","setFields","showSpinner","setShowSpinner","certificateErrorMessage","setCertificateErrorMessage","setDocument","isElementDisabled","getCertificates","getTrustLists","getCurrentLanguage","getIsRevocationCheckingEnabled","getRevocationProxyPrefix","isDisabled","onDocumentLoaded","onDocumentUnloaded","onAnnotationChanged","annotations","isInFormCreationMode","getFormFieldCreationManager","isInFormFieldCreationMode","addSignatureWidgetAnnotations","getAnnotationsList","removeAnnotations","addNonSignedFields","currentAnnotations","currentFields","annotation","SignatureWidgetAnnotation","getField","newSet","Set","removeMatchingWidget","annot","widgetFieldName","getCustomData","RectangleAnnotation","annotationManager","widgetToDelete","Id","deleteAnnotations","resetFields","getAnnotationsLoadedPromise","fieldManager","getFieldManager","data-element","renderLoadingOrErrors","ListenerType","MouseButtons","MouseButton","eventShouldStartDrag","button","isTouchEvent","targetTouches","getEventClientOffset","lastTargetTouchFallback","touches","getEventClientTouchOffset","clientX","clientY","supportsPassive","supported","_eventNames","OptionsReader","incoming","enableTouchEvents","enableMouseEvents","enableKeyboardEvents","ignoreContextMenu","enableHoverOutsideTarget","touchSlop","scrollAngleRanges","delayTouchStart","delayMouseStart","eventNames","mouse","move","contextmenu","touch","keyboard","keydown","TouchBackend","getSourceClientOffset","sourceId","nodeType","parentElement","_el$getBoundingClient","getNodeClientOffset","sourceNodes","handleTopMoveStartCapture","moveStartSourceIds","handleMoveStart","unshift","handleTopMoveStart","clientOffset","_mouseClientOffset","waitingForDelay","handleTopMoveStartDelay","handleTopMoveCapture","dragOverTargetIds","handleMove","_","targetId","handleTopMove","isDragging","angleRanges","angle","atan2","PI","inAngleRanges","sqrt","pow","abs","beginDrag","publishSource","sourceNode","getSourceId","installSourceNodeRemovalObserver","publishDragSource","dragOverTargetNodes","targetNodes","elementsAtPoint","getDropTargetElementsAtPoint","elementsFromPoint","elementsAtPointExtended","nodeId","currentNode","orderedDragOverTargetIds","ids","reverse","hover","handleTopMoveEndCapture","buttons","eventShouldEndDrag","didDrop","uninstallSourceNodeRemovalObserver","drop","endDrag","handleCancelOnEscape","getActions","sourcePreviewNodes","sourcePreviewNodeOptions","listenerTypes","isSetUp","getTopMoveStartHandler","subject","capture","passive","listenerType","evt","coords","droppedOn","elementFromPoint","childMatch","_this5","draggedSourceNode","draggedSourceNodeRemovalObserver","MutationObserver","resurrectSourceNode","observe","childList","display","removeAttribute","disconnect","createBackend","PureComponent","connect","ownProps","OutlineControls","outlines","getOutlines","activeOutlinePath","setActiveOutlinePath","up","down","outward","inward","canMove","setCanMove","nextIndexRef","isFullPDFEnabled","outlineUtils","getCanMoveState","setCanMoveState","moveOutlineUp","nextIndex","moveOutlineDown","moveOutlineOutward","moveOutlineInward","OUTLINE_CONTROLS","OUTLINE_MOVE_UP_BUTTON","OUTLINE_MOVE_DOWN_BUTTON","OUTLINE_MOVE_OUTWARD_BUTTON","OUTLINE_MOVE_INWARD_BUTTON","outline","setMultiSelected","moveOutlineBeforeTarget","moveOutlineAfterTarget","connectDragSource","connectDragPreview","connectDropTarget","isDraggedUpwards","isDraggedDownwards","Outline","forwardRef","isOutlineActive","setAddingNewOutline","isAddingNewOutline","isAnyOutlineRenaming","shouldAutoExpandOutlines","selectedOutlines","getPath","isSelected","setIsSelected","isRenaming","setIsRenaming","isChangingDest","setChangingDest","isHovered","setHovered","clearSingleClick","setClearSingleClick","elementRef","getEmptyImage","captureDraggingState","opacity","useImperativeHandle","getNode","startsWith","rgbObject","rValue","gValue","bValue","toggleOutline","onSingleClick","goToOutline","isMobile","isActive","detail","Choice","checked","marginLeft","getNestedLevel","getChildren","OutlineNested","getOutlineId","DropTarget","dropTargetMonitor","dropTargetContainer","dragObject","getItem","dragOutline","dragSourceNode","dropOutline","dropTargetNode","dropLocation","dragIndex","hoverIndex","dropTargetBoundingRect","dropTargetVerticalMiddlePoint","dropTargetClientY","getClientOffset","isOver","shallow","classList","add","fireEvent","Events","DRAG_OUTLINE","targetOutline","draggedOutline","DROP_OUTLINE","dropTargetState","dropTarget","DragSource","dragSourceMonitor","dragSourceContainer","canDrag","isIE","dragSourceState","dragSource","dragPreview","PageManipulationOverlayButtonContainer","PageManipulationOverlayButton","pageIndex","selectedPageIndexes","getSelectedThumbnailPageIndexes","ToggleElementButton","PAGE_MANIPULATION_OVERLAY_BUTTON","number","ThumbnailControls","isMoreOptionDisabled","pageDeletionConfirmationModalEnabled","isPageDeletionConfirmationModalEnabled","selectedIndexes","getThumbnailControlMenuItems","currentPage","pageThumbnailControlMenuItems","documentType","isXod","XOD","isOffice","OFFICE","LEGACY_OFFICE","BUTTONS_MAP","onClickAnnouncement","isCustomized","occurredButtons","Thumbnail","updateAnnotations","shiftKeyThumbnailPivotIndex","onFinishLoading","onLoad","onRemove","onDragStart","onDragOver","isDraggable","shouldShowControls","thumbnailSize","pageLabels","isThumbnailMultiselectEnabled","isReaderModeOrReadOnly","canLoad","isThumbnailSelectingPages","thumbnailSelectionMode","activeDocumentViewerKey","panelSelector","thumbSize","Number","setDimensions","loaded","setLoaded","loadTimeout","loadThumbnailAsync","thumbnailContainer","pageNum","viewerRotation","getRotation","loadCanvas","pageNumber","drawComplete","thumb","childElement","ratio","cssTransform","allowUseOfOptimizedThumbnail","onPagesUpdated","changes","contentChanged","moved","added","removed","isPageAdded","didPageChange","changedPage","didPageMove","movedPage","isPageRemoved","newPageCount","onRotationUpdated","useDidUpdate","pageLabel","checkboxRotateClass","active","selected","draggable","checkboxToggled","multiSelectionKeyPressed","ctrlKey","metaKey","shiftKeyPressed","shiftKey","updatedSelectedPages","setThumbnailSelectingPages","shiftKeyPivot","currSelectMinIndex","currSelectMaxIndex","thumbnailSelectionModes","lastSelectedPageIndex","setCurrentPage","getPageLabels","isReaderMode","isDocumentReadOnly","getShiftKeyThumbnailPivotIndex","getThumbnailSelectionMode","getActiveDocumentViewerKey","selectionModes","LeftPanelPageTabsMoreSmall","THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL","THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER","LeftPanelPageTabsInsertSmall","CustomLeftPanelOperations","operations","operation","LeftPanelPageTabsRotate","onRotateClockwise","onRotateCounterClockwise","InitialLeftPanelPageTabsSmall","multiPageManipulationControlsItems","childrenArray","Children","find","LeftPanelPageTabsSmall","multiPageManipulationControlsItemsSmall","LeftPanelPageTabsMore","THUMBNAILS_CONTROL_MANIPULATE_POPUP","THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER","LeftPanelPageTabsMove","moveToTop","moveToBottom","InitialLeftPanelPageTabs","LeftPanelPageTabs","LeftPanelPageTabsInsert","onInsert","LeftPanelPageTabsOperations","onReplace","onExtractPages","onDeletePages","LeftPanelPageTabsLarge","LeftPanelPageTabsContainer","widthMinusMargins","isInMobile","getPanelWidth","getLeftPanelWidth","getMultiPageManipulationControlsItems","getMultiPageManipulationControlsItemsSmall","getMultiPageManipulationControlsItemsLarge","isInDesktopOnlyMode","panelWidth","deleteModalEnabled","multiPageManipulationControlsSmall","multiPageManipulationControlsLarge","isDesktopOnlyMode","panelMinWidth","isPanelLarge","childProps","getPageString","selectedPageArray","pagesToPrint","sortedPages","prevIndex","DocumentControls","initialPagesString","pageString","setPageString","previousPageString","setPreviousPageString","enableThumbnailSelectingPages","onBlur","selectedPagesString","pages","getPageArrayFromString","pageIndexes","updatedString","pageNumberPlaceholder","arrayOf","toggleDocumentControl","mergeDocument","srcToMerge","mergeToPage","shouldFireEvent","LOADING_MODAL","mergeResults","DOCUMENT_MERGED","ThumbnailsPanel","isElementOpen","getIsThumbnailMergingEnabled","getIsThumbnailReorderingEnabled","getIsMultipleViewerMerging","openingPageManipulationOverlayByRightClickEnabled","isLeftPanelOpen","totalPages","isThumbnailMergingEnabled","isThumbnailReorderingEnabled","isMultipleViewerMerging","isThumbnailControlDisabled","isThumbnailSliderDisabled","totalPagesFromSecondaryDocumentViewer","isRightClickEnabled","listRef","pendingThumbs","thumbs","afterMovePageNumber","isOfficeEditor","setIsOfficeEditor","setCanLoad","setHeight","setWidth","draggingOverPageIndex","setDraggingOverPageIndex","isDraggingToPreviousPage","setDraggingToPreviousPage","numberOfColumns","setNumberOfColumns","setIsDragging","setThumbnailSize","lastTimeTriggered","setLastTimeTriggered","globalIndex","setGlobalIndex","pageCount","activeThumbRenders","thumbContainer","pageWidth","getPageWidth","pageHeight","getThumbnailSize","getPageHeight","annotCanvas","ctx","getContext","zoom","getCompleteRotation","multiplier","getCanvasMultiplier","setAnnotationCanvasTransform","overrideCanvas","overridePageRotation","overridePageCanvas","debounce","drawAnnotations","debouncedDraw","onBeginRendering","onFinishedRendering","needsMoreRendering","onPageComplete","updatedPagesIndexes","Listable","onPageNumberUpdated","onDragEnd","scrollToRowHelper","time","getTime","thumbnail","pageX","pageY","hoverAreaHeight","scrollDown","scrollUp","draggingSelectedPage","pagesToMove","THUMBNAIL_DRAGGED","dataTransfer","setData","setDragImage","Image","dropEffect","effectAllowed","frameElement","extractedDataPromise","pagesExtracted","onDrop","externalPageWebViewerFrameId","files","insertTo","isIE11","getData","viewerID","mergingDocument","currentPageIndex","otherWebViewerIframe","contentWindow","docToMerge","filename","targetPageNumber","pageNumbersToMove","updatedPagesNumbers","THUMBNAIL_DROPPED","pageNumbersBeforeMove","pagesNumbersAfterMove","numberOfPagesMoved","thumbIsLoaded","thumbIsPending","removeFromPendingThumbs","getPendingThumbIndex","cancelLoadThumbnail","findIndex","thumbStatus","canvases","renderThumbnails","columnsOfThumbnails","row","allowPageOperationsUI","thumbIndex","allowDragAndDrop","showPlaceHolder","setPageManipulationOverlayAlternativePosition","openElements","updateNumberOfColumns","thumbnailHeight","thumbnailAutoScrollAreaStyle","hideTooltipShortcut","aria-valuemin","aria-valuemax","aria-valuenow","step","bounds","measureRef","defaultLabel","isMultiSelectionMode","setSelected","onSave","Bookmark","isEditing","setIsEditing","bookmarkText","setBookmarkText","onSaveBookmark","onCancelBookmark","BookmarksPanel","BOOKMARK_PANEL","getBookmarks","isBookmarkIconShortcutVisible","bookmarks","isAddingNewBookmark","setAddingNewBookmark","setMultiSelectionMode","selectingBookmarks","setSelectingBookmarks","setBookmarkIconShortcutVisibility","bm","onRemoveBookmarks","confirmationWarning","removeBookmark","BOOKMARK_MULTI_SELECT","BOOKMARK_SHORTCUT_OPTION","isSwitch","newText","addBookmark","editBookmark","val","BOOKMARK_ADD_NEW_BUTTON_CONTAINER","BOOKMARK_ADD_NEW_BUTTON","getActualFileName","match","renderAttachment","onClickCallback","showFileIdProcessSpinner","fileExtension","pop","toUpperCase","initialFilesDefault","embeddedFiles","fileAttachmentAnnotations","FileAttachmentPanel","initialFiles","fileAttachments","setFileAttachments","isMultiTab","getIsMultiTab","tabManager","getTabManager","setFileIdProcessSpinner","updateFileAttachments","getFileAttachments","attachments","entries","attachmentPanelItemOnClick","fileAttachmentAnnot","getFileData","blob","addTab","newTabId","LEFT_PANEL","setActiveTab","trigger","getEmbeddedFileData","fileObject","fileAttachmentAnnotsPerPage","selectAnnotation","isCallingCanDrop","DropTargetMonitorImpl","internalMonitor","listener","canDropOnTarget","isOverTarget","getItemType","getDropResult","getInitialClientOffset","getInitialSourceClientOffset","getDifferenceFromInitialOffset","TargetConnector","backend","clearDropTarget","dropTargetOptions","dropTargetRef","didChange","didHandlerIdChange","didDropTargetChange","didOptionsChange","disconnectDropTarget","lastConnectedHandlerId","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","newHandlerId","dropTargetOptionsInternal","registerTarget","registry","getRegistry","addTarget","removeTarget","registerSource","addSource","removeSource","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","canDragSource","isDraggingSource","getTargetIds","isSourcePublic","subscribeToOffsetChange","SourceConnector","clearDragSource","dragSourceOptions","dragSourceRef","reconnectDragSource","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","lastConnectedDragSource","lastConnectedDragSourceOptions","dragSourceUnsubscribe","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","useDragLayer","_useCollector2","ALLOWED_SPEC_METHODS","TargetImpl","spec","canDrop","createTargetFactory","createTarget","REQUIRED_SPEC_METHODS","SourceImpl","globalMonitor","createSourceFactory","createSource","Input","_a","_b","messageText","fillWidth","wrapperClassName","padMessageText","onFocus","rightElement","leftElement","_c","focused","handleOnFocus","handleOnBlur","rightIcon","icon","wrapperClass","mainClass","inputClass","LeftPanelTabs","panel","activePanel","showPortfolio","customPanels","isLeftPanelTabsDisabled","setActiveLeftPanel","notesInLeftPanel","PORTFOLIO_PANEL","PORTFOLIO_PANEL_BUTTON","NOTES_PANEL","tab","disabledCustomPanelTabs","array","mapDispatchToProps","getActiveLeftPanel","getCustomPanels","getDisabledCustomPanelTabs","getNotesInLeftPanel","withTranslation","PortfolioContext","portfolioItem","isPortfolioRenaming","setPortfolioRenaming","PortfolioItemContent","setAddingNewFolder","addNewFolder","refreshPortfolio","renamePortfolioItem","removePortfolioItem","openPortfolioItem","downloadPortfolioItem","isNameDuplicated","nameWithoutExtension","extension","isFolder","portfolioEditName","setPortfolioEditName","onAddFolder","onRenamePortfolioItem","onCancelPortfolio","isOpenableFile","movePortfolioInward","movePortfolioBeforeTarget","movePortfolioAfterTarget","PortfolioItem","setActivePortfolioItem","isPortfolioItemActive","isAddingNewFolder","togglePortfolioItem","hasChildren","PortfolioItemNested","dragPortfolioItem","dropPortfolioItem","layerStyles","getItemStyles","initialOffset","transform","WebkitTransform","PortfolioDragLayer","dragLayerState","itemType","renderDragItemPreview","PortfolioPanel","getPortfolio","portfolioFiles","activePortfolioItem","fileInputRef","onAddFile","click","addNewFile","fileName","pdfDoc","addFile","newName","renamePortfolioFile","getPortfolioFiles","setPortfolio","downloadPortfolioFile","dragItem","dropItem","log","moveFileInArray","dragItemId","dropItemId","moveDirection","fileArray","fromIndex","dropItemIndex","moveToIndex","MoveDirection","order","reorderPortfolioFile","PORTFOLIO_ADD_FILE","Provider","fileToRemove","deletePortfolioFile","enableMultiTab","addPortfolioTab","DndProvider","isMobileDevice","TouchBackEnd","HTML5Backend","OutlinesDragLayer","renderDragItem","OutlinesPanel","OUTLINE_PANEL","isOutlineControlVisible","getOutlineEditingEnabled","outlineControlVisibility","outlineEditingEnabled","defaultDestText","areaDestinationText","defaultDestCoord","setCurrentDestText","currentDestCoord","setCurrentDestCoord","setCurrentDestPage","setOutlineEditable","setAnyOutlineRenaming","setMultiSelectMode","setSelectedOutlines","nextPathRef","TOOL_NAME","tool","getTool","isAnyEditing","values","onSetDestination","onOutlinesBookmarksChanged","setOutlines","getCurrentDestViewerCoord","getViewerCoordinates","outlineName","tmp","addRootOutline","nextPath","clearOutlineDestination","defaultTool","setOutlineDestination","generalMoveOutlineAction","dragPath","dropPath","path","moveOutlineInTarget","setOutlineName","outlinesToRemove","fullIndex","deleteOutline","OUTLINE_MULTI_SELECT","OUTLINE_ADD_NEW_BUTTON_CONTAINER","OUTLINE_ADD_NEW_BUTTON","memo","LeftPanel","isMobileSize","isTabletAndMobile","isTabletAndMobileSize","getCurrentToolbarGroup","LOGO_BAR","getFeatureFlags","getTopHeadersHeight","getBottomHeadersHeight","currentToolbarGroup","isHeaderOpen","isToolsHeaderOpen","isOfficeEditorToolsHeaderOpen","isOpen","currentWidth","isBookmarkPanelEnabled","isMultiTabActive","isLogoBarEnabled","featureFlags","topHeadersHeight","bottomHeadersHeight","getDisplay","setBookmarkShortcutToggleOnFunction","setBookmarkShortcutToggleOffFunction","setUserBookmarks","legacyToolsHeaderOpen","legacyAllHeadersHidden","wrapperStyle","customizableUI","horizontalHeadersHeight","Panel","closeElements","LayersPanel","LazyLoadWrapper","LazyLoadComponents","NotesPanel","currentLeftPanelWidth","CustomElement","ResizeBar","maxAllowedWidth","setLeftPanelWidth","emptyImage","src"],"mappings":"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","file":"chunks/21.chunk.js","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./LeftPanelPageTabsContainer.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","import extractPagesWithAnnotations from 'helpers/extractPagesWithAnnotations';\nimport core from 'core';\nimport { saveAs } from 'file-saver';\nimport actions from 'actions';\nimport i18next from 'i18next';\nimport { workerTypes } from 'constants/types';\nimport { redactionTypeMap } from 'constants/redactionTypes';\nimport DataElements from 'constants/dataElement';\nimport { createAnnouncement } from './accessibility';\n\nconst getNewRotation = (curr, counterClockwise = false) => {\n  const { E_0, E_90, E_180, E_270 } = window.Core.PageRotation;\n  switch (curr) {\n    case E_270:\n      return counterClockwise ? E_180 : E_0;\n    case E_180:\n      return counterClockwise ? E_90 : E_270;\n    case E_90:\n      return counterClockwise ? E_0 : E_180;\n    default:\n      return counterClockwise ? E_270 : E_90;\n  }\n};\n\nconst canRotateLoadedDocument = () => {\n  const doc = core.getDocument();\n  const docType = doc?.type;\n\n  return (\n    workerTypes.PDF === docType ||\n    workerTypes.IMAGE === docType ||\n    (docType === workerTypes.WEBVIEWER_SERVER && !doc.isWebViewerServerDocument())\n  );\n};\n\nconst rotatePages = (pageNumbers, counterClockwise) => {\n  if (canRotateLoadedDocument()) {\n    const rotation = counterClockwise ? window.Core.PageRotation.E_270 : window.Core.PageRotation.E_90;\n    pageNumbers.forEach((index) => {\n      core.rotatePages([index], rotation);\n    });\n  } else {\n    const docViewer = core.getDocumentViewer();\n    const currentRotations = docViewer.getPageRotations();\n    for (const page of pageNumbers) {\n      docViewer.setRotation(getNewRotation(currentRotations[page], counterClockwise), page);\n    }\n  }\n};\n\nconst rotateClockwise = (pageNumbers) => {\n  rotatePages(pageNumbers, false);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.rotatedClockwise')} ${i18next.t('action.rotationIs')} ${(core.getDocument().getPageRotation(core.getCurrentPage()) + 90) % 360} degrees`);\n};\n\nconst rotateCounterClockwise = (pageNumbers) => {\n  rotatePages(pageNumbers, true);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.rotatedCounterClockwise')} ${i18next.t('action.rotationIs')} ${(core.getDocument().getPageRotation(core.getCurrentPage()) + 270) % 360} degrees`);\n};\n\nconst insertAbove = (pageNumbers, width, height) => {\n  core.insertBlankPages(pageNumbers, width, height);\n};\n\nconst insertBelow = (pageNumbers, width, height) => {\n  core.insertBlankPages(pageNumbers.map((i) => i + 1), width, height);\n};\n\nconst replace = (dispatch) => {\n  dispatch(actions.closeElement(DataElements.PAGE_MANIPULATION_OVERLAY));\n  dispatch(actions.openElement('pageReplacementModal'));\n};\n\nconst extractPages = (pageNumbers, dispatch) => {\n  const message = i18next.t('warning.extractPage.message');\n  const title = i18next.t('warning.extractPage.title');\n  const confirmBtnText = i18next.t('warning.extractPage.confirmBtn');\n  const secondaryBtnText = i18next.t('warning.extractPage.secondaryBtn');\n  const extractAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.extracted')}`;\n  const deleteAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.deleted')}`;\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: () => extractPagesWithAnnotations(pageNumbers).then((file) => {\n      saveAs(file, 'extractedDocument.pdf');\n      createAnnouncement(extractAnnouncement + deleteAnnouncement);\n    }),\n    secondaryBtnText,\n    onSecondary: () => {\n      extractPagesWithAnnotations(pageNumbers).then((file) => {\n        saveAs(file, 'extractedDocument.pdf');\n        core.removePages(pageNumbers).then(() => {\n          dispatch(actions.setSelectedPageThumbnails([]));\n        });\n        createAnnouncement(extractAnnouncement);\n      });\n    },\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst deletePages = (pageNumbers, dispatch, isModalEnabled = true) => {\n  const deleteAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.deleted')}`;\n  if (isModalEnabled) {\n    let message = i18next.t('warning.deletePage.deleteMessage');\n    const title = i18next.t('warning.deletePage.deleteTitle');\n    const confirmBtnText = i18next.t('action.ok');\n\n    let warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: () => core.removePages(pageNumbers).then(() => {\n        dispatch(actions.setSelectedPageThumbnails([]));\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex());\n        createAnnouncement(deleteAnnouncement);\n      }),\n    };\n\n    if (core.getDocumentViewer().getPageCount() === pageNumbers.length) {\n      message = i18next.t('warning.deletePage.deleteLastPageMessage');\n\n      warning = {\n        message,\n        title,\n        confirmBtnText,\n        onConfirm: () => Promise.resolve(),\n      };\n    }\n\n    dispatch(actions.showWarningMessage(warning));\n  } else {\n    core.removePages(pageNumbers).then(() => {\n      dispatch(actions.setSelectedPageThumbnails([]));\n      dispatch(actions.setShiftKeyThumbnailsPivotIndex());\n      createAnnouncement(deleteAnnouncement);\n    });\n  }\n};\n\nconst movePagesToBottom = (pageNumbers) => {\n  core.movePages(pageNumbers, core.getTotalPages() + 1);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.movedToBottomOfDocument')}`);\n};\n\nconst movePagesToTop = (pageNumbers) => {\n  core.movePages(pageNumbers, 0);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.movedToTopofDocument')}`);\n};\n\nconst noPagesSelectedWarning = (pageNumbers, dispatch) => {\n  if (pageNumbers.length === 0) {\n    const title = i18next.t('warning.selectPage.selectTitle');\n    const message = i18next.t('warning.selectPage.selectMessage');\n    const confirmBtnText = i18next.t('action.ok');\n\n    const warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: () => Promise.resolve(),\n      keepOpen: ['leftPanel'],\n    };\n\n    dispatch(actions.showWarningMessage(warning));\n    return true;\n  }\n  return false;\n};\n\nconst exitPageInsertionWarning = (closeModal, dispatch) => {\n  const title = i18next.t('insertPageModal.warning.title');\n  const message = i18next.t('insertPageModal.warning.message');\n  const confirmBtnText = i18next.t('action.ok');\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: closeModal,\n    keepOpen: ['leftPanel'],\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst exitPageReplacementWarning = (closeModal, dispatch) => {\n  const title = i18next.t('option.pageReplacementModal.warning.title');\n  const message = i18next.t('option.pageReplacementModal.warning.message');\n  const confirmBtnText = i18next.t('action.ok');\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: closeModal,\n    keepOpen: ['leftPanel'],\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst redactPages = (pageNumbers, redactionStyles) => {\n  core.applyRedactions(createPageRedactions(pageNumbers, redactionStyles));\n};\n\nconst createPageRedactions = (pageNumbers, redactionStyles) => {\n  const annots = [];\n  const document = core.getDocument();\n  for (const page of pageNumbers) {\n    const pageInfo = document.getPageInfo(page);\n    const pageRotation = document.getPageRotation(page);\n    if (pageInfo) {\n      let width;\n      let height;\n      if (pageRotation === 90 || pageRotation === 270) {\n        width = pageInfo.height;\n        height = pageInfo.width;\n      } else {\n        width = pageInfo.width;\n        height = pageInfo.height;\n      }\n      const redaction = new window.Core.Annotations.RedactionAnnotation({\n        PageNumber: page,\n        Rect: new window.Core.Annotations.Rect(0, 0, width, height),\n        ...redactionStyles\n      });\n      redaction.type = redactionTypeMap['FULL_PAGE'];\n      redaction.setCustomData('trn-redaction-type', redactionTypeMap['FULL_PAGE']);\n      redaction.Author = core.getCurrentUser();\n      annots.push(redaction);\n    }\n  }\n  core.getAnnotationManager().addAnnotations(annots);\n  core.getAnnotationManager().drawAnnotationsFromList(annots);\n  return annots;\n};\n\nconst replacePages = async (sourceDocument, pagesToRemove, pagesToReplaceIntoDocument) => {\n  const documentLoadedInViewer = core.getDocument();\n  const pageCountOfLoadedDocument = documentLoadedInViewer.getPageCount();\n  const pagesToRemoveFromOriginal = pagesToRemove.sort((a, b) => a - b);\n\n  // If document to replace into has only one page, or we are replacing all pages\n  // then we can insert pages at the end, and then remove the pages to avoid an error of removing all pages\n  if (pageCountOfLoadedDocument === 1 || pagesToRemoveFromOriginal.length === pageCountOfLoadedDocument) {\n    await documentLoadedInViewer.insertPages(sourceDocument, pagesToReplaceIntoDocument);\n    await documentLoadedInViewer.removePages(pagesToRemoveFromOriginal);\n  } else {\n    // If document to replace into has > 1 page we need insert the new pages at the spot of the first removed page\n    // pagesToRemoveFromOriginal is sorted in ascending order. Interleaving pages would be complex.\n    await documentLoadedInViewer.removePages(pagesToRemoveFromOriginal);\n    await documentLoadedInViewer.insertPages(sourceDocument, pagesToReplaceIntoDocument, pagesToRemoveFromOriginal[0]);\n  }\n};\n\nconst insertPages = async (sourceDocument, pagesToInsert, insertBeforeThisPage = null) => {\n  const documentLoadedInViewer = core.getDocument();\n  await documentLoadedInViewer.insertPages(sourceDocument, pagesToInsert, insertBeforeThisPage);\n};\n\nexport {\n  rotateClockwise,\n  rotateCounterClockwise,\n  insertAbove,\n  insertBelow,\n  replace,\n  extractPages,\n  deletePages,\n  movePagesToBottom,\n  movePagesToTop,\n  noPagesSelectedWarning,\n  redactPages,\n  createPageRedactions,\n  replacePages,\n  insertPages,\n  exitPageInsertionWarning,\n  exitPageReplacementWarning\n};","export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import React from 'react';\n\nconst OutlineContext = React.createContext();\n\nexport default OutlineContext;","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","import { invariant } from '@react-dnd/invariant';\nimport { cloneElement, isValidElement } from 'react';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","export const ItemTypes = {\n  OUTLINE: 'outline',\n  PORTFOLIO: 'portfolio',\n};\n\nexport const DropLocation = {\n  ON_TARGET_HORIZONTAL_MIDPOINT: 'onTargetHorizontalMidPoint',\n  ABOVE_TARGET: 'aboveTarget',\n  BELOW_TARGET: 'belowTarget',\n  INITIAL: 'initial',\n};\n\nexport const BUFFER_ROOM = 8;","/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1)Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2)Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n * 5) Added support for injecting custom window object\n **/\nexport default function createDetectElementResize(nonce, hostWindow) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window;\n\n  if (typeof hostWindow !== 'undefined') {\n    _window = hostWindow;\n  } else if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = global;\n  }\n\n  var attachEvent = typeof _window.document !== 'undefined' && _window.document.attachEvent;\n\n  if (!attachEvent) {\n    var requestFrame = function () {\n      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n\n      return function (fn) {\n        return raf(fn);\n      };\n    }();\n\n    var cancelFrame = function () {\n      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n      return function (id) {\n        return cancel(id);\n      };\n    }();\n\n    var resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    var checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n    };\n\n    var scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n\n      this.__resizeRAF__ = requestFrame(function () {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n\n          element.__resizeListeners__.forEach(function (fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n    /* Detect CSS Animations support to detect element display/re-attach */\n\n\n    var animation = false,\n        keyframeprefix = '',\n        animationstartevent = 'animationstart',\n        domPrefixes = 'Webkit Moz O ms'.split(' '),\n        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n        pfx = '';\n    {\n      var elm = _window.document.createElement('fakeelement');\n\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n    var animationName = 'resizeanim';\n    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n\n        var elementStyle = _window.getComputedStyle(element);\n\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        var resizeTriggersHtml = '<div class=\"expand-trigger\"><div></div></div>' + '<div class=\"contract-trigger\"></div>';\n\n        if (window.trustedTypes) {\n          var staticPolicy = trustedTypes.createPolicy('react-virtualized-auto-sizer', {\n            createHTML: function createHTML() {\n              return resizeTriggersHtml;\n            }\n          });\n          element.__resizeTriggers__.innerHTML = staticPolicy.createHTML('');\n        } else {\n          element.__resizeTriggers__.innerHTML = resizeTriggersHtml;\n        }\n\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n        /* Listen for a css animation to detect element display/re-attach */\n\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n\n          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {// Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/sass-loader/dist/cjs.js!./bookmarksOutlinesShared.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Spinner.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.spinner{border-top:5px solid var(--border);border:5px solid var(--border);border-top-color:var(--focus-border);border-radius:50%;-webkit-animation:spin 1.2s ease infinite;animation:spin 1.2s ease infinite}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React from 'react';\nimport './Spinner.scss';\n\nconst Spinner = ({ height = '50px', width = '54px' }) => {\n  const spinnerStyle = {\n    height,\n    width,\n  };\n\n  return (\n    <div className=\"spinner\" style={spinnerStyle}></div>\n  );\n};\n\nexport default Spinner;","import Spinner from './Spinner';\n\nexport default Spinner;\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport DataElementWrapper from 'components/DataElementWrapper';\n\nimport useOnClickOutside from 'hooks/useOnClickOutside';\nimport getOverlayPositionBasedOn from 'helpers/getOverlayPositionBasedOn';\n\nimport './MoreOptionsContextMenuPopup.scss';\nimport Button from '../Button';\nimport getRootNode from 'helpers/getRootNode';\n\nconst propTypes = {\n  type: PropTypes.oneOf(['bookmark', 'outline', 'portfolio']).isRequired,\n  anchorButton: PropTypes.string.isRequired,\n  shouldDisplayDeleteButton: PropTypes.bool,\n  onClosePopup: PropTypes.func.isRequired,\n  onRenameClick: PropTypes.func,\n  onSetDestinationClick: PropTypes.func,\n  onDownloadClick: PropTypes.func,\n  onDeleteClick: PropTypes.func,\n  onOpenClick: PropTypes.func,\n};\n\nconst MoreOptionsContextMenuPopup = ({\n  type,\n  anchorButton,\n  shouldDisplayDeleteButton,\n  onClosePopup,\n  onRenameClick,\n  onSetDestinationClick,\n  onDownloadClick,\n  onDeleteClick,\n  onOpenClick,\n}) => {\n  const [t] = useTranslation();\n  const containerRef = useRef(null);\n  const [position, setPosition] = useState({ left: -100, right: 'auto', top: 'auto' });\n\n  const Portal = ({ children, position }) => {\n    const mount = getRootNode().querySelector('#outline-edit-popup-portal');\n    mount.style.position = 'absolute';\n    mount.style.top = position.top === 'auto' ? position.top : `${position.top}px`;\n    mount.style.left = position.left === 'auto' ? position.left : `${position.left}px`;\n    mount.style.right = position.right === 'auto' ? position.right : `${position.right}px`;\n    mount.style.zIndex = 999;\n\n    return createPortal(children, mount);\n  };\n\n  useEffect(() => {\n    const position = getOverlayPositionBasedOn(anchorButton, containerRef);\n    setPosition(position);\n  }, [anchorButton]);\n\n  const onClickOutside = useCallback((e) => {\n    if (!containerRef?.current.contains(e.target)) {\n      onClosePopup();\n    }\n  });\n\n  useOnClickOutside(containerRef, onClickOutside);\n\n  return (\n    <Portal position={position}>\n      <DataElementWrapper\n        ref={containerRef}\n        className=\"more-options-context-menu-popup\"\n        dataElement={`${type}EditPopup`}\n      >\n        {type === 'portfolio' && onOpenClick &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}OpenFileButton`}\n            img=\"icon-portfolio-file\"\n            label={t('portfolio.openFile')}\n            ariaLabel={t('portfolio.openFile')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onOpenClick();\n            }}\n          />\n        }\n        <Button\n          className=\"option-button\"\n          dataElement={`${type}RenameButton`}\n          img=\"ic_edit_page_24px\"\n          label={t('action.rename')}\n          ariaLabel={t('action.rename')}\n          onClick={(e) => {\n            e.stopPropagation();\n            onRenameClick();\n          }}\n        />\n        {type === 'outline' &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}SetDestinationButton`}\n            img=\"icon-thumbtack\"\n            label={t('action.setDestination')}\n            ariaLabel={t('action.setDestination')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onSetDestinationClick();\n            }}\n          />\n        }\n        {type === 'portfolio' &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}DownloadButton`}\n            img=\"icon-download\"\n            label={t('action.download')}\n            ariaLabel={t('action.download')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onDownloadClick();\n            }}\n          />\n        }\n        {shouldDisplayDeleteButton &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}DeleteButton`}\n            img=\"icon-delete-line\"\n            label={t('action.delete')}\n            ariaLabel={t('action.delete')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onDeleteClick();\n            }}\n          />\n        }\n      </DataElementWrapper>\n    </Portal>\n  );\n};\n\nMoreOptionsContextMenuPopup.propTypes = propTypes;\n\nexport default MoreOptionsContextMenuPopup;\n","import MoreOptionsContextMenuPopup from './MoreOptionsContextMenuPopup';\n\nexport default MoreOptionsContextMenuPopup;\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isFunction, noop } from './utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nexport var Disposable = /*#__PURE__*/function () {\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"action\", void 0);\n\n    this.action = isFunction(action) ? action : noop;\n  }\n  /** Performs the task of cleaning up resources. */\n\n\n  _createClass(Disposable, [{\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.action();\n        this.isDisposed = true;\n      }\n    }\n  }], [{\n    key: \"isDisposable\",\n    value:\n    /**\n     * Gets the disposable that does nothing when disposed.\n     */\n\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n    function isDisposable(d) {\n      return Boolean(d && isFunction(d.dispose));\n    }\n  }, {\n    key: \"_fixup\",\n    value: function _fixup(result) {\n      return Disposable.isDisposable(result) ? result : Disposable.empty;\n    }\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(action) {\n      return new Disposable(action);\n    }\n  }]);\n\n  return Disposable;\n}();\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\n_defineProperty(Disposable, \"empty\", {\n  dispose: noop\n});\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"disposables\", void 0);\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"current\", void 0);\n  }\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value:\n    /**\n     * Gets the underlying disposable.\n     * @returns {Any} the underlying disposable.\n     */\n    function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\nimport { isPlainObject } from './utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nimport hoistStatics from 'hoist-non-react-statics';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer = /*#__PURE__*/function (_Component) {\n    _inherits(DragDropContainer, _Component);\n\n    var _super = _createSuper(DragDropContainer);\n\n    function DragDropContainer(props) {\n      var _this;\n\n      _classCallCheck(this, DragDropContainer);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"decoratedRef\", createRef());\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerId\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerMonitor\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerConnector\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handler\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"disposable\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"currentType\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n        var nextState = _this.getCurrentState();\n\n        if (!shallowEqual(nextState, _this.state)) {\n          _this.setState(nextState);\n        }\n      });\n\n      _this.disposable = new SerialDisposable();\n\n      _this.receiveProps(props);\n\n      _this.dispose();\n\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: \"getHandlerId\",\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: \"getDecoratedComponentInstance\",\n      value: function getDecoratedComponentInstance() {\n        invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n        return this.decoratedRef.current;\n      }\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.disposable = new SerialDisposable();\n        this.currentType = undefined;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!arePropsEqual(this.props, prevProps)) {\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.dispose();\n      }\n    }, {\n      key: \"receiveProps\",\n      value: function receiveProps(props) {\n        if (!this.handler) {\n          return;\n        }\n\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: \"receiveType\",\n      value: function receiveType(type) {\n        if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n          return;\n        }\n\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            _registerHandler2 = _slicedToArray(_registerHandler, 2),\n            handlerId = _registerHandler2[0],\n            unregister = _registerHandler2[1];\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n          handlerIds: [handlerId]\n        });\n        this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.disposable.dispose();\n\n        if (this.handlerConnector) {\n          this.handlerConnector.receiveHandlerId(null);\n        }\n      }\n    }, {\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        if (!this.handlerConnector) {\n          return {};\n        }\n\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n        if (process.env.NODE_ENV !== 'production') {\n          invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return _jsx(DndContext.Consumer, {\n          children: function children(_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return _jsx(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }), void 0);\n          }\n        }, void 0);\n      }\n    }, {\n      key: \"receiveDragDropManager\",\n      value: function receiveDragDropManager(dragDropManager) {\n        if (this.manager !== undefined) {\n          return;\n        }\n\n        invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        if (dragDropManager === undefined) {\n          return;\n        }\n\n        this.manager = dragDropManager;\n        this.handlerMonitor = createMonitor(dragDropManager);\n        this.handlerConnector = createConnector(dragDropManager.getBackend());\n        this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n      }\n    }]);\n\n    return DragDropContainer;\n  }(Component);\n\n  _defineProperty(DragDropContainer, \"DecoratedComponent\", DecoratedComponent);\n\n  _defineProperty(DragDropContainer, \"displayName\", \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\"));\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from 'components/Icon';\n\nimport './SignatureIcon.scss';\n\nconst propTypes = {\n  badge: PropTypes.string,\n  size: PropTypes.string,\n};\n\nconst SignatureIcon = ({ badge, size = 'medium' }) => (\n  <div className=\"signature-icon\">\n    {badge && <Icon glyph={badge} className={`badge ${size}`} />}\n  </div>\n);\n\nSignatureIcon.propTypes = propTypes;\n\nexport default SignatureIcon;\n","import SignatureIcon from './SignatureIcon';\n\nexport default SignatureIcon;\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport core from 'core';\n\nimport Button from '../Button';\nimport MoreOptionsContextMenuPopup from '../MoreOptionsContextMenuPopup';\nimport OutlineContext from '../Outline/Context';\nimport './OutlineContent.scss';\n\nconst propTypes = {\n  text: PropTypes.string.isRequired,\n  outlinePath: PropTypes.string,\n  isAdding: PropTypes.bool,\n  isOutlineRenaming: PropTypes.bool,\n  setOutlineRenaming: PropTypes.func,\n  isOutlineChangingDest: PropTypes.bool,\n  setOutlineChangingDest: PropTypes.func,\n  setIsHovered: PropTypes.func,\n  onCancel: PropTypes.func,\n  textColor: PropTypes.string,\n};\n\nconst OutlineContent = ({\n  text,\n  outlinePath,\n  isAdding,\n  isOutlineRenaming,\n  setOutlineRenaming,\n  isOutlineChangingDest,\n  setOutlineChangingDest,\n  setIsHovered,\n  onCancel,\n  textColor,\n}) => {\n  const {\n    currentDestPage,\n    currentDestText,\n    editingOutlines,\n    setEditingOutlines,\n    isMultiSelectMode,\n    isOutlineEditable,\n    addNewOutline,\n    renameOutline,\n    updateOutlineDest,\n    updateOutlines,\n    removeOutlines,\n  } = useContext(OutlineContext);\n\n  const [t] = useTranslation();\n  const TOOL_NAME = 'OutlineDestinationCreateTool';\n\n  const [isDefault, setIsDefault] = useState(false);\n  const [outlineText, setOutlineText] = useState(text);\n  const [isContextMenuOpen, setContextMenuOpen] = useState(false);\n  const inputRef = useRef();\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding) {\n        onAddOutline();\n      }\n      if (isOutlineRenaming && !isRenameButtonDisabled()) {\n        onRenameOutline();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelOutline();\n    }\n  };\n\n  const onAddOutline = () => {\n    addNewOutline(outlineText.trim() === '' ? '' : outlineText);\n  };\n\n  const onRenameOutline = () => {\n    setOutlineRenaming(false);\n    renameOutline(outlinePath, outlineText);\n  };\n\n  const onCancelOutline = () => {\n    updateOutlines();\n    if (isOutlineRenaming) {\n      setOutlineRenaming(false);\n      setOutlineText(text);\n    }\n    if (isOutlineChangingDest) {\n      setOutlineChangingDest(false);\n    }\n    if (isAdding) {\n      onCancel();\n    }\n  };\n\n  const isRenameButtonDisabled = () => {\n    return !outlineText || text === outlineText;\n  };\n\n  useEffect(() => {\n    if (outlineText !== text) {\n      setOutlineText(text);\n    }\n  }, [text]);\n\n  useEffect(() => {\n    if (isAdding || isOutlineRenaming) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    setIsDefault(!isAdding && !isOutlineRenaming && !isOutlineChangingDest);\n  }, [isOutlineRenaming, isOutlineChangingDest]);\n\n  useEffect(() => {\n    const editingOutlinesClone = { ...editingOutlines };\n    const isOutlineEditing = isOutlineRenaming || isOutlineChangingDest;\n    if (isOutlineEditing) {\n      editingOutlinesClone[outlinePath] = (isOutlineEditing);\n    } else {\n      delete editingOutlinesClone[outlinePath];\n    }\n    setEditingOutlines({ ...editingOutlinesClone });\n  }, [isOutlineRenaming, isOutlineChangingDest]);\n\n  useEffect(() => {\n    if (!isAdding) {\n      setIsHovered(isContextMenuOpen);\n    }\n  }, [isContextMenuOpen]);\n\n  const textStyle = {\n    color: textColor || 'auto'\n  };\n\n  return (\n    <div className=\"bookmark-outline-label-row\">\n      {isAdding &&\n        <div className=\"bookmark-outline-label\">\n          {t('component.newOutlineTitle')}\n        </div>\n      }\n\n      {isDefault &&\n        <>\n          <div\n            className=\"bookmark-outline-text outline-text\"\n            onDoubleClick={() => {\n              if (isOutlineEditable) {\n                setOutlineRenaming(true);\n              }\n            }}\n            style={textStyle}\n          >\n            {text}\n          </div>\n\n          {isOutlineEditable &&\n            <Button\n              className=\"bookmark-outline-more-button\"\n              dataElement={`outline-more-button-${outlinePath}`}\n              img=\"icon-tool-more\"\n              tabIndex={-1}\n              onClick={(e) => {\n                e.stopPropagation();\n                setContextMenuOpen(true);\n              }}\n            />\n          }\n          {isContextMenuOpen &&\n            <MoreOptionsContextMenuPopup\n              type={'outline'}\n              anchorButton={`outline-more-button-${outlinePath}`}\n              shouldDisplayDeleteButton={!isMultiSelectMode}\n              onClosePopup={() => setContextMenuOpen(false)}\n              onRenameClick={() => {\n                setContextMenuOpen(false);\n                setOutlineRenaming(true);\n              }}\n              onSetDestinationClick={() => {\n                setContextMenuOpen(false);\n                setOutlineChangingDest(true);\n                core.setToolMode(TOOL_NAME);\n              }}\n              onDeleteClick={() => {\n                setContextMenuOpen(false);\n                removeOutlines([outlinePath]);\n              }}\n            />\n          }\n        </>\n      }\n\n      {isOutlineChangingDest &&\n        <div\n          className=\"bookmark-outline-text outline-text\"\n          style={textStyle}\n        >\n          {text}\n        </div>\n      }\n\n      {(isAdding || isOutlineRenaming) &&\n        <input\n          type=\"text\"\n          name=\"outline\"\n          ref={inputRef}\n          className=\"bookmark-outline-input\"\n          placeholder={t('component.outlineTitle')}\n          aria-label={t('action.name')}\n          value={outlineText}\n          onKeyDown={handleKeyDown}\n          onChange={(e) => setOutlineText(e.target.value)}\n        />\n      }\n\n      {(isAdding || isOutlineChangingDest) &&\n        <div className=\"outline-destination\">\n          {t('component.destination')}: {t('component.bookmarkPage')} {currentDestPage},\n          <span style={{ fontStyle: 'italic' }}> {currentDestText}</span>\n        </div>\n      }\n\n      {(isAdding || isOutlineRenaming || isOutlineChangingDest) &&\n        <div className=\"bookmark-outline-editing-controls\">\n          <Button\n            className=\"bookmark-outline-cancel-button\"\n            label={t('action.cancel')}\n            onClick={onCancelOutline}\n          />\n          {isAdding &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.add')}\n              isSubmitType={true}\n              onClick={onAddOutline}\n            />\n          }\n          {isOutlineRenaming &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.save')}\n              isSubmitType={true}\n              disabled={isRenameButtonDisabled()}\n              onClick={onRenameOutline}\n            />\n          }\n          {isOutlineChangingDest &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.save')}\n              isSubmitType={true}\n              onClick={() => {\n                setOutlineChangingDest(false);\n                updateOutlineDest(outlinePath);\n              }}\n            />\n          }\n        </div>\n      }\n    </div>\n  );\n};\n\nOutlineContent.propTypes = propTypes;\n\nexport default OutlineContent;\n","import OutlineContent from './OutlineContent';\n\nexport default OutlineContent;\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es-x/no-string-prototype-endswith -- safe\nvar un$EndsWith = uncurryThis(''.endsWith);\nvar slice = uncurryThis(''.slice);\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = toString(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = that.length;\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = toString(searchString);\n    return un$EndsWith\n      ? un$EndsWith(that, search, end)\n      : slice(that, end - search.length, end) === search;\n  }\n});\n","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport equal from 'fast-deep-equal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!equal(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./Spinner.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".SignaturePanel .spinner{margin:10px;border:5px solid #ddd;border-top-color:#aaa;border-radius:50%;width:40px;height:40px;-webkit-animation:spin 1.2s ease infinite;animation:spin 1.2s ease infinite}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./SignatureIcon.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".signature-icon .badge{color:#fff}.signature-icon .medium{width:18px;height:18px}.signature-icon .small{width:16px;height:16px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./WidgetInfo.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".signature-widget-info{--widget-header-indent:49px;--widget-body-indent:22px;--arrow-width:22px;display:flex;flex-direction:column;font-size:13px;margin-bottom:10px;margin-left:5px}.signature-widget-info p+p{margin:1em 0 0}.signature-widget-info p.result-for-header{margin-top:0}.signature-widget-info p.bold{font-weight:700;margin-bottom:4px}.signature-widget-info p.underline{text-decoration:underline}.signature-widget-info .link{cursor:pointer;outline:none}.signature-widget-info .dropdown{outline:none}.signature-widget-info .dropdown:hover{cursor:pointer;background:var(--outline-hover);--border-radius-amount:4px;-moz-border-radius-topleft:var(--border-radius-amount);-moz-border-radius-topright:var(--border-radius-amount);-moz-border-radius-bottomright:var(--border-radius-amount);-moz-border-radius-bottomleft:var(--border-radius-amount);border-radius:var(--border-radius-amount)}.signature-widget-info .title{font-weight:700;display:flex;align-items:center;min-height:32px;margin-top:-5px;margin-bottom:-5px;overflow:hidden}.signature-widget-info .title div+*{margin-left:2px}.signature-widget-info .title .arrow{transition:transform .1s ease}.signature-widget-info .title .arrow.expanded{transform:rotate(90deg)}.signature-widget-info .title .arrow .Icon{width:var(--arrow-width);height:22px}.signature-widget-info .title .signature-icon{margin-right:5px}.signature-widget-info .header{margin-left:var(--widget-header-indent)}.signature-widget-info .header .body{margin-left:var(--widget-body-indent)}.signature-widget-info .header .body>div:first-child>p:first-child,.signature-widget-info .header .body>p:first-child{margin-top:.5em}.signature-widget-info .header .body>div:last-child{margin-bottom:.5em}.signature-widget-info .header-with-arrow{margin-left:calc(var(--widget-header-indent) - var(--arrow-width))}.signature-widget-info .header-with-arrow .body{margin-left:calc(var(--widget-body-indent) + var(--arrow-width))}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./SignaturePanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.SignaturePanel{margin:0 8px 8px;display:flex;flex-direction:column}.SignaturePanel .center{flex-grow:1;display:flex;justify-content:center;align-items:center}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","/**\n * Helper method that determines when to recalculate row or column metadata.\n */\nexport default function calculateSizeAndPositionDataAndUpdateScrollOffset(_ref) {\n  var cellCount = _ref.cellCount,\n      cellSize = _ref.cellSize,\n      computeMetadataCallback = _ref.computeMetadataCallback,\n      computeMetadataCallbackProps = _ref.computeMetadataCallbackProps,\n      nextCellsCount = _ref.nextCellsCount,\n      nextCellSize = _ref.nextCellSize,\n      nextScrollToIndex = _ref.nextScrollToIndex,\n      scrollToIndex = _ref.scrollToIndex,\n      updateScrollOffsetForScrollToIndex = _ref.updateScrollOffsetForScrollToIndex;\n\n  // Don't compare cell sizes if they are functions because inline functions would cause infinite loops.\n  // In that event users should use the manual recompute methods to inform of changes.\n  if (cellCount !== nextCellsCount || (typeof cellSize === 'number' || typeof nextCellSize === 'number') && cellSize !== nextCellSize) {\n    computeMetadataCallback(computeMetadataCallbackProps); // Updated cell metadata may have hidden the previous scrolled-to item.\n    // In this case we should also update the scrollTop to ensure it stays visible.\n\n    if (scrollToIndex >= 0 && scrollToIndex === nextScrollToIndex) {\n      updateScrollOffsetForScrollToIndex();\n    }\n  }\n}","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\n/**\n * Just-in-time calculates and caches size and position information for a collection of cells.\n */\nvar CellSizeAndPositionManager =\n/*#__PURE__*/\nfunction () {\n  // Cache of size and position data for cells, mapped by cell index.\n  // Note that invalid values may exist in this map so only rely on cells up to this._lastMeasuredIndex\n  // Measurements for cells up to this index can be trusted; cells afterward should be estimated.\n  // Used in deferred mode to track which cells have been queued for measurement.\n  function CellSizeAndPositionManager(_ref) {\n    var cellCount = _ref.cellCount,\n        cellSizeGetter = _ref.cellSizeGetter,\n        estimatedCellSize = _ref.estimatedCellSize;\n\n    _classCallCheck(this, CellSizeAndPositionManager);\n\n    _defineProperty(this, \"_cellSizeAndPositionData\", {});\n\n    _defineProperty(this, \"_lastMeasuredIndex\", -1);\n\n    _defineProperty(this, \"_lastBatchedIndex\", -1);\n\n    _defineProperty(this, \"_cellCount\", void 0);\n\n    _defineProperty(this, \"_cellSizeGetter\", void 0);\n\n    _defineProperty(this, \"_estimatedCellSize\", void 0);\n\n    this._cellSizeGetter = cellSizeGetter;\n    this._cellCount = cellCount;\n    this._estimatedCellSize = estimatedCellSize;\n  }\n\n  _createClass(CellSizeAndPositionManager, [{\n    key: \"areOffsetsAdjusted\",\n    value: function areOffsetsAdjusted() {\n      return false;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure(_ref2) {\n      var cellCount = _ref2.cellCount,\n          estimatedCellSize = _ref2.estimatedCellSize,\n          cellSizeGetter = _ref2.cellSizeGetter;\n      this._cellCount = cellCount;\n      this._estimatedCellSize = estimatedCellSize;\n      this._cellSizeGetter = cellSizeGetter;\n    }\n  }, {\n    key: \"getCellCount\",\n    value: function getCellCount() {\n      return this._cellCount;\n    }\n  }, {\n    key: \"getEstimatedCellSize\",\n    value: function getEstimatedCellSize() {\n      return this._estimatedCellSize;\n    }\n  }, {\n    key: \"getLastMeasuredIndex\",\n    value: function getLastMeasuredIndex() {\n      return this._lastMeasuredIndex;\n    }\n  }, {\n    key: \"getOffsetAdjustment\",\n    value: function getOffsetAdjustment() {\n      return 0;\n    }\n    /**\n     * This method returns the size and position for the cell at the specified index.\n     * It just-in-time calculates (or used cached values) for cells leading up to the index.\n     */\n\n  }, {\n    key: \"getSizeAndPositionOfCell\",\n    value: function getSizeAndPositionOfCell(index) {\n      if (index < 0 || index >= this._cellCount) {\n        throw Error(\"Requested index \".concat(index, \" is outside of range 0..\").concat(this._cellCount));\n      }\n\n      if (index > this._lastMeasuredIndex) {\n        var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n        var offset = lastMeasuredCellSizeAndPosition.offset + lastMeasuredCellSizeAndPosition.size;\n\n        for (var i = this._lastMeasuredIndex + 1; i <= index; i++) {\n          var size = this._cellSizeGetter({\n            index: i\n          }); // undefined or NaN probably means a logic error in the size getter.\n          // null means we're using CellMeasurer and haven't yet measured a given index.\n\n\n          if (size === undefined || isNaN(size)) {\n            throw Error(\"Invalid size returned for cell \".concat(i, \" of value \").concat(size));\n          } else if (size === null) {\n            this._cellSizeAndPositionData[i] = {\n              offset: offset,\n              size: 0\n            };\n            this._lastBatchedIndex = index;\n          } else {\n            this._cellSizeAndPositionData[i] = {\n              offset: offset,\n              size: size\n            };\n            offset += size;\n            this._lastMeasuredIndex = index;\n          }\n        }\n      }\n\n      return this._cellSizeAndPositionData[index];\n    }\n  }, {\n    key: \"getSizeAndPositionOfLastMeasuredCell\",\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      return this._lastMeasuredIndex >= 0 ? this._cellSizeAndPositionData[this._lastMeasuredIndex] : {\n        offset: 0,\n        size: 0\n      };\n    }\n    /**\n     * Total size of all cells being measured.\n     * This value will be completely estimated initially.\n     * As cells are measured, the estimate will be updated.\n     */\n\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n      var totalSizeOfMeasuredCells = lastMeasuredCellSizeAndPosition.offset + lastMeasuredCellSizeAndPosition.size;\n      var numUnmeasuredCells = this._cellCount - this._lastMeasuredIndex - 1;\n      var totalSizeOfUnmeasuredCells = numUnmeasuredCells * this._estimatedCellSize;\n      return totalSizeOfMeasuredCells + totalSizeOfUnmeasuredCells;\n    }\n    /**\n     * Determines a new offset that ensures a certain cell is visible, given the current offset.\n     * If the cell is already visible then the current offset will be returned.\n     * If the current offset is too great or small, it will be adjusted just enough to ensure the specified index is visible.\n     *\n     * @param align Desired alignment within container; one of \"auto\" (default), \"start\", or \"end\"\n     * @param containerSize Size (width or height) of the container viewport\n     * @param currentOffset Container's current (x or y) offset\n     * @param totalSize Total size (width or height) of all cells\n     * @return Offset to use to ensure the specified cell is visible\n     */\n\n  }, {\n    key: \"getUpdatedOffsetForIndex\",\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === void 0 ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n\n      if (containerSize <= 0) {\n        return 0;\n      }\n\n      var datum = this.getSizeAndPositionOfCell(targetIndex);\n      var maxOffset = datum.offset;\n      var minOffset = maxOffset - containerSize + datum.size;\n      var idealOffset;\n\n      switch (align) {\n        case 'start':\n          idealOffset = maxOffset;\n          break;\n\n        case 'end':\n          idealOffset = minOffset;\n          break;\n\n        case 'center':\n          idealOffset = maxOffset - (containerSize - datum.size) / 2;\n          break;\n\n        default:\n          idealOffset = Math.max(minOffset, Math.min(maxOffset, currentOffset));\n          break;\n      }\n\n      var totalSize = this.getTotalSize();\n      return Math.max(0, Math.min(totalSize - containerSize, idealOffset));\n    }\n  }, {\n    key: \"getVisibleCellRange\",\n    value: function getVisibleCellRange(params) {\n      var containerSize = params.containerSize,\n          offset = params.offset;\n      var totalSize = this.getTotalSize();\n\n      if (totalSize === 0) {\n        return {};\n      }\n\n      var maxOffset = offset + containerSize;\n\n      var start = this._findNearestCell(offset);\n\n      var datum = this.getSizeAndPositionOfCell(start);\n      offset = datum.offset + datum.size;\n      var stop = start;\n\n      while (offset < maxOffset && stop < this._cellCount - 1) {\n        stop++;\n        offset += this.getSizeAndPositionOfCell(stop).size;\n      }\n\n      return {\n        start: start,\n        stop: stop\n      };\n    }\n    /**\n     * Clear all cached values for cells after the specified index.\n     * This method should be called for any cell that has changed its size.\n     * It will not immediately perform any calculations; they'll be performed the next time getSizeAndPositionOfCell() is called.\n     */\n\n  }, {\n    key: \"resetCell\",\n    value: function resetCell(index) {\n      this._lastMeasuredIndex = Math.min(this._lastMeasuredIndex, index - 1);\n    }\n  }, {\n    key: \"_binarySearch\",\n    value: function _binarySearch(high, low, offset) {\n      while (low <= high) {\n        var middle = low + Math.floor((high - low) / 2);\n        var currentOffset = this.getSizeAndPositionOfCell(middle).offset;\n\n        if (currentOffset === offset) {\n          return middle;\n        } else if (currentOffset < offset) {\n          low = middle + 1;\n        } else if (currentOffset > offset) {\n          high = middle - 1;\n        }\n      }\n\n      if (low > 0) {\n        return low - 1;\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: \"_exponentialSearch\",\n    value: function _exponentialSearch(index, offset) {\n      var interval = 1;\n\n      while (index < this._cellCount && this.getSizeAndPositionOfCell(index).offset < offset) {\n        index += interval;\n        interval *= 2;\n      }\n\n      return this._binarySearch(Math.min(index, this._cellCount - 1), Math.floor(index / 2), offset);\n    }\n    /**\n     * Searches for the cell (index) nearest the specified offset.\n     *\n     * If no exact match is found the next lowest cell index will be returned.\n     * This allows partially visible cells (with offsets just before/above the fold) to be visible.\n     */\n\n  }, {\n    key: \"_findNearestCell\",\n    value: function _findNearestCell(offset) {\n      if (isNaN(offset)) {\n        throw Error(\"Invalid offset \".concat(offset, \" specified\"));\n      } // Our search algorithms find the nearest match at or below the specified offset.\n      // So make sure the offset is at least 0 or no match will be found.\n\n\n      offset = Math.max(0, offset);\n      var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n      var lastMeasuredIndex = Math.max(0, this._lastMeasuredIndex);\n\n      if (lastMeasuredCellSizeAndPosition.offset >= offset) {\n        // If we've already measured cells within this range just use a binary search as it's faster.\n        return this._binarySearch(lastMeasuredIndex, 0, offset);\n      } else {\n        // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n        // The exponential search avoids pre-computing sizes for the full set of cells as a binary search would.\n        // The overall complexity for this approach is O(log n).\n        return this._exponentialSearch(lastMeasuredIndex, offset);\n      }\n    }\n  }]);\n\n  return CellSizeAndPositionManager;\n}();\n\nexport { CellSizeAndPositionManager as default };\nimport { bpfrpt_proptype_Alignment } from \"../types\";\nimport { bpfrpt_proptype_CellSizeGetter } from \"../types\";\nimport { bpfrpt_proptype_VisibleCellRange } from \"../types\";","var DEFAULT_MAX_ELEMENT_SIZE = 1500000;\nvar CHROME_MAX_ELEMENT_SIZE = 1.67771e7;\n\nvar isBrowser = function isBrowser() {\n  return typeof window !== 'undefined';\n};\n\nvar isChrome = function isChrome() {\n  return !!window.chrome;\n};\n\nexport var getMaxElementSize = function getMaxElementSize() {\n  if (isBrowser()) {\n    if (isChrome()) {\n      return CHROME_MAX_ELEMENT_SIZE;\n    }\n  }\n\n  return DEFAULT_MAX_ELEMENT_SIZE;\n};","import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport CellSizeAndPositionManager from './CellSizeAndPositionManager';\nimport { getMaxElementSize } from './maxElementSize.js';\n\n/**\n * Extends CellSizeAndPositionManager and adds scaling behavior for lists that are too large to fit within a browser's native limits.\n */\nvar ScalingCellSizeAndPositionManager =\n/*#__PURE__*/\nfunction () {\n  function ScalingCellSizeAndPositionManager(_ref) {\n    var _ref$maxScrollSize = _ref.maxScrollSize,\n        maxScrollSize = _ref$maxScrollSize === void 0 ? getMaxElementSize() : _ref$maxScrollSize,\n        params = _objectWithoutProperties(_ref, [\"maxScrollSize\"]);\n\n    _classCallCheck(this, ScalingCellSizeAndPositionManager);\n\n    _defineProperty(this, \"_cellSizeAndPositionManager\", void 0);\n\n    _defineProperty(this, \"_maxScrollSize\", void 0);\n\n    // Favor composition over inheritance to simplify IE10 support\n    this._cellSizeAndPositionManager = new CellSizeAndPositionManager(params);\n    this._maxScrollSize = maxScrollSize;\n  }\n\n  _createClass(ScalingCellSizeAndPositionManager, [{\n    key: \"areOffsetsAdjusted\",\n    value: function areOffsetsAdjusted() {\n      return this._cellSizeAndPositionManager.getTotalSize() > this._maxScrollSize;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure(params) {\n      this._cellSizeAndPositionManager.configure(params);\n    }\n  }, {\n    key: \"getCellCount\",\n    value: function getCellCount() {\n      return this._cellSizeAndPositionManager.getCellCount();\n    }\n  }, {\n    key: \"getEstimatedCellSize\",\n    value: function getEstimatedCellSize() {\n      return this._cellSizeAndPositionManager.getEstimatedCellSize();\n    }\n  }, {\n    key: \"getLastMeasuredIndex\",\n    value: function getLastMeasuredIndex() {\n      return this._cellSizeAndPositionManager.getLastMeasuredIndex();\n    }\n    /**\n     * Number of pixels a cell at the given position (offset) should be shifted in order to fit within the scaled container.\n     * The offset passed to this function is scaled (safe) as well.\n     */\n\n  }, {\n    key: \"getOffsetAdjustment\",\n    value: function getOffsetAdjustment(_ref2) {\n      var containerSize = _ref2.containerSize,\n          offset = _ref2.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n\n      var safeTotalSize = this.getTotalSize();\n\n      var offsetPercentage = this._getOffsetPercentage({\n        containerSize: containerSize,\n        offset: offset,\n        totalSize: safeTotalSize\n      });\n\n      return Math.round(offsetPercentage * (safeTotalSize - totalSize));\n    }\n  }, {\n    key: \"getSizeAndPositionOfCell\",\n    value: function getSizeAndPositionOfCell(index) {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(index);\n    }\n  }, {\n    key: \"getSizeAndPositionOfLastMeasuredCell\",\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell();\n    }\n    /** See CellSizeAndPositionManager#getTotalSize */\n\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      return Math.min(this._maxScrollSize, this._cellSizeAndPositionManager.getTotalSize());\n    }\n    /** See CellSizeAndPositionManager#getUpdatedOffsetForIndex */\n\n  }, {\n    key: \"getUpdatedOffsetForIndex\",\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === void 0 ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n      currentOffset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: currentOffset\n      });\n\n      var offset = this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({\n        align: align,\n        containerSize: containerSize,\n        currentOffset: currentOffset,\n        targetIndex: targetIndex\n      });\n\n      return this._offsetToSafeOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n    /** See CellSizeAndPositionManager#getVisibleCellRange */\n\n  }, {\n    key: \"getVisibleCellRange\",\n    value: function getVisibleCellRange(_ref4) {\n      var containerSize = _ref4.containerSize,\n          offset = _ref4.offset;\n      offset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n      return this._cellSizeAndPositionManager.getVisibleCellRange({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n  }, {\n    key: \"resetCell\",\n    value: function resetCell(index) {\n      this._cellSizeAndPositionManager.resetCell(index);\n    }\n  }, {\n    key: \"_getOffsetPercentage\",\n    value: function _getOffsetPercentage(_ref5) {\n      var containerSize = _ref5.containerSize,\n          offset = _ref5.offset,\n          totalSize = _ref5.totalSize;\n      return totalSize <= containerSize ? 0 : offset / (totalSize - containerSize);\n    }\n  }, {\n    key: \"_offsetToSafeOffset\",\n    value: function _offsetToSafeOffset(_ref6) {\n      var containerSize = _ref6.containerSize,\n          offset = _ref6.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: totalSize\n        });\n\n        return Math.round(offsetPercentage * (safeTotalSize - containerSize));\n      }\n    }\n  }, {\n    key: \"_safeOffsetToOffset\",\n    value: function _safeOffsetToOffset(_ref7) {\n      var containerSize = _ref7.containerSize,\n          offset = _ref7.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: safeTotalSize\n        });\n\n        return Math.round(offsetPercentage * (totalSize - containerSize));\n      }\n    }\n  }]);\n\n  return ScalingCellSizeAndPositionManager;\n}();\n\nexport { ScalingCellSizeAndPositionManager as default };\nimport { bpfrpt_proptype_Alignment } from \"../types\";\nimport { bpfrpt_proptype_CellSizeGetter } from \"../types\";\nimport { bpfrpt_proptype_VisibleCellRange } from \"../types\";","/**\n * Helper utility that updates the specified callback whenever any of the specified indices have changed.\n */\nexport default function createCallbackMemoizer() {\n  var requireAllKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var cachedIndices = {};\n  return function (_ref) {\n    var callback = _ref.callback,\n        indices = _ref.indices;\n    var keys = Object.keys(indices);\n    var allInitialized = !requireAllKeys || keys.every(function (key) {\n      var value = indices[key];\n      return Array.isArray(value) ? value.length > 0 : value >= 0;\n    });\n    var indexChanged = keys.length !== Object.keys(cachedIndices).length || keys.some(function (key) {\n      var cachedValue = cachedIndices[key];\n      var value = indices[key];\n      return Array.isArray(value) ? cachedValue.join(',') !== value.join(',') : cachedValue !== value;\n    });\n    cachedIndices = indices;\n\n    if (allInitialized && indexChanged) {\n      callback(indices);\n    }\n  };\n}","import ScalingCellSizeAndPositionManager from './ScalingCellSizeAndPositionManager.js';\n/**\n * Helper function that determines when to update scroll offsets to ensure that a scroll-to-index remains visible.\n * This function also ensures that the scroll ofset isn't past the last column/row of cells.\n */\n\nexport default function updateScrollIndexHelper(_ref) {\n  var cellSize = _ref.cellSize,\n      cellSizeAndPositionManager = _ref.cellSizeAndPositionManager,\n      previousCellsCount = _ref.previousCellsCount,\n      previousCellSize = _ref.previousCellSize,\n      previousScrollToAlignment = _ref.previousScrollToAlignment,\n      previousScrollToIndex = _ref.previousScrollToIndex,\n      previousSize = _ref.previousSize,\n      scrollOffset = _ref.scrollOffset,\n      scrollToAlignment = _ref.scrollToAlignment,\n      scrollToIndex = _ref.scrollToIndex,\n      size = _ref.size,\n      sizeJustIncreasedFromZero = _ref.sizeJustIncreasedFromZero,\n      updateScrollIndexCallback = _ref.updateScrollIndexCallback;\n  var cellCount = cellSizeAndPositionManager.getCellCount();\n  var hasScrollToIndex = scrollToIndex >= 0 && scrollToIndex < cellCount;\n  var sizeHasChanged = size !== previousSize || sizeJustIncreasedFromZero || !previousCellSize || typeof cellSize === 'number' && cellSize !== previousCellSize; // If we have a new scroll target OR if height/row-height has changed,\n  // We should ensure that the scroll target is visible.\n\n  if (hasScrollToIndex && (sizeHasChanged || scrollToAlignment !== previousScrollToAlignment || scrollToIndex !== previousScrollToIndex)) {\n    updateScrollIndexCallback(scrollToIndex); // If we don't have a selected item but list size or number of children have decreased,\n    // Make sure we aren't scrolled too far past the current content.\n  } else if (!hasScrollToIndex && cellCount > 0 && (size < previousSize || cellCount < previousCellsCount)) {\n    // We need to ensure that the current scroll offset is still within the collection's range.\n    // To do this, we don't need to measure everything; CellMeasurer would perform poorly.\n    // Just check to make sure we're still okay.\n    // Only adjust the scroll position if we've scrolled below the last set of rows.\n    if (scrollOffset > cellSizeAndPositionManager.getTotalSize() - size) {\n      updateScrollIndexCallback(cellCount - 1);\n    }\n  }\n}\nimport { bpfrpt_proptype_Alignment } from \"../types\";\nimport { bpfrpt_proptype_CellSize } from \"../types\";","// Properly handle server-side rendering.\nvar win;\n\nif (typeof window !== 'undefined') {\n  win = window;\n} else if (typeof self !== 'undefined') {\n  win = self;\n} else {\n  win = {};\n} // requestAnimationFrame() shim by Paul Irish\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n\n\nvar request = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.oRequestAnimationFrame || win.msRequestAnimationFrame || function (callback) {\n  return win.setTimeout(callback, 1000 / 60);\n};\n\nvar cancel = win.cancelAnimationFrame || win.webkitCancelAnimationFrame || win.mozCancelAnimationFrame || win.oCancelAnimationFrame || win.msCancelAnimationFrame || function (id) {\n  win.clearTimeout(id);\n};\n\nexport var raf = request;\nexport var caf = cancel;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport calculateSizeAndPositionDataAndUpdateScrollOffset from './utils/calculateSizeAndPositionDataAndUpdateScrollOffset';\nimport ScalingCellSizeAndPositionManager from './utils/ScalingCellSizeAndPositionManager';\nimport createCallbackMemoizer from '../utils/createCallbackMemoizer';\nimport defaultOverscanIndicesGetter, { SCROLL_DIRECTION_BACKWARD, SCROLL_DIRECTION_FORWARD } from './defaultOverscanIndicesGetter';\nimport updateScrollIndexHelper from './utils/updateScrollIndexHelper';\nimport defaultCellRangeRenderer from './defaultCellRangeRenderer';\nimport scrollbarSize from 'dom-helpers/scrollbarSize';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../utils/requestAnimationTimeout';\n/**\n * Specifies the number of milliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\n\nexport var DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;\n/**\n * Controls whether the Grid updates the DOM element's scrollLeft/scrollTop based on the current state or just observes it.\n * This prevents Grid from interrupting mouse-wheel animations (see issue #2).\n */\n\nvar SCROLL_POSITION_CHANGE_REASONS = {\n  OBSERVED: 'observed',\n  REQUESTED: 'requested'\n};\n\nvar renderNull = function renderNull() {\n  return null;\n};\n\n/**\n * Renders tabular data with virtualization along the vertical and horizontal axes.\n * Row heights and column widths must be known ahead of time and specified as properties.\n */\nvar Grid = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Grid, _React$PureComponent);\n\n  // Invokes onSectionRendered callback only when start/stop row or column indices change\n  function Grid(props) {\n    var _this;\n\n    _classCallCheck(this, Grid);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Grid).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_onGridRenderedMemoizer\", createCallbackMemoizer());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollMemoizer\", createCallbackMemoizer(false));\n\n    _defineProperty(_assertThisInitialized(_this), \"_deferredInvalidateColumnIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_deferredInvalidateRowIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_recomputeScrollLeftFlag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_recomputeScrollTopFlag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_horizontalScrollBarSize\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_verticalScrollBarSize\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_scrollbarPresenceChanged\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_scrollingContainer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_childrenToDisplay\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_columnStartIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_columnStopIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_rowStartIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_rowStopIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderedColumnStartIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderedColumnStopIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderedRowStartIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderedRowStopIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_initialScrollTop\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_initialScrollLeft\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_disablePointerEventsTimeoutId\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_styleCache\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_cellCache\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_debounceScrollEndedCallback\", function () {\n      _this._disablePointerEventsTimeoutId = null; // isScrolling is used to determine if we reset styleCache\n\n      _this.setState({\n        isScrolling: false,\n        needToResetStyleCache: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_invokeOnGridRenderedHelper\", function () {\n      var onSectionRendered = _this.props.onSectionRendered;\n\n      _this._onGridRenderedMemoizer({\n        callback: onSectionRendered,\n        indices: {\n          columnOverscanStartIndex: _this._columnStartIndex,\n          columnOverscanStopIndex: _this._columnStopIndex,\n          columnStartIndex: _this._renderedColumnStartIndex,\n          columnStopIndex: _this._renderedColumnStopIndex,\n          rowOverscanStartIndex: _this._rowStartIndex,\n          rowOverscanStopIndex: _this._rowStopIndex,\n          rowStartIndex: _this._renderedRowStartIndex,\n          rowStopIndex: _this._renderedRowStopIndex\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setScrollingContainerRef\", function (ref) {\n      _this._scrollingContainer = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (event) {\n      // In certain edge-cases React dispatches an onScroll event with an invalid target.scrollLeft / target.scrollTop.\n      // This invalid event can be detected by comparing event.target to this component's scrollable DOM element.\n      // See issue #404 for more information.\n      if (event.target === _this._scrollingContainer) {\n        _this.handleScrollEvent(event.target);\n      }\n    });\n\n    var columnSizeAndPositionManager = new ScalingCellSizeAndPositionManager({\n      cellCount: props.columnCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.columnWidth)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedColumnSize(props)\n    });\n    var rowSizeAndPositionManager = new ScalingCellSizeAndPositionManager({\n      cellCount: props.rowCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.rowHeight)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedRowSize(props)\n    });\n    _this.state = {\n      instanceProps: {\n        columnSizeAndPositionManager: columnSizeAndPositionManager,\n        rowSizeAndPositionManager: rowSizeAndPositionManager,\n        prevColumnWidth: props.columnWidth,\n        prevRowHeight: props.rowHeight,\n        prevColumnCount: props.columnCount,\n        prevRowCount: props.rowCount,\n        prevIsScrolling: props.isScrolling === true,\n        prevScrollToColumn: props.scrollToColumn,\n        prevScrollToRow: props.scrollToRow,\n        scrollbarSize: 0,\n        scrollbarSizeMeasured: false\n      },\n      isScrolling: false,\n      scrollDirectionHorizontal: SCROLL_DIRECTION_FORWARD,\n      scrollDirectionVertical: SCROLL_DIRECTION_FORWARD,\n      scrollLeft: 0,\n      scrollTop: 0,\n      scrollPositionChangeReason: null,\n      needToResetStyleCache: false\n    };\n\n    if (props.scrollToRow > 0) {\n      _this._initialScrollTop = _this._getCalculatedScrollTop(props, _this.state);\n    }\n\n    if (props.scrollToColumn > 0) {\n      _this._initialScrollLeft = _this._getCalculatedScrollLeft(props, _this.state);\n    }\n\n    return _this;\n  }\n  /**\n   * Gets offsets for a given cell and alignment.\n   */\n\n\n  _createClass(Grid, [{\n    key: \"getOffsetForCell\",\n    value: function getOffsetForCell() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$alignment = _ref.alignment,\n          alignment = _ref$alignment === void 0 ? this.props.scrollToAlignment : _ref$alignment,\n          _ref$columnIndex = _ref.columnIndex,\n          columnIndex = _ref$columnIndex === void 0 ? this.props.scrollToColumn : _ref$columnIndex,\n          _ref$rowIndex = _ref.rowIndex,\n          rowIndex = _ref$rowIndex === void 0 ? this.props.scrollToRow : _ref$rowIndex;\n\n      var offsetProps = _objectSpread({}, this.props, {\n        scrollToAlignment: alignment,\n        scrollToColumn: columnIndex,\n        scrollToRow: rowIndex\n      });\n\n      return {\n        scrollLeft: this._getCalculatedScrollLeft(offsetProps),\n        scrollTop: this._getCalculatedScrollTop(offsetProps)\n      };\n    }\n    /**\n     * Gets estimated total rows' height.\n     */\n\n  }, {\n    key: \"getTotalRowsHeight\",\n    value: function getTotalRowsHeight() {\n      return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize();\n    }\n    /**\n     * Gets estimated total columns' width.\n     */\n\n  }, {\n    key: \"getTotalColumnsWidth\",\n    value: function getTotalColumnsWidth() {\n      return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize();\n    }\n    /**\n     * This method handles a scroll event originating from an external scroll control.\n     * It's an advanced method and should probably not be used unless you're implementing a custom scroll-bar solution.\n     */\n\n  }, {\n    key: \"handleScrollEvent\",\n    value: function handleScrollEvent(_ref2) {\n      var _ref2$scrollLeft = _ref2.scrollLeft,\n          scrollLeftParam = _ref2$scrollLeft === void 0 ? 0 : _ref2$scrollLeft,\n          _ref2$scrollTop = _ref2.scrollTop,\n          scrollTopParam = _ref2$scrollTop === void 0 ? 0 : _ref2$scrollTop;\n\n      // On iOS, we can arrive at negative offsets by swiping past the start.\n      // To prevent flicker here, we make playing in the negative offset zone cause nothing to happen.\n      if (scrollTopParam < 0) {\n        return;\n      } // Prevent pointer events from interrupting a smooth scroll\n\n\n      this._debounceScrollEnded();\n\n      var _this$props = this.props,\n          autoHeight = _this$props.autoHeight,\n          autoWidth = _this$props.autoWidth,\n          height = _this$props.height,\n          width = _this$props.width;\n      var instanceProps = this.state.instanceProps; // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.\n\n      var scrollbarSize = instanceProps.scrollbarSize;\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var scrollLeft = Math.min(Math.max(0, totalColumnsWidth - width + scrollbarSize), scrollLeftParam);\n      var scrollTop = Math.min(Math.max(0, totalRowsHeight - height + scrollbarSize), scrollTopParam); // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n\n      if (this.state.scrollLeft !== scrollLeft || this.state.scrollTop !== scrollTop) {\n        // Track scrolling direction so we can more efficiently overscan rows to reduce empty space around the edges while scrolling.\n        // Don't change direction for an axis unless scroll offset has changed.\n        var scrollDirectionHorizontal = scrollLeft !== this.state.scrollLeft ? scrollLeft > this.state.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionHorizontal;\n        var scrollDirectionVertical = scrollTop !== this.state.scrollTop ? scrollTop > this.state.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionVertical;\n        var newState = {\n          isScrolling: true,\n          scrollDirectionHorizontal: scrollDirectionHorizontal,\n          scrollDirectionVertical: scrollDirectionVertical,\n          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.OBSERVED\n        };\n\n        if (!autoHeight) {\n          newState.scrollTop = scrollTop;\n        }\n\n        if (!autoWidth) {\n          newState.scrollLeft = scrollLeft;\n        }\n\n        newState.needToResetStyleCache = false;\n        this.setState(newState);\n      }\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        totalColumnsWidth: totalColumnsWidth,\n        totalRowsHeight: totalRowsHeight\n      });\n    }\n    /**\n     * Invalidate Grid size and recompute visible cells.\n     * This is a deferred wrapper for recomputeGridSize().\n     * It sets a flag to be evaluated on cDM/cDU to avoid unnecessary renders.\n     * This method is intended for advanced use-cases like CellMeasurer.\n     */\n    // @TODO (bvaughn) Add automated test coverage for this.\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender(_ref3) {\n      var columnIndex = _ref3.columnIndex,\n          rowIndex = _ref3.rowIndex;\n      this._deferredInvalidateColumnIndex = typeof this._deferredInvalidateColumnIndex === 'number' ? Math.min(this._deferredInvalidateColumnIndex, columnIndex) : columnIndex;\n      this._deferredInvalidateRowIndex = typeof this._deferredInvalidateRowIndex === 'number' ? Math.min(this._deferredInvalidateRowIndex, rowIndex) : rowIndex;\n    }\n    /**\n     * Pre-measure all columns and rows in a Grid.\n     * Typically cells are only measured as needed and estimated sizes are used for cells that have not yet been measured.\n     * This method ensures that the next call to getTotalSize() returns an exact size (as opposed to just an estimated one).\n     */\n\n  }, {\n    key: \"measureAllCells\",\n    value: function measureAllCells() {\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          rowCount = _this$props2.rowCount;\n      var instanceProps = this.state.instanceProps;\n      instanceProps.columnSizeAndPositionManager.getSizeAndPositionOfCell(columnCount - 1);\n      instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(rowCount - 1);\n    }\n    /**\n     * Forced recompute of row heights and column widths.\n     * This function should be called if dynamic column or row sizes have changed but nothing else has.\n     * Since Grid only receives :columnCount and :rowCount it has no way of detecting when the underlying data changes.\n     */\n\n  }, {\n    key: \"recomputeGridSize\",\n    value: function recomputeGridSize() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$columnIndex = _ref4.columnIndex,\n          columnIndex = _ref4$columnIndex === void 0 ? 0 : _ref4$columnIndex,\n          _ref4$rowIndex = _ref4.rowIndex,\n          rowIndex = _ref4$rowIndex === void 0 ? 0 : _ref4$rowIndex;\n\n      var _this$props3 = this.props,\n          scrollToColumn = _this$props3.scrollToColumn,\n          scrollToRow = _this$props3.scrollToRow;\n      var instanceProps = this.state.instanceProps;\n      instanceProps.columnSizeAndPositionManager.resetCell(columnIndex);\n      instanceProps.rowSizeAndPositionManager.resetCell(rowIndex); // Cell sizes may be determined by a function property.\n      // In this case the cDU handler can't know if they changed.\n      // Store this flag to let the next cDU pass know it needs to recompute the scroll offset.\n\n      this._recomputeScrollLeftFlag = scrollToColumn >= 0 && (this.state.scrollDirectionHorizontal === SCROLL_DIRECTION_FORWARD ? columnIndex <= scrollToColumn : columnIndex >= scrollToColumn);\n      this._recomputeScrollTopFlag = scrollToRow >= 0 && (this.state.scrollDirectionVertical === SCROLL_DIRECTION_FORWARD ? rowIndex <= scrollToRow : rowIndex >= scrollToRow); // Clear cell cache in case we are scrolling;\n      // Invalid row heights likely mean invalid cached content as well.\n\n      this._styleCache = {};\n      this._cellCache = {};\n      this.forceUpdate();\n    }\n    /**\n     * Ensure column and row are visible.\n     */\n\n  }, {\n    key: \"scrollToCell\",\n    value: function scrollToCell(_ref5) {\n      var columnIndex = _ref5.columnIndex,\n          rowIndex = _ref5.rowIndex;\n      var columnCount = this.props.columnCount;\n      var props = this.props; // Don't adjust scroll offset for single-column grids (eg List, Table).\n      // This can cause a funky scroll offset because of the vertical scrollbar width.\n\n      if (columnCount > 1 && columnIndex !== undefined) {\n        this._updateScrollLeftForScrollToColumn(_objectSpread({}, props, {\n          scrollToColumn: columnIndex\n        }));\n      }\n\n      if (rowIndex !== undefined) {\n        this._updateScrollTopForScrollToRow(_objectSpread({}, props, {\n          scrollToRow: rowIndex\n        }));\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props4 = this.props,\n          getScrollbarSize = _this$props4.getScrollbarSize,\n          height = _this$props4.height,\n          scrollLeft = _this$props4.scrollLeft,\n          scrollToColumn = _this$props4.scrollToColumn,\n          scrollTop = _this$props4.scrollTop,\n          scrollToRow = _this$props4.scrollToRow,\n          width = _this$props4.width;\n      var instanceProps = this.state.instanceProps; // Reset initial offsets to be ignored in browser\n\n      this._initialScrollTop = 0;\n      this._initialScrollLeft = 0; // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n\n      this._handleInvalidatedGridSize(); // If this component was first rendered server-side, scrollbar size will be undefined.\n      // In that event we need to remeasure.\n\n\n      if (!instanceProps.scrollbarSizeMeasured) {\n        this.setState(function (prevState) {\n          var stateUpdate = _objectSpread({}, prevState, {\n            needToResetStyleCache: false\n          });\n\n          stateUpdate.instanceProps.scrollbarSize = getScrollbarSize();\n          stateUpdate.instanceProps.scrollbarSizeMeasured = true;\n          return stateUpdate;\n        });\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 || typeof scrollTop === 'number' && scrollTop >= 0) {\n        var stateUpdate = Grid._getScrollToPositionStateUpdate({\n          prevState: this.state,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n\n        if (stateUpdate) {\n          stateUpdate.needToResetStyleCache = false;\n          this.setState(stateUpdate);\n        }\n      } // refs don't work in `react-test-renderer`\n\n\n      if (this._scrollingContainer) {\n        // setting the ref's scrollLeft and scrollTop.\n        // Somehow in MultiGrid the main grid doesn't trigger a update on mount.\n        if (this._scrollingContainer.scrollLeft !== this.state.scrollLeft) {\n          this._scrollingContainer.scrollLeft = this.state.scrollLeft;\n        }\n\n        if (this._scrollingContainer.scrollTop !== this.state.scrollTop) {\n          this._scrollingContainer.scrollTop = this.state.scrollTop;\n        }\n      } // Don't update scroll offset if the size is 0; we don't render any cells in this case.\n      // Setting a state may cause us to later thing we've updated the offce when we haven't.\n\n\n      var sizeIsBiggerThanZero = height > 0 && width > 0;\n\n      if (scrollToColumn >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollLeftForScrollToColumn();\n      }\n\n      if (scrollToRow >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollTopForScrollToRow();\n      } // Update onRowsRendered callback\n\n\n      this._invokeOnGridRenderedHelper(); // Initialize onScroll callback\n\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft || 0,\n        scrollTop: scrollTop || 0,\n        totalColumnsWidth: instanceProps.columnSizeAndPositionManager.getTotalSize(),\n        totalRowsHeight: instanceProps.rowSizeAndPositionManager.getTotalSize()\n      });\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n    /**\n     * @private\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) New scroll-to-cell props have been set\n     */\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var _this$props5 = this.props,\n          autoHeight = _this$props5.autoHeight,\n          autoWidth = _this$props5.autoWidth,\n          columnCount = _this$props5.columnCount,\n          height = _this$props5.height,\n          rowCount = _this$props5.rowCount,\n          scrollToAlignment = _this$props5.scrollToAlignment,\n          scrollToColumn = _this$props5.scrollToColumn,\n          scrollToRow = _this$props5.scrollToRow,\n          width = _this$props5.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollPositionChangeReason = _this$state.scrollPositionChangeReason,\n          scrollTop = _this$state.scrollTop,\n          instanceProps = _this$state.instanceProps; // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n\n      this._handleInvalidatedGridSize(); // Handle edge case where column or row count has only just increased over 0.\n      // In this case we may have to restore a previously-specified scroll offset.\n      // For more info see bvaughn/react-virtualized/issues/218\n\n\n      var columnOrRowCountJustIncreasedFromZero = columnCount > 0 && prevProps.columnCount === 0 || rowCount > 0 && prevProps.rowCount === 0; // Make sure requested changes to :scrollLeft or :scrollTop get applied.\n      // Assigning to scrollLeft/scrollTop tells the browser to interrupt any running scroll animations,\n      // And to discard any pending async changes to the scroll position that may have happened in the meantime (e.g. on a separate scrolling thread).\n      // So we only set these when we require an adjustment of the scroll position.\n      // See issue #2 for more information.\n\n      if (scrollPositionChangeReason === SCROLL_POSITION_CHANGE_REASONS.REQUESTED) {\n        // @TRICKY :autoHeight and :autoWidth properties instructs Grid to leave :scrollTop and :scrollLeft management to an external HOC (eg WindowScroller).\n        // In this case we should avoid checking scrollingContainer.scrollTop and scrollingContainer.scrollLeft since it forces layout/flow.\n        if (!autoWidth && scrollLeft >= 0 && (scrollLeft !== this._scrollingContainer.scrollLeft || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollLeft = scrollLeft;\n        }\n\n        if (!autoHeight && scrollTop >= 0 && (scrollTop !== this._scrollingContainer.scrollTop || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollTop = scrollTop;\n        }\n      } // Special case where the previous size was 0:\n      // In this case we don't show any windowed cells at all.\n      // So we should always recalculate offset afterwards.\n\n\n      var sizeJustIncreasedFromZero = (prevProps.width === 0 || prevProps.height === 0) && height > 0 && width > 0; // Update scroll offsets if the current :scrollToColumn or :scrollToRow values requires it\n      // @TODO Do we also need this check or can the one in componentWillUpdate() suffice?\n\n      if (this._recomputeScrollLeftFlag) {\n        this._recomputeScrollLeftFlag = false;\n\n        this._updateScrollLeftForScrollToColumn(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          previousCellsCount: prevProps.columnCount,\n          previousCellSize: prevProps.columnWidth,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToColumn,\n          previousSize: prevProps.width,\n          scrollOffset: scrollLeft,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToColumn,\n          size: width,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollLeftForScrollToColumn(_this2.props);\n          }\n        });\n      }\n\n      if (this._recomputeScrollTopFlag) {\n        this._recomputeScrollTopFlag = false;\n\n        this._updateScrollTopForScrollToRow(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          previousCellsCount: prevProps.rowCount,\n          previousCellSize: prevProps.rowHeight,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToRow,\n          previousSize: prevProps.height,\n          scrollOffset: scrollTop,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToRow,\n          size: height,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollTopForScrollToRow(_this2.props);\n          }\n        });\n      } // Update onRowsRendered callback if start/stop indices have changed\n\n\n      this._invokeOnGridRenderedHelper(); // Changes to :scrollLeft or :scrollTop should also notify :onScroll listeners\n\n\n      if (scrollLeft !== prevState.scrollLeft || scrollTop !== prevState.scrollTop) {\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n\n        this._invokeOnScrollMemoizer({\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          totalColumnsWidth: totalColumnsWidth,\n          totalRowsHeight: totalRowsHeight\n        });\n      }\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n    }\n    /**\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) Empty content (0 rows or columns)\n     * 2) New scroll props overriding the current state\n     * 3) Cells-count or cells-size has changed, making previous scroll offsets invalid\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props6 = this.props,\n          autoContainerWidth = _this$props6.autoContainerWidth,\n          autoHeight = _this$props6.autoHeight,\n          autoWidth = _this$props6.autoWidth,\n          className = _this$props6.className,\n          containerProps = _this$props6.containerProps,\n          containerRole = _this$props6.containerRole,\n          containerStyle = _this$props6.containerStyle,\n          height = _this$props6.height,\n          id = _this$props6.id,\n          noContentRenderer = _this$props6.noContentRenderer,\n          role = _this$props6.role,\n          style = _this$props6.style,\n          tabIndex = _this$props6.tabIndex,\n          width = _this$props6.width;\n      var _this$state2 = this.state,\n          instanceProps = _this$state2.instanceProps,\n          needToResetStyleCache = _this$state2.needToResetStyleCache;\n\n      var isScrolling = this._isScrolling();\n\n      var gridStyle = {\n        boxSizing: 'border-box',\n        direction: 'ltr',\n        height: autoHeight ? 'auto' : height,\n        position: 'relative',\n        width: autoWidth ? 'auto' : width,\n        WebkitOverflowScrolling: 'touch',\n        willChange: 'transform'\n      };\n\n      if (needToResetStyleCache) {\n        this._styleCache = {};\n      } // calculate _styleCache here\n      // if state.isScrolling (not from _isScrolling) then reset\n\n\n      if (!this.state.isScrolling) {\n        this._resetStyleCache();\n      } // calculate children to render here\n\n\n      this._calculateChildrenToRender(this.props, this.state);\n\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize(); // Force browser to hide scrollbars when we know they aren't necessary.\n      // Otherwise once scrollbars appear they may not disappear again.\n      // For more info see issue #116\n\n      var verticalScrollBarSize = totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n      var horizontalScrollBarSize = totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n\n      if (horizontalScrollBarSize !== this._horizontalScrollBarSize || verticalScrollBarSize !== this._verticalScrollBarSize) {\n        this._horizontalScrollBarSize = horizontalScrollBarSize;\n        this._verticalScrollBarSize = verticalScrollBarSize;\n        this._scrollbarPresenceChanged = true;\n      } // Also explicitly init styles to 'auto' if scrollbars are required.\n      // This works around an obscure edge case where external CSS styles have not yet been loaded,\n      // But an initial scroll index of offset is set as an external prop.\n      // Without this style, Grid would render the correct range of cells but would NOT update its internal offset.\n      // This was originally reported via clauderic/react-infinite-calendar/issues/23\n\n\n      gridStyle.overflowX = totalColumnsWidth + verticalScrollBarSize <= width ? 'hidden' : 'auto';\n      gridStyle.overflowY = totalRowsHeight + horizontalScrollBarSize <= height ? 'hidden' : 'auto';\n      var childrenToDisplay = this._childrenToDisplay;\n      var showNoContentRenderer = childrenToDisplay.length === 0 && height > 0 && width > 0;\n      return React.createElement(\"div\", _extends({\n        ref: this._setScrollingContainerRef\n      }, containerProps, {\n        \"aria-label\": this.props['aria-label'],\n        \"aria-readonly\": this.props['aria-readonly'],\n        className: clsx('ReactVirtualized__Grid', className),\n        id: id,\n        onScroll: this._onScroll,\n        role: role,\n        style: _objectSpread({}, gridStyle, {}, style),\n        tabIndex: tabIndex\n      }), childrenToDisplay.length > 0 && React.createElement(\"div\", {\n        className: \"ReactVirtualized__Grid__innerScrollContainer\",\n        role: containerRole,\n        style: _objectSpread({\n          width: autoContainerWidth ? 'auto' : totalColumnsWidth,\n          height: totalRowsHeight,\n          maxWidth: totalColumnsWidth,\n          maxHeight: totalRowsHeight,\n          overflow: 'hidden',\n          pointerEvents: isScrolling ? 'none' : '',\n          position: 'relative'\n        }, containerStyle)\n      }, childrenToDisplay), showNoContentRenderer && noContentRenderer());\n    }\n    /* ---------------------------- Helper methods ---------------------------- */\n\n  }, {\n    key: \"_calculateChildrenToRender\",\n    value: function _calculateChildrenToRender() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      var cellRenderer = props.cellRenderer,\n          cellRangeRenderer = props.cellRangeRenderer,\n          columnCount = props.columnCount,\n          deferredMeasurementCache = props.deferredMeasurementCache,\n          height = props.height,\n          overscanColumnCount = props.overscanColumnCount,\n          overscanIndicesGetter = props.overscanIndicesGetter,\n          overscanRowCount = props.overscanRowCount,\n          rowCount = props.rowCount,\n          width = props.width,\n          isScrollingOptOut = props.isScrollingOptOut;\n      var scrollDirectionHorizontal = state.scrollDirectionHorizontal,\n          scrollDirectionVertical = state.scrollDirectionVertical,\n          instanceProps = state.instanceProps;\n      var scrollTop = this._initialScrollTop > 0 ? this._initialScrollTop : state.scrollTop;\n      var scrollLeft = this._initialScrollLeft > 0 ? this._initialScrollLeft : state.scrollLeft;\n\n      var isScrolling = this._isScrolling(props, state);\n\n      this._childrenToDisplay = []; // Render only enough columns and rows to cover the visible area of the grid.\n\n      if (height > 0 && width > 0) {\n        var visibleColumnIndices = instanceProps.columnSizeAndPositionManager.getVisibleCellRange({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var visibleRowIndices = instanceProps.rowSizeAndPositionManager.getVisibleCellRange({\n          containerSize: height,\n          offset: scrollTop\n        });\n        var horizontalOffsetAdjustment = instanceProps.columnSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var verticalOffsetAdjustment = instanceProps.rowSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: height,\n          offset: scrollTop\n        }); // Store for _invokeOnGridRenderedHelper()\n\n        this._renderedColumnStartIndex = visibleColumnIndices.start;\n        this._renderedColumnStopIndex = visibleColumnIndices.stop;\n        this._renderedRowStartIndex = visibleRowIndices.start;\n        this._renderedRowStopIndex = visibleRowIndices.stop;\n        var overscanColumnIndices = overscanIndicesGetter({\n          direction: 'horizontal',\n          cellCount: columnCount,\n          overscanCellsCount: overscanColumnCount,\n          scrollDirection: scrollDirectionHorizontal,\n          startIndex: typeof visibleColumnIndices.start === 'number' ? visibleColumnIndices.start : 0,\n          stopIndex: typeof visibleColumnIndices.stop === 'number' ? visibleColumnIndices.stop : -1\n        });\n        var overscanRowIndices = overscanIndicesGetter({\n          direction: 'vertical',\n          cellCount: rowCount,\n          overscanCellsCount: overscanRowCount,\n          scrollDirection: scrollDirectionVertical,\n          startIndex: typeof visibleRowIndices.start === 'number' ? visibleRowIndices.start : 0,\n          stopIndex: typeof visibleRowIndices.stop === 'number' ? visibleRowIndices.stop : -1\n        }); // Store for _invokeOnGridRenderedHelper()\n\n        var columnStartIndex = overscanColumnIndices.overscanStartIndex;\n        var columnStopIndex = overscanColumnIndices.overscanStopIndex;\n        var rowStartIndex = overscanRowIndices.overscanStartIndex;\n        var rowStopIndex = overscanRowIndices.overscanStopIndex; // Advanced use-cases (eg CellMeasurer) require batched measurements to determine accurate sizes.\n\n        if (deferredMeasurementCache) {\n          // If rows have a dynamic height, scan the rows we are about to render.\n          // If any have not yet been measured, then we need to render all columns initially,\n          // Because the height of the row is equal to the tallest cell within that row,\n          // (And so we can't know the height without measuring all column-cells first).\n          if (!deferredMeasurementCache.hasFixedHeight()) {\n            for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n              if (!deferredMeasurementCache.has(rowIndex, 0)) {\n                columnStartIndex = 0;\n                columnStopIndex = columnCount - 1;\n                break;\n              }\n            }\n          } // If columns have a dynamic width, scan the columns we are about to render.\n          // If any have not yet been measured, then we need to render all rows initially,\n          // Because the width of the column is equal to the widest cell within that column,\n          // (And so we can't know the width without measuring all row-cells first).\n\n\n          if (!deferredMeasurementCache.hasFixedWidth()) {\n            for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n              if (!deferredMeasurementCache.has(0, columnIndex)) {\n                rowStartIndex = 0;\n                rowStopIndex = rowCount - 1;\n                break;\n              }\n            }\n          }\n        }\n\n        this._childrenToDisplay = cellRangeRenderer({\n          cellCache: this._cellCache,\n          cellRenderer: cellRenderer,\n          columnSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          columnStartIndex: columnStartIndex,\n          columnStopIndex: columnStopIndex,\n          deferredMeasurementCache: deferredMeasurementCache,\n          horizontalOffsetAdjustment: horizontalOffsetAdjustment,\n          isScrolling: isScrolling,\n          isScrollingOptOut: isScrollingOptOut,\n          parent: this,\n          rowSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          rowStartIndex: rowStartIndex,\n          rowStopIndex: rowStopIndex,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          styleCache: this._styleCache,\n          verticalOffsetAdjustment: verticalOffsetAdjustment,\n          visibleColumnIndices: visibleColumnIndices,\n          visibleRowIndices: visibleRowIndices\n        }); // update the indices\n\n        this._columnStartIndex = columnStartIndex;\n        this._columnStopIndex = columnStopIndex;\n        this._rowStartIndex = rowStartIndex;\n        this._rowStopIndex = rowStopIndex;\n      }\n    }\n    /**\n     * Sets an :isScrolling flag for a small window of time.\n     * This flag is used to disable pointer events on the scrollable portion of the Grid.\n     * This prevents jerky/stuttery mouse-wheel scrolling.\n     */\n\n  }, {\n    key: \"_debounceScrollEnded\",\n    value: function _debounceScrollEnded() {\n      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;\n\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n\n      this._disablePointerEventsTimeoutId = requestAnimationTimeout(this._debounceScrollEndedCallback, scrollingResetTimeInterval);\n    }\n  }, {\n    key: \"_handleInvalidatedGridSize\",\n\n    /**\n     * Check for batched CellMeasurer size invalidations.\n     * This will occur the first time one or more previously unmeasured cells are rendered.\n     */\n    value: function _handleInvalidatedGridSize() {\n      if (typeof this._deferredInvalidateColumnIndex === 'number' && typeof this._deferredInvalidateRowIndex === 'number') {\n        var columnIndex = this._deferredInvalidateColumnIndex;\n        var rowIndex = this._deferredInvalidateRowIndex;\n        this._deferredInvalidateColumnIndex = null;\n        this._deferredInvalidateRowIndex = null;\n        this.recomputeGridSize({\n          columnIndex: columnIndex,\n          rowIndex: rowIndex\n        });\n      }\n    }\n  }, {\n    key: \"_invokeOnScrollMemoizer\",\n    value: function _invokeOnScrollMemoizer(_ref6) {\n      var _this3 = this;\n\n      var scrollLeft = _ref6.scrollLeft,\n          scrollTop = _ref6.scrollTop,\n          totalColumnsWidth = _ref6.totalColumnsWidth,\n          totalRowsHeight = _ref6.totalRowsHeight;\n\n      this._onScrollMemoizer({\n        callback: function callback(_ref7) {\n          var scrollLeft = _ref7.scrollLeft,\n              scrollTop = _ref7.scrollTop;\n          var _this3$props = _this3.props,\n              height = _this3$props.height,\n              onScroll = _this3$props.onScroll,\n              width = _this3$props.width;\n          onScroll({\n            clientHeight: height,\n            clientWidth: width,\n            scrollHeight: totalRowsHeight,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop,\n            scrollWidth: totalColumnsWidth\n          });\n        },\n        indices: {\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        }\n      });\n    }\n  }, {\n    key: \"_isScrolling\",\n    value: function _isScrolling() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      // If isScrolling is defined in props, use it to override the value in state\n      // This is a performance optimization for WindowScroller + Grid\n      return Object.hasOwnProperty.call(props, 'isScrolling') ? Boolean(props.isScrolling) : Boolean(state.isScrolling);\n    }\n  }, {\n    key: \"_maybeCallOnScrollbarPresenceChange\",\n    value: function _maybeCallOnScrollbarPresenceChange() {\n      if (this._scrollbarPresenceChanged) {\n        var onScrollbarPresenceChange = this.props.onScrollbarPresenceChange;\n        this._scrollbarPresenceChanged = false;\n        onScrollbarPresenceChange({\n          horizontal: this._horizontalScrollBarSize > 0,\n          size: this.state.instanceProps.scrollbarSize,\n          vertical: this._verticalScrollBarSize > 0\n        });\n      }\n    }\n  }, {\n    key: \"scrollToPosition\",\n\n    /**\n     * Scroll to the specified offset(s).\n     * Useful for animating position changes.\n     */\n    value: function scrollToPosition(_ref8) {\n      var scrollLeft = _ref8.scrollLeft,\n          scrollTop = _ref8.scrollTop;\n\n      var stateUpdate = Grid._getScrollToPositionStateUpdate({\n        prevState: this.state,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop\n      });\n\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }, {\n    key: \"_getCalculatedScrollLeft\",\n    value: function _getCalculatedScrollLeft() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      return Grid._getCalculatedScrollLeft(props, state);\n    }\n  }, {\n    key: \"_updateScrollLeftForScrollToColumn\",\n    value: function _updateScrollLeftForScrollToColumn() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollLeftForScrollToColumnStateUpdate(props, state);\n\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }, {\n    key: \"_getCalculatedScrollTop\",\n    value: function _getCalculatedScrollTop() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      return Grid._getCalculatedScrollTop(props, state);\n    }\n  }, {\n    key: \"_resetStyleCache\",\n    value: function _resetStyleCache() {\n      var styleCache = this._styleCache;\n      var cellCache = this._cellCache;\n      var isScrollingOptOut = this.props.isScrollingOptOut; // Reset cell and style caches once scrolling stops.\n      // This makes Grid simpler to use (since cells commonly change).\n      // And it keeps the caches from growing too large.\n      // Performance is most sensitive when a user is scrolling.\n      // Don't clear visible cells from cellCache if isScrollingOptOut is specified.\n      // This keeps the cellCache to a resonable size.\n\n      this._cellCache = {};\n      this._styleCache = {}; // Copy over the visible cell styles so avoid unnecessary re-render.\n\n      for (var rowIndex = this._rowStartIndex; rowIndex <= this._rowStopIndex; rowIndex++) {\n        for (var columnIndex = this._columnStartIndex; columnIndex <= this._columnStopIndex; columnIndex++) {\n          var key = \"\".concat(rowIndex, \"-\").concat(columnIndex);\n          this._styleCache[key] = styleCache[key];\n\n          if (isScrollingOptOut) {\n            this._cellCache[key] = cellCache[key];\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_updateScrollTopForScrollToRow\",\n    value: function _updateScrollTopForScrollToRow() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollTopForScrollToRowStateUpdate(props, state);\n\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var newState = {};\n\n      if (nextProps.columnCount === 0 && prevState.scrollLeft !== 0 || nextProps.rowCount === 0 && prevState.scrollTop !== 0) {\n        newState.scrollLeft = 0;\n        newState.scrollTop = 0; // only use scroll{Left,Top} from props if scrollTo{Column,Row} isn't specified\n        // scrollTo{Column,Row} should override scroll{Left,Top}\n      } else if (nextProps.scrollLeft !== prevState.scrollLeft && nextProps.scrollToColumn < 0 || nextProps.scrollTop !== prevState.scrollTop && nextProps.scrollToRow < 0) {\n        Object.assign(newState, Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: nextProps.scrollLeft,\n          scrollTop: nextProps.scrollTop\n        }));\n      }\n\n      var instanceProps = prevState.instanceProps; // Initially we should not clearStyleCache\n\n      newState.needToResetStyleCache = false;\n\n      if (nextProps.columnWidth !== instanceProps.prevColumnWidth || nextProps.rowHeight !== instanceProps.prevRowHeight) {\n        // Reset cache. set it to {} in render\n        newState.needToResetStyleCache = true;\n      }\n\n      instanceProps.columnSizeAndPositionManager.configure({\n        cellCount: nextProps.columnCount,\n        estimatedCellSize: Grid._getEstimatedColumnSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.columnWidth)\n      });\n      instanceProps.rowSizeAndPositionManager.configure({\n        cellCount: nextProps.rowCount,\n        estimatedCellSize: Grid._getEstimatedRowSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.rowHeight)\n      });\n\n      if (instanceProps.prevColumnCount === 0 || instanceProps.prevRowCount === 0) {\n        instanceProps.prevColumnCount = 0;\n        instanceProps.prevRowCount = 0;\n      } // If scrolling is controlled outside this component, clear cache when scrolling stops\n\n\n      if (nextProps.autoHeight && nextProps.isScrolling === false && instanceProps.prevIsScrolling === true) {\n        Object.assign(newState, {\n          isScrolling: false\n        });\n      }\n\n      var maybeStateA;\n      var maybeStateB;\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevColumnCount,\n        cellSize: typeof instanceProps.prevColumnWidth === 'number' ? instanceProps.prevColumnWidth : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.columnSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.columnCount,\n        nextCellSize: typeof nextProps.columnWidth === 'number' ? nextProps.columnWidth : null,\n        nextScrollToIndex: nextProps.scrollToColumn,\n        scrollToIndex: instanceProps.prevScrollToColumn,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateA = Grid._getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState);\n        }\n      });\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevRowCount,\n        cellSize: typeof instanceProps.prevRowHeight === 'number' ? instanceProps.prevRowHeight : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.rowSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.rowCount,\n        nextCellSize: typeof nextProps.rowHeight === 'number' ? nextProps.rowHeight : null,\n        nextScrollToIndex: nextProps.scrollToRow,\n        scrollToIndex: instanceProps.prevScrollToRow,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateB = Grid._getScrollTopForScrollToRowStateUpdate(nextProps, prevState);\n        }\n      });\n      instanceProps.prevColumnCount = nextProps.columnCount;\n      instanceProps.prevColumnWidth = nextProps.columnWidth;\n      instanceProps.prevIsScrolling = nextProps.isScrolling === true;\n      instanceProps.prevRowCount = nextProps.rowCount;\n      instanceProps.prevRowHeight = nextProps.rowHeight;\n      instanceProps.prevScrollToColumn = nextProps.scrollToColumn;\n      instanceProps.prevScrollToRow = nextProps.scrollToRow; // getting scrollBarSize (moved from componentWillMount)\n\n      instanceProps.scrollbarSize = nextProps.getScrollbarSize();\n\n      if (instanceProps.scrollbarSize === undefined) {\n        instanceProps.scrollbarSizeMeasured = false;\n        instanceProps.scrollbarSize = 0;\n      } else {\n        instanceProps.scrollbarSizeMeasured = true;\n      }\n\n      newState.instanceProps = instanceProps;\n      return _objectSpread({}, newState, {}, maybeStateA, {}, maybeStateB);\n    }\n  }, {\n    key: \"_getEstimatedColumnSize\",\n    value: function _getEstimatedColumnSize(props) {\n      return typeof props.columnWidth === 'number' ? props.columnWidth : props.estimatedColumnSize;\n    }\n  }, {\n    key: \"_getEstimatedRowSize\",\n    value: function _getEstimatedRowSize(props) {\n      return typeof props.rowHeight === 'number' ? props.rowHeight : props.estimatedRowSize;\n    }\n  }, {\n    key: \"_getScrollToPositionStateUpdate\",\n\n    /**\n     * Get the updated state after scrolling to\n     * scrollLeft and scrollTop\n     */\n    value: function _getScrollToPositionStateUpdate(_ref9) {\n      var prevState = _ref9.prevState,\n          scrollLeft = _ref9.scrollLeft,\n          scrollTop = _ref9.scrollTop;\n      var newState = {\n        scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n      };\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0) {\n        newState.scrollDirectionHorizontal = scrollLeft > prevState.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollLeft = scrollLeft;\n      }\n\n      if (typeof scrollTop === 'number' && scrollTop >= 0) {\n        newState.scrollDirectionVertical = scrollTop > prevState.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollTop = scrollTop;\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 && scrollLeft !== prevState.scrollLeft || typeof scrollTop === 'number' && scrollTop >= 0 && scrollTop !== prevState.scrollTop) {\n        return newState;\n      }\n\n      return {};\n    }\n  }, {\n    key: \"_wrapSizeGetter\",\n    value: function _wrapSizeGetter(value) {\n      return typeof value === 'function' ? value : function () {\n        return value;\n      };\n    }\n  }, {\n    key: \"_getCalculatedScrollLeft\",\n    value: function _getCalculatedScrollLeft(nextProps, prevState) {\n      var columnCount = nextProps.columnCount,\n          height = nextProps.height,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToColumn = nextProps.scrollToColumn,\n          width = nextProps.width;\n      var scrollLeft = prevState.scrollLeft,\n          instanceProps = prevState.instanceProps;\n\n      if (columnCount > 0) {\n        var finalColumn = columnCount - 1;\n        var targetIndex = scrollToColumn < 0 ? finalColumn : Math.min(finalColumn, scrollToColumn);\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n        return instanceProps.columnSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: width - scrollBarSize,\n          currentOffset: scrollLeft,\n          targetIndex: targetIndex\n        });\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"_getScrollLeftForScrollToColumnStateUpdate\",\n    value: function _getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState) {\n      var scrollLeft = prevState.scrollLeft;\n\n      var calculatedScrollLeft = Grid._getCalculatedScrollLeft(nextProps, prevState);\n\n      if (typeof calculatedScrollLeft === 'number' && calculatedScrollLeft >= 0 && scrollLeft !== calculatedScrollLeft) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: calculatedScrollLeft,\n          scrollTop: -1\n        });\n      }\n\n      return {};\n    }\n  }, {\n    key: \"_getCalculatedScrollTop\",\n    value: function _getCalculatedScrollTop(nextProps, prevState) {\n      var height = nextProps.height,\n          rowCount = nextProps.rowCount,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToRow = nextProps.scrollToRow,\n          width = nextProps.width;\n      var scrollTop = prevState.scrollTop,\n          instanceProps = prevState.instanceProps;\n\n      if (rowCount > 0) {\n        var finalRow = rowCount - 1;\n        var targetIndex = scrollToRow < 0 ? finalRow : Math.min(finalRow, scrollToRow);\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n        return instanceProps.rowSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: height - scrollBarSize,\n          currentOffset: scrollTop,\n          targetIndex: targetIndex\n        });\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"_getScrollTopForScrollToRowStateUpdate\",\n    value: function _getScrollTopForScrollToRowStateUpdate(nextProps, prevState) {\n      var scrollTop = prevState.scrollTop;\n\n      var calculatedScrollTop = Grid._getCalculatedScrollTop(nextProps, prevState);\n\n      if (typeof calculatedScrollTop === 'number' && calculatedScrollTop >= 0 && scrollTop !== calculatedScrollTop) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: -1,\n          scrollTop: calculatedScrollTop\n        });\n      }\n\n      return {};\n    }\n  }]);\n\n  return Grid;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"aria-label\": PropTypes.string.isRequired,\n  \"aria-readonly\": PropTypes.bool,\n\n  /**\n   * Set the width of the inner scrollable container to 'auto'.\n   * This is useful for single-column Grids to ensure that the column doesn't extend below a vertical scrollbar.\n   */\n  \"autoContainerWidth\": PropTypes.bool.isRequired,\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height of rows can stretch the window.\n   * Intended for use with WindowScroller\n   */\n  \"autoHeight\": PropTypes.bool.isRequired,\n\n  /**\n   * Removes fixed width from the scrollingContainer so that the total width of rows can stretch the window.\n   * Intended for use with WindowScroller\n   */\n  \"autoWidth\": PropTypes.bool.isRequired,\n\n  /** Responsible for rendering a cell given an row and column index.  */\n  \"cellRenderer\": function cellRenderer() {\n    return (typeof bpfrpt_proptype_CellRenderer === \"function\" ? bpfrpt_proptype_CellRenderer.isRequired ? bpfrpt_proptype_CellRenderer.isRequired : bpfrpt_proptype_CellRenderer : PropTypes.shape(bpfrpt_proptype_CellRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Responsible for rendering a group of cells given their index ranges.  */\n  \"cellRangeRenderer\": function cellRangeRenderer() {\n    return (typeof bpfrpt_proptype_CellRangeRenderer === \"function\" ? bpfrpt_proptype_CellRangeRenderer.isRequired ? bpfrpt_proptype_CellRangeRenderer.isRequired : bpfrpt_proptype_CellRangeRenderer : PropTypes.shape(bpfrpt_proptype_CellRangeRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Optional custom CSS class name to attach to root Grid element.  */\n  \"className\": PropTypes.string,\n\n  /** Number of columns in grid.  */\n  \"columnCount\": PropTypes.number.isRequired,\n\n  /** Either a fixed column width (number) or a function that returns the width of a column given its index.  */\n  \"columnWidth\": function columnWidth() {\n    return (typeof bpfrpt_proptype_CellSize === \"function\" ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : PropTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n  /** Unfiltered props for the Grid container. */\n  \"containerProps\": PropTypes.object,\n\n  /** ARIA role for the cell-container.  */\n  \"containerRole\": PropTypes.string.isRequired,\n\n  /** Optional inline style applied to inner cell-container */\n  \"containerStyle\": PropTypes.object.isRequired,\n\n  /**\n   * If CellMeasurer is used to measure this Grid's children, this should be a pointer to its CellMeasurerCache.\n   * A shared CellMeasurerCache reference enables Grid and CellMeasurer to share measurement data.\n   */\n  \"deferredMeasurementCache\": PropTypes.object,\n\n  /**\n   * Used to estimate the total width of a Grid before all of its columns have actually been measured.\n   * The estimated total width is adjusted as columns are rendered.\n   */\n  \"estimatedColumnSize\": PropTypes.number.isRequired,\n\n  /**\n   * Used to estimate the total height of a Grid before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  \"estimatedRowSize\": PropTypes.number.isRequired,\n\n  /** Exposed for testing purposes only.  */\n  \"getScrollbarSize\": PropTypes.func.isRequired,\n\n  /** Height of Grid; this property determines the number of visible (vs virtualized) rows.  */\n  \"height\": PropTypes.number.isRequired,\n\n  /** Optional custom id to attach to root Grid element.  */\n  \"id\": PropTypes.string,\n\n  /**\n   * Override internal is-scrolling state tracking.\n   * This property is primarily intended for use with the WindowScroller component.\n   */\n  \"isScrolling\": PropTypes.bool,\n\n  /**\n   * Opt-out of isScrolling param passed to cellRangeRenderer.\n   * To avoid the extra render when scroll stops.\n   */\n  \"isScrollingOptOut\": PropTypes.bool.isRequired,\n\n  /** Optional renderer to be used in place of rows when either :rowCount or :columnCount is 0.  */\n  \"noContentRenderer\": function noContentRenderer() {\n    return (typeof bpfrpt_proptype_NoContentRenderer === \"function\" ? bpfrpt_proptype_NoContentRenderer.isRequired ? bpfrpt_proptype_NoContentRenderer.isRequired : bpfrpt_proptype_NoContentRenderer : PropTypes.shape(bpfrpt_proptype_NoContentRenderer).isRequired).apply(this, arguments);\n  },\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   */\n  \"onScroll\": PropTypes.func.isRequired,\n\n  /**\n   * Called whenever a horizontal or vertical scrollbar is added or removed.\n   * This prop is not intended for end-user use;\n   * It is used by MultiGrid to support fixed-row/fixed-column scroll syncing.\n   */\n  \"onScrollbarPresenceChange\": PropTypes.func.isRequired,\n\n  /** Callback invoked with information about the section of the Grid that was just rendered.  */\n  \"onSectionRendered\": PropTypes.func.isRequired,\n\n  /**\n   * Number of columns to render before/after the visible section of the grid.\n   * These columns can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.\n   */\n  \"overscanColumnCount\": PropTypes.number.isRequired,\n\n  /**\n   * Calculates the number of cells to overscan before and after a specified range.\n   * This function ensures that overscanning doesn't exceed the available cells.\n   */\n  \"overscanIndicesGetter\": function overscanIndicesGetter() {\n    return (typeof bpfrpt_proptype_OverscanIndicesGetter === \"function\" ? bpfrpt_proptype_OverscanIndicesGetter.isRequired ? bpfrpt_proptype_OverscanIndicesGetter.isRequired : bpfrpt_proptype_OverscanIndicesGetter : PropTypes.shape(bpfrpt_proptype_OverscanIndicesGetter).isRequired).apply(this, arguments);\n  },\n\n  /**\n   * Number of rows to render above/below the visible section of the grid.\n   * These rows can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.\n   */\n  \"overscanRowCount\": PropTypes.number.isRequired,\n\n  /** ARIA role for the grid element.  */\n  \"role\": PropTypes.string.isRequired,\n\n  /**\n   * Either a fixed row height (number) or a function that returns the height of a row given its index.\n   * Should implement the following interface: ({ index: number }): number\n   */\n  \"rowHeight\": function rowHeight() {\n    return (typeof bpfrpt_proptype_CellSize === \"function\" ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : PropTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n  /** Number of rows in grid.  */\n  \"rowCount\": PropTypes.number.isRequired,\n\n  /** Wait this amount of time after the last scroll event before resetting Grid `pointer-events`. */\n  \"scrollingResetTimeInterval\": PropTypes.number.isRequired,\n\n  /** Horizontal offset. */\n  \"scrollLeft\": PropTypes.number,\n\n  /**\n   * Controls scroll-to-cell behavior of the Grid.\n   * The default (\"auto\") scrolls the least amount possible to ensure that the specified cell is fully visible.\n   * Use \"start\" to align cells to the top/left of the Grid and \"end\" to align bottom/right.\n   */\n  \"scrollToAlignment\": function scrollToAlignment() {\n    return (typeof bpfrpt_proptype_Alignment === \"function\" ? bpfrpt_proptype_Alignment.isRequired ? bpfrpt_proptype_Alignment.isRequired : bpfrpt_proptype_Alignment : PropTypes.shape(bpfrpt_proptype_Alignment).isRequired).apply(this, arguments);\n  },\n\n  /** Column index to ensure visible (by forcefully scrolling if necessary) */\n  \"scrollToColumn\": PropTypes.number.isRequired,\n\n  /** Vertical offset. */\n  \"scrollTop\": PropTypes.number,\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  \"scrollToRow\": PropTypes.number.isRequired,\n\n  /** Optional inline style */\n  \"style\": PropTypes.object.isRequired,\n\n  /** Tab index for focus */\n  \"tabIndex\": PropTypes.number,\n\n  /** Width of Grid; this property determines the number of visible (vs virtualized) columns.  */\n  \"width\": PropTypes.number.isRequired\n}), _temp);\n\n_defineProperty(Grid, \"defaultProps\", {\n  'aria-label': 'grid',\n  'aria-readonly': true,\n  autoContainerWidth: false,\n  autoHeight: false,\n  autoWidth: false,\n  cellRangeRenderer: defaultCellRangeRenderer,\n  containerRole: 'rowgroup',\n  containerStyle: {},\n  estimatedColumnSize: 100,\n  estimatedRowSize: 30,\n  getScrollbarSize: scrollbarSize,\n  noContentRenderer: renderNull,\n  onScroll: function onScroll() {},\n  onScrollbarPresenceChange: function onScrollbarPresenceChange() {},\n  onSectionRendered: function onSectionRendered() {},\n  overscanColumnCount: 0,\n  overscanIndicesGetter: defaultOverscanIndicesGetter,\n  overscanRowCount: 10,\n  role: 'grid',\n  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,\n  scrollToAlignment: 'auto',\n  scrollToColumn: -1,\n  scrollToRow: -1,\n  style: {},\n  tabIndex: 0,\n  isScrollingOptOut: false\n});\n\npolyfill(Grid);\nexport default Grid;\nimport { bpfrpt_proptype_CellRenderer } from \"./types\";\nimport { bpfrpt_proptype_CellRangeRenderer } from \"./types\";\nimport { bpfrpt_proptype_CellPosition } from \"./types\";\nimport { bpfrpt_proptype_CellSize } from \"./types\";\nimport { bpfrpt_proptype_CellSizeGetter } from \"./types\";\nimport { bpfrpt_proptype_NoContentRenderer } from \"./types\";\nimport { bpfrpt_proptype_Scroll } from \"./types\";\nimport { bpfrpt_proptype_ScrollbarPresenceChange } from \"./types\";\nimport { bpfrpt_proptype_RenderedSection } from \"./types\";\nimport { bpfrpt_proptype_OverscanIndicesGetter } from \"./types\";\nimport { bpfrpt_proptype_Alignment } from \"./types\";\nimport { bpfrpt_proptype_CellCache } from \"./types\";\nimport { bpfrpt_proptype_StyleCache } from \"./types\";\nimport { bpfrpt_proptype_AnimationTimeoutId } from \"../utils/requestAnimationTimeout\";\nimport PropTypes from \"prop-types\";","import { caf, raf } from './animationFrame';\nvar bpfrpt_proptype_AnimationTimeoutId = process.env.NODE_ENV === 'production' ? null : {\n  \"id\": PropTypes.number.isRequired\n};\nexport var cancelAnimationTimeout = function cancelAnimationTimeout(frame) {\n  return caf(frame.id);\n};\n/**\n * Recursively calls requestAnimationFrame until a specified delay has been met or exceeded.\n * When the delay time has been reached the function you're timing out will be called.\n *\n * Credit: Joe Lambert (https://gist.github.com/joelambert/1002116#file-requesttimeout-js)\n */\n\nexport var requestAnimationTimeout = function requestAnimationTimeout(callback, delay) {\n  var start; // wait for end of processing current event handler, because event handler may be long\n\n  Promise.resolve().then(function () {\n    start = Date.now();\n  });\n\n  var timeout = function timeout() {\n    if (Date.now() - start >= delay) {\n      callback.call();\n    } else {\n      frame.id = raf(timeout);\n    }\n  };\n\n  var frame = {\n    id: raf(timeout)\n  };\n  return frame;\n};\nimport PropTypes from \"prop-types\";\nexport { bpfrpt_proptype_AnimationTimeoutId };","export var SCROLL_DIRECTION_BACKWARD = -1;\nexport var SCROLL_DIRECTION_FORWARD = 1;\nexport var SCROLL_DIRECTION_HORIZONTAL = 'horizontal';\nexport var SCROLL_DIRECTION_VERTICAL = 'vertical';\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nexport default function defaultOverscanIndicesGetter(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex;\n\n  if (scrollDirection === SCROLL_DIRECTION_FORWARD) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex)\n    };\n  }\n}\nimport { bpfrpt_proptype_OverscanIndicesGetterParams } from \"./types\";\nimport { bpfrpt_proptype_OverscanIndices } from \"./types\";","/**\n * Default implementation of cellRangeRenderer used by Grid.\n * This renderer supports cell-caching while the user is scrolling.\n */\nexport default function defaultCellRangeRenderer(_ref) {\n  var cellCache = _ref.cellCache,\n      cellRenderer = _ref.cellRenderer,\n      columnSizeAndPositionManager = _ref.columnSizeAndPositionManager,\n      columnStartIndex = _ref.columnStartIndex,\n      columnStopIndex = _ref.columnStopIndex,\n      deferredMeasurementCache = _ref.deferredMeasurementCache,\n      horizontalOffsetAdjustment = _ref.horizontalOffsetAdjustment,\n      isScrolling = _ref.isScrolling,\n      isScrollingOptOut = _ref.isScrollingOptOut,\n      parent = _ref.parent,\n      rowSizeAndPositionManager = _ref.rowSizeAndPositionManager,\n      rowStartIndex = _ref.rowStartIndex,\n      rowStopIndex = _ref.rowStopIndex,\n      styleCache = _ref.styleCache,\n      verticalOffsetAdjustment = _ref.verticalOffsetAdjustment,\n      visibleColumnIndices = _ref.visibleColumnIndices,\n      visibleRowIndices = _ref.visibleRowIndices;\n  var renderedCells = []; // Browsers have native size limits for elements (eg Chrome 33M pixels, IE 1.5M pixes).\n  // User cannot scroll beyond these size limitations.\n  // In order to work around this, ScalingCellSizeAndPositionManager compresses offsets.\n  // We should never cache styles for compressed offsets though as this can lead to bugs.\n  // See issue #576 for more.\n\n  var areOffsetsAdjusted = columnSizeAndPositionManager.areOffsetsAdjusted() || rowSizeAndPositionManager.areOffsetsAdjusted();\n  var canCacheStyle = !isScrolling && !areOffsetsAdjusted;\n\n  for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n    var rowDatum = rowSizeAndPositionManager.getSizeAndPositionOfCell(rowIndex);\n\n    for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n      var columnDatum = columnSizeAndPositionManager.getSizeAndPositionOfCell(columnIndex);\n      var isVisible = columnIndex >= visibleColumnIndices.start && columnIndex <= visibleColumnIndices.stop && rowIndex >= visibleRowIndices.start && rowIndex <= visibleRowIndices.stop;\n      var key = \"\".concat(rowIndex, \"-\").concat(columnIndex);\n      var style = void 0; // Cache style objects so shallow-compare doesn't re-render unnecessarily.\n\n      if (canCacheStyle && styleCache[key]) {\n        style = styleCache[key];\n      } else {\n        // In deferred mode, cells will be initially rendered before we know their size.\n        // Don't interfere with CellMeasurer's measurements by setting an invalid size.\n        if (deferredMeasurementCache && !deferredMeasurementCache.has(rowIndex, columnIndex)) {\n          // Position not-yet-measured cells at top/left 0,0,\n          // And give them width/height of 'auto' so they can grow larger than the parent Grid if necessary.\n          // Positioning them further to the right/bottom influences their measured size.\n          style = {\n            height: 'auto',\n            left: 0,\n            position: 'absolute',\n            top: 0,\n            width: 'auto'\n          };\n        } else {\n          style = {\n            height: rowDatum.size,\n            left: columnDatum.offset + horizontalOffsetAdjustment,\n            position: 'absolute',\n            top: rowDatum.offset + verticalOffsetAdjustment,\n            width: columnDatum.size\n          };\n          styleCache[key] = style;\n        }\n      }\n\n      var cellRendererParams = {\n        columnIndex: columnIndex,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent,\n        rowIndex: rowIndex,\n        style: style\n      };\n      var renderedCell = void 0; // Avoid re-creating cells while scrolling.\n      // This can lead to the same cell being created many times and can cause performance issues for \"heavy\" cells.\n      // If a scroll is in progress- cache and reuse cells.\n      // This cache will be thrown away once scrolling completes.\n      // However if we are scaling scroll positions and sizes, we should also avoid caching.\n      // This is because the offset changes slightly as scroll position changes and caching leads to stale values.\n      // For more info refer to issue #395\n      //\n      // If isScrollingOptOut is specified, we always cache cells.\n      // For more info refer to issue #1028\n\n      if ((isScrollingOptOut || isScrolling) && !horizontalOffsetAdjustment && !verticalOffsetAdjustment) {\n        if (!cellCache[key]) {\n          cellCache[key] = cellRenderer(cellRendererParams);\n        }\n\n        renderedCell = cellCache[key]; // If the user is no longer scrolling, don't cache cells.\n        // This makes dynamic cell content difficult for users and would also lead to a heavier memory footprint.\n      } else {\n        renderedCell = cellRenderer(cellRendererParams);\n      }\n\n      if (renderedCell == null || renderedCell === false) {\n        continue;\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        warnAboutMissingStyle(parent, renderedCell);\n      }\n\n      renderedCells.push(renderedCell);\n    }\n  }\n\n  return renderedCells;\n}\n\nfunction warnAboutMissingStyle(parent, renderedCell) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (renderedCell) {\n      // If the direct child is a CellMeasurer, then we should check its child\n      // See issue #611\n      if (renderedCell.type && renderedCell.type.__internalCellMeasurerFlag) {\n        renderedCell = renderedCell.props.children;\n      }\n\n      if (renderedCell && renderedCell.props && renderedCell.props.style === undefined && parent.__warnedAboutMissingStyle !== true) {\n        parent.__warnedAboutMissingStyle = true;\n        console.warn('Rendered cell should include style property for positioning.');\n      }\n    }\n  }\n}\n\nimport { bpfrpt_proptype_CellRangeRendererParams } from \"./types\";","export var SCROLL_DIRECTION_BACKWARD = -1;\nexport var SCROLL_DIRECTION_FORWARD = 1;\nexport var SCROLL_DIRECTION_HORIZONTAL = 'horizontal';\nexport var SCROLL_DIRECTION_VERTICAL = 'vertical';\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nexport default function defaultOverscanIndicesGetter(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex;\n  // Make sure we render at least 1 cell extra before and after (except near boundaries)\n  // This is necessary in order to support keyboard navigation (TAB/SHIFT+TAB) in some cases\n  // For more info see issues #625\n  overscanCellsCount = Math.max(1, overscanCellsCount);\n\n  if (scrollDirection === SCROLL_DIRECTION_FORWARD) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - 1),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + 1)\n    };\n  }\n}\nimport { bpfrpt_proptype_OverscanIndicesGetterParams } from \"./types\";\nimport { bpfrpt_proptype_OverscanIndices } from \"./types\";","var bpfrpt_proptype_ScrollIndices = process.env.NODE_ENV === 'production' ? null : {\n  \"scrollToColumn\": PropTypes.number.isRequired,\n  \"scrollToRow\": PropTypes.number.isRequired\n};\nimport PropTypes from \"prop-types\";\nexport { bpfrpt_proptype_ScrollIndices };","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\n/**\n * This HOC decorates a virtualized component and responds to arrow-key events by scrolling one row or column at a time.\n */\n\nvar ArrowKeyStepper = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ArrowKeyStepper, _React$PureComponent);\n\n  function ArrowKeyStepper() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ArrowKeyStepper);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ArrowKeyStepper)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      scrollToColumn: 0,\n      scrollToRow: 0,\n      instanceProps: {\n        prevScrollToColumn: 0,\n        prevScrollToRow: 0\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_columnStartIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_columnStopIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_rowStartIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_rowStopIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyDown\", function (event) {\n      var _this$props = _this.props,\n          columnCount = _this$props.columnCount,\n          disabled = _this$props.disabled,\n          mode = _this$props.mode,\n          rowCount = _this$props.rowCount;\n\n      if (disabled) {\n        return;\n      }\n\n      var _this$_getScrollState = _this._getScrollState(),\n          scrollToColumnPrevious = _this$_getScrollState.scrollToColumn,\n          scrollToRowPrevious = _this$_getScrollState.scrollToRow;\n\n      var _this$_getScrollState2 = _this._getScrollState(),\n          scrollToColumn = _this$_getScrollState2.scrollToColumn,\n          scrollToRow = _this$_getScrollState2.scrollToRow; // The above cases all prevent default event event behavior.\n      // This is to keep the grid from scrolling after the snap-to update.\n\n\n      switch (event.key) {\n        case 'ArrowDown':\n          scrollToRow = mode === 'cells' ? Math.min(scrollToRow + 1, rowCount - 1) : Math.min(_this._rowStopIndex + 1, rowCount - 1);\n          break;\n\n        case 'ArrowLeft':\n          scrollToColumn = mode === 'cells' ? Math.max(scrollToColumn - 1, 0) : Math.max(_this._columnStartIndex - 1, 0);\n          break;\n\n        case 'ArrowRight':\n          scrollToColumn = mode === 'cells' ? Math.min(scrollToColumn + 1, columnCount - 1) : Math.min(_this._columnStopIndex + 1, columnCount - 1);\n          break;\n\n        case 'ArrowUp':\n          scrollToRow = mode === 'cells' ? Math.max(scrollToRow - 1, 0) : Math.max(_this._rowStartIndex - 1, 0);\n          break;\n      }\n\n      if (scrollToColumn !== scrollToColumnPrevious || scrollToRow !== scrollToRowPrevious) {\n        event.preventDefault();\n\n        _this._updateScrollState({\n          scrollToColumn: scrollToColumn,\n          scrollToRow: scrollToRow\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSectionRendered\", function (_ref) {\n      var columnStartIndex = _ref.columnStartIndex,\n          columnStopIndex = _ref.columnStopIndex,\n          rowStartIndex = _ref.rowStartIndex,\n          rowStopIndex = _ref.rowStopIndex;\n      _this._columnStartIndex = columnStartIndex;\n      _this._columnStopIndex = columnStopIndex;\n      _this._rowStartIndex = rowStartIndex;\n      _this._rowStopIndex = rowStopIndex;\n    });\n\n    return _this;\n  }\n\n  _createClass(ArrowKeyStepper, [{\n    key: \"setScrollIndexes\",\n    value: function setScrollIndexes(_ref2) {\n      var scrollToColumn = _ref2.scrollToColumn,\n          scrollToRow = _ref2.scrollToRow;\n      this.setState({\n        scrollToRow: scrollToRow,\n        scrollToColumn: scrollToColumn\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          className = _this$props2.className,\n          children = _this$props2.children;\n\n      var _this$_getScrollState3 = this._getScrollState(),\n          scrollToColumn = _this$_getScrollState3.scrollToColumn,\n          scrollToRow = _this$_getScrollState3.scrollToRow;\n\n      return React.createElement(\"div\", {\n        className: className,\n        onKeyDown: this._onKeyDown\n      }, children({\n        onSectionRendered: this._onSectionRendered,\n        scrollToColumn: scrollToColumn,\n        scrollToRow: scrollToRow\n      }));\n    }\n  }, {\n    key: \"_getScrollState\",\n    value: function _getScrollState() {\n      return this.props.isControlled ? this.props : this.state;\n    }\n  }, {\n    key: \"_updateScrollState\",\n    value: function _updateScrollState(_ref3) {\n      var scrollToColumn = _ref3.scrollToColumn,\n          scrollToRow = _ref3.scrollToRow;\n      var _this$props3 = this.props,\n          isControlled = _this$props3.isControlled,\n          onScrollToChange = _this$props3.onScrollToChange;\n\n      if (typeof onScrollToChange === 'function') {\n        onScrollToChange({\n          scrollToColumn: scrollToColumn,\n          scrollToRow: scrollToRow\n        });\n      }\n\n      if (!isControlled) {\n        this.setState({\n          scrollToColumn: scrollToColumn,\n          scrollToRow: scrollToRow\n        });\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.isControlled) {\n        return {};\n      }\n\n      if (nextProps.scrollToColumn !== prevState.instanceProps.prevScrollToColumn || nextProps.scrollToRow !== prevState.instanceProps.prevScrollToRow) {\n        return _objectSpread({}, prevState, {\n          scrollToColumn: nextProps.scrollToColumn,\n          scrollToRow: nextProps.scrollToRow,\n          instanceProps: {\n            prevScrollToColumn: nextProps.scrollToColumn,\n            prevScrollToRow: nextProps.scrollToRow\n          }\n        });\n      }\n\n      return {};\n    }\n  }]);\n\n  return ArrowKeyStepper;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"children\": PropTypes.func.isRequired,\n  \"className\": PropTypes.string,\n  \"columnCount\": PropTypes.number.isRequired,\n  \"disabled\": PropTypes.bool.isRequired,\n  \"isControlled\": PropTypes.bool.isRequired,\n  \"mode\": PropTypes.oneOf([\"cells\", \"edges\"]).isRequired,\n  \"onScrollToChange\": PropTypes.func,\n  \"rowCount\": PropTypes.number.isRequired,\n  \"scrollToColumn\": PropTypes.number.isRequired,\n  \"scrollToRow\": PropTypes.number.isRequired\n}), _temp);\n\n_defineProperty(ArrowKeyStepper, \"defaultProps\", {\n  disabled: false,\n  isControlled: false,\n  mode: 'edges',\n  scrollToColumn: 0,\n  scrollToRow: 0\n});\n\npolyfill(ArrowKeyStepper);\nexport default ArrowKeyStepper;\nimport { bpfrpt_proptype_RenderedSection } from \"../Grid\";\nimport { bpfrpt_proptype_ScrollIndices } from \"./types\";\nimport PropTypes from \"prop-types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport createDetectElementResize from '../vendor/detectElementResize';\nvar AutoSizer = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AutoSizer, _React$Component);\n\n  function AutoSizer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AutoSizer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_parentNode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_autoSizer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_window\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_detectElementResize\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onResize\", function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n        var height = _this._parentNode.offsetHeight || 0;\n        var width = _this._parentNode.offsetWidth || 0;\n        var win = _this._window || window;\n        var style = win.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(style.paddingBottom, 10) || 0;\n        var newHeight = height - paddingTop - paddingBottom;\n        var newWidth = width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: height - paddingTop - paddingBottom,\n            width: width - paddingLeft - paddingRight\n          });\n\n          onResize({\n            height: height,\n            width: width\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setRef\", function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    });\n\n    return _this;\n  }\n\n  _createClass(AutoSizer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n        this._window = this._autoSizer.parentNode.ownerDocument.defaultView; // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n\n        this._detectElementResize = createDetectElementResize(nonce, this._window);\n\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          className = _this$props2.className,\n          disableHeight = _this$props2.disableHeight,\n          disableWidth = _this$props2.disableWidth,\n          style = _this$props2.style;\n      var _this$state = this.state,\n          height = _this$state.height,\n          width = _this$state.width; // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = {\n        overflow: 'visible'\n      };\n      var childParams = {};\n\n      if (!disableHeight) {\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n      /**\n       * TODO: Avoid rendering children before the initial measurements have been collected.\n       * At best this would just be wasting cycles.\n       * Add this check into version 10 though as it could break too many ref callbacks in version 9.\n       * Note that if default width/height props were provided this would still work with SSR.\n      if (\n        height !== 0 &&\n        width !== 0\n      ) {\n        child = children({ height, width })\n      }\n      */\n\n\n      return React.createElement(\"div\", {\n        className: className,\n        ref: this._setRef,\n        style: _objectSpread({}, outerStyle, {}, style)\n      }, children(childParams));\n    }\n  }]);\n\n  return AutoSizer;\n}(React.Component), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  /** Function responsible for rendering children.*/\n  \"children\": PropTypes.func.isRequired,\n\n  /** Optional custom CSS class name to attach to root AutoSizer element.  */\n  \"className\": PropTypes.string,\n\n  /** Default height to use for initial render; useful for SSR */\n  \"defaultHeight\": PropTypes.number,\n\n  /** Default width to use for initial render; useful for SSR */\n  \"defaultWidth\": PropTypes.number,\n\n  /** Disable dynamic :height property */\n  \"disableHeight\": PropTypes.bool.isRequired,\n\n  /** Disable dynamic :width property */\n  \"disableWidth\": PropTypes.bool.isRequired,\n\n  /** Nonce of the inlined stylesheet for Content Security Policy */\n  \"nonce\": PropTypes.string,\n\n  /** Callback to be invoked on-resize */\n  \"onResize\": PropTypes.func.isRequired,\n\n  /** Optional inline style */\n  \"style\": PropTypes.object\n}), _temp);\n\n_defineProperty(AutoSizer, \"defaultProps\", {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n});\n\nexport { AutoSizer as default };\nimport PropTypes from \"prop-types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\n\n/**\n * Wraps a cell and measures its rendered content.\n * Measurements are stored in a per-cell cache.\n * Cached-content is not be re-measured.\n */\nvar CellMeasurer = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(CellMeasurer, _React$PureComponent);\n\n  function CellMeasurer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CellMeasurer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CellMeasurer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_child\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_measure\", function () {\n      var _this$props = _this.props,\n          cache = _this$props.cache,\n          _this$props$columnInd = _this$props.columnIndex,\n          columnIndex = _this$props$columnInd === void 0 ? 0 : _this$props$columnInd,\n          parent = _this$props.parent,\n          _this$props$rowIndex = _this$props.rowIndex,\n          rowIndex = _this$props$rowIndex === void 0 ? _this.props.index || 0 : _this$props$rowIndex;\n\n      var _this$_getCellMeasure = _this._getCellMeasurements(),\n          height = _this$_getCellMeasure.height,\n          width = _this$_getCellMeasure.width;\n\n      if (height !== cache.getHeight(rowIndex, columnIndex) || width !== cache.getWidth(rowIndex, columnIndex)) {\n        cache.set(rowIndex, columnIndex, width, height);\n\n        if (parent && typeof parent.recomputeGridSize === 'function') {\n          parent.recomputeGridSize({\n            columnIndex: columnIndex,\n            rowIndex: rowIndex\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_registerChild\", function (element) {\n      if (element && !(element instanceof Element)) {\n        console.warn('CellMeasurer registerChild expects to be passed Element or null');\n      }\n\n      _this._child = element;\n\n      if (element) {\n        _this._maybeMeasureCell();\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(CellMeasurer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._maybeMeasureCell();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this._maybeMeasureCell();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return typeof children === 'function' ? children({\n        measure: this._measure,\n        registerChild: this._registerChild\n      }) : children;\n    }\n  }, {\n    key: \"_getCellMeasurements\",\n    value: function _getCellMeasurements() {\n      var cache = this.props.cache;\n      var node = this._child || findDOMNode(this); // TODO Check for a bad combination of fixedWidth and missing numeric width or vice versa with height\n\n      if (node && node.ownerDocument && node.ownerDocument.defaultView && node instanceof node.ownerDocument.defaultView.HTMLElement) {\n        var styleWidth = node.style.width;\n        var styleHeight = node.style.height; // If we are re-measuring a cell that has already been measured,\n        // It will have a hard-coded width/height from the previous measurement.\n        // The fact that we are measuring indicates this measurement is probably stale,\n        // So explicitly clear it out (eg set to \"auto\") so we can recalculate.\n        // See issue #593 for more info.\n        // Even if we are measuring initially- if we're inside of a MultiGrid component,\n        // Explicitly clear width/height before measuring to avoid being tainted by another Grid.\n        // eg top/left Grid renders before bottom/right Grid\n        // Since the CellMeasurerCache is shared between them this taints derived cell size values.\n\n        if (!cache.hasFixedWidth()) {\n          node.style.width = 'auto';\n        }\n\n        if (!cache.hasFixedHeight()) {\n          node.style.height = 'auto';\n        }\n\n        var height = Math.ceil(node.offsetHeight);\n        var width = Math.ceil(node.offsetWidth); // Reset after measuring to avoid breaking styles; see #660\n\n        if (styleWidth) {\n          node.style.width = styleWidth;\n        }\n\n        if (styleHeight) {\n          node.style.height = styleHeight;\n        }\n\n        return {\n          height: height,\n          width: width\n        };\n      } else {\n        return {\n          height: 0,\n          width: 0\n        };\n      }\n    }\n  }, {\n    key: \"_maybeMeasureCell\",\n    value: function _maybeMeasureCell() {\n      var _this$props2 = this.props,\n          cache = _this$props2.cache,\n          _this$props2$columnIn = _this$props2.columnIndex,\n          columnIndex = _this$props2$columnIn === void 0 ? 0 : _this$props2$columnIn,\n          parent = _this$props2.parent,\n          _this$props2$rowIndex = _this$props2.rowIndex,\n          rowIndex = _this$props2$rowIndex === void 0 ? this.props.index || 0 : _this$props2$rowIndex;\n\n      if (!cache.has(rowIndex, columnIndex)) {\n        var _this$_getCellMeasure2 = this._getCellMeasurements(),\n            height = _this$_getCellMeasure2.height,\n            width = _this$_getCellMeasure2.width;\n\n        cache.set(rowIndex, columnIndex, width, height); // If size has changed, let Grid know to re-render.\n\n        if (parent && typeof parent.invalidateCellSizeAfterRender === 'function') {\n          parent.invalidateCellSizeAfterRender({\n            columnIndex: columnIndex,\n            rowIndex: rowIndex\n          });\n        }\n      }\n    }\n  }]);\n\n  return CellMeasurer;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"cache\": function cache() {\n    return (typeof bpfrpt_proptype_CellMeasureCache === \"function\" ? bpfrpt_proptype_CellMeasureCache.isRequired ? bpfrpt_proptype_CellMeasureCache.isRequired : bpfrpt_proptype_CellMeasureCache : PropTypes.shape(bpfrpt_proptype_CellMeasureCache).isRequired).apply(this, arguments);\n  },\n  \"children\": PropTypes.oneOfType([PropTypes.func, PropTypes.node]).isRequired,\n  \"columnIndex\": PropTypes.number,\n  \"index\": PropTypes.number,\n  \"parent\": PropTypes.shape({\n    invalidateCellSizeAfterRender: PropTypes.func,\n    recomputeGridSize: PropTypes.func\n  }).isRequired,\n  \"rowIndex\": PropTypes.number\n}), _temp); // Used for DEV mode warning check\n\n_defineProperty(CellMeasurer, \"__internalCellMeasurerFlag\", false);\n\nexport { CellMeasurer as default };\n\nif (process.env.NODE_ENV !== 'production') {\n  CellMeasurer.__internalCellMeasurerFlag = true;\n}\n\nimport { bpfrpt_proptype_CellMeasureCache } from \"./types\";\nimport PropTypes from \"prop-types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nexport var DEFAULT_HEIGHT = 30;\nexport var DEFAULT_WIDTH = 100; // Enables more intelligent mapping of a given column and row index to an item ID.\n// This prevents a cell cache from being invalidated when its parent collection is modified.\n\n/**\n * Caches measurements for a given cell.\n */\nvar CellMeasurerCache =\n/*#__PURE__*/\nfunction () {\n  function CellMeasurerCache() {\n    var _this = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, CellMeasurerCache);\n\n    _defineProperty(this, \"_cellHeightCache\", {});\n\n    _defineProperty(this, \"_cellWidthCache\", {});\n\n    _defineProperty(this, \"_columnWidthCache\", {});\n\n    _defineProperty(this, \"_rowHeightCache\", {});\n\n    _defineProperty(this, \"_defaultHeight\", void 0);\n\n    _defineProperty(this, \"_defaultWidth\", void 0);\n\n    _defineProperty(this, \"_minHeight\", void 0);\n\n    _defineProperty(this, \"_minWidth\", void 0);\n\n    _defineProperty(this, \"_keyMapper\", void 0);\n\n    _defineProperty(this, \"_hasFixedHeight\", void 0);\n\n    _defineProperty(this, \"_hasFixedWidth\", void 0);\n\n    _defineProperty(this, \"_columnCount\", 0);\n\n    _defineProperty(this, \"_rowCount\", 0);\n\n    _defineProperty(this, \"columnWidth\", function (_ref) {\n      var index = _ref.index;\n\n      var key = _this._keyMapper(0, index);\n\n      return _this._columnWidthCache[key] !== undefined ? _this._columnWidthCache[key] : _this._defaultWidth;\n    });\n\n    _defineProperty(this, \"rowHeight\", function (_ref2) {\n      var index = _ref2.index;\n\n      var key = _this._keyMapper(index, 0);\n\n      return _this._rowHeightCache[key] !== undefined ? _this._rowHeightCache[key] : _this._defaultHeight;\n    });\n\n    var defaultHeight = params.defaultHeight,\n        defaultWidth = params.defaultWidth,\n        fixedHeight = params.fixedHeight,\n        fixedWidth = params.fixedWidth,\n        keyMapper = params.keyMapper,\n        minHeight = params.minHeight,\n        minWidth = params.minWidth;\n    this._hasFixedHeight = fixedHeight === true;\n    this._hasFixedWidth = fixedWidth === true;\n    this._minHeight = minHeight || 0;\n    this._minWidth = minWidth || 0;\n    this._keyMapper = keyMapper || defaultKeyMapper;\n    this._defaultHeight = Math.max(this._minHeight, typeof defaultHeight === 'number' ? defaultHeight : DEFAULT_HEIGHT);\n    this._defaultWidth = Math.max(this._minWidth, typeof defaultWidth === 'number' ? defaultWidth : DEFAULT_WIDTH);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this._hasFixedHeight === false && this._hasFixedWidth === false) {\n        console.warn(\"CellMeasurerCache should only measure a cell's width or height. \" + 'You have configured CellMeasurerCache to measure both. ' + 'This will result in poor performance.');\n      }\n\n      if (this._hasFixedHeight === false && this._defaultHeight === 0) {\n        console.warn('Fixed height CellMeasurerCache should specify a :defaultHeight greater than 0. ' + 'Failing to do so will lead to unnecessary layout and poor performance.');\n      }\n\n      if (this._hasFixedWidth === false && this._defaultWidth === 0) {\n        console.warn('Fixed width CellMeasurerCache should specify a :defaultWidth greater than 0. ' + 'Failing to do so will lead to unnecessary layout and poor performance.');\n      }\n    }\n  }\n\n  _createClass(CellMeasurerCache, [{\n    key: \"clear\",\n    value: function clear(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      delete this._cellHeightCache[key];\n      delete this._cellWidthCache[key];\n\n      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);\n    }\n  }, {\n    key: \"clearAll\",\n    value: function clearAll() {\n      this._cellHeightCache = {};\n      this._cellWidthCache = {};\n      this._columnWidthCache = {};\n      this._rowHeightCache = {};\n      this._rowCount = 0;\n      this._columnCount = 0;\n    }\n  }, {\n    key: \"hasFixedHeight\",\n    value: function hasFixedHeight() {\n      return this._hasFixedHeight;\n    }\n  }, {\n    key: \"hasFixedWidth\",\n    value: function hasFixedWidth() {\n      return this._hasFixedWidth;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (this._hasFixedHeight) {\n        return this._defaultHeight;\n      } else {\n        var _key = this._keyMapper(rowIndex, columnIndex);\n\n        return this._cellHeightCache[_key] !== undefined ? Math.max(this._minHeight, this._cellHeightCache[_key]) : this._defaultHeight;\n      }\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (this._hasFixedWidth) {\n        return this._defaultWidth;\n      } else {\n        var _key2 = this._keyMapper(rowIndex, columnIndex);\n\n        return this._cellWidthCache[_key2] !== undefined ? Math.max(this._minWidth, this._cellWidthCache[_key2]) : this._defaultWidth;\n      }\n    }\n  }, {\n    key: \"has\",\n    value: function has(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      return this._cellHeightCache[key] !== undefined;\n    }\n  }, {\n    key: \"set\",\n    value: function set(rowIndex, columnIndex, width, height) {\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      if (columnIndex >= this._columnCount) {\n        this._columnCount = columnIndex + 1;\n      }\n\n      if (rowIndex >= this._rowCount) {\n        this._rowCount = rowIndex + 1;\n      } // Size is cached per cell so we don't have to re-measure if cells are re-ordered.\n\n\n      this._cellHeightCache[key] = height;\n      this._cellWidthCache[key] = width;\n\n      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);\n    }\n  }, {\n    key: \"_updateCachedColumnAndRowSizes\",\n    value: function _updateCachedColumnAndRowSizes(rowIndex, columnIndex) {\n      // :columnWidth and :rowHeight are derived based on all cells in a column/row.\n      // Pre-cache these derived values for faster lookup later.\n      // Reads are expected to occur more frequently than writes in this case.\n      // Only update non-fixed dimensions though to avoid doing unnecessary work.\n      if (!this._hasFixedWidth) {\n        var columnWidth = 0;\n\n        for (var i = 0; i < this._rowCount; i++) {\n          columnWidth = Math.max(columnWidth, this.getWidth(i, columnIndex));\n        }\n\n        var columnKey = this._keyMapper(0, columnIndex);\n\n        this._columnWidthCache[columnKey] = columnWidth;\n      }\n\n      if (!this._hasFixedHeight) {\n        var rowHeight = 0;\n\n        for (var _i = 0; _i < this._columnCount; _i++) {\n          rowHeight = Math.max(rowHeight, this.getHeight(rowIndex, _i));\n        }\n\n        var rowKey = this._keyMapper(rowIndex, 0);\n\n        this._rowHeightCache[rowKey] = rowHeight;\n      }\n    }\n  }, {\n    key: \"defaultHeight\",\n    get: function get() {\n      return this._defaultHeight;\n    }\n  }, {\n    key: \"defaultWidth\",\n    get: function get() {\n      return this._defaultWidth;\n    }\n  }]);\n\n  return CellMeasurerCache;\n}();\n\nexport { CellMeasurerCache as default };\n\nfunction defaultKeyMapper(rowIndex, columnIndex) {\n  return \"\".concat(rowIndex, \"-\").concat(columnIndex);\n}\n\nimport { bpfrpt_proptype_CellMeasureCache } from \"./types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport createCallbackMemoizer from '../utils/createCallbackMemoizer';\nimport getScrollbarSize from 'dom-helpers/scrollbarSize'; // @TODO Merge Collection and CollectionView\n\n/**\n * Specifies the number of milliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\n\nvar IS_SCROLLING_TIMEOUT = 150;\n/**\n * Controls whether the Grid updates the DOM element's scrollLeft/scrollTop based on the current state or just observes it.\n * This prevents Grid from interrupting mouse-wheel animations (see issue #2).\n */\n\nvar SCROLL_POSITION_CHANGE_REASONS = {\n  OBSERVED: 'observed',\n  REQUESTED: 'requested'\n};\n/**\n * Monitors changes in properties (eg. cellCount) and state (eg. scroll offsets) to determine when rendering needs to occur.\n * This component does not render any visible content itself; it defers to the specified :cellLayoutManager.\n */\n\nvar CollectionView =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(CollectionView, _React$PureComponent);\n\n  // Invokes callbacks only when their values have changed.\n  function CollectionView() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CollectionView);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CollectionView)).call.apply(_getPrototypeOf2, [this].concat(args))); // If this component is being rendered server-side, getScrollbarSize() will return undefined.\n    // We handle this case in componentDidMount()\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isScrolling: false,\n      scrollLeft: 0,\n      scrollTop: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_calculateSizeAndPositionDataOnNextUpdate\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSectionRenderedMemoizer\", createCallbackMemoizer());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollMemoizer\", createCallbackMemoizer(false));\n\n    _defineProperty(_assertThisInitialized(_this), \"_invokeOnSectionRenderedHelper\", function () {\n      var _this$props = _this.props,\n          cellLayoutManager = _this$props.cellLayoutManager,\n          onSectionRendered = _this$props.onSectionRendered;\n\n      _this._onSectionRenderedMemoizer({\n        callback: onSectionRendered,\n        indices: {\n          indices: cellLayoutManager.getLastRenderedIndices()\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setScrollingContainerRef\", function (ref) {\n      _this._scrollingContainer = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_updateScrollPositionForScrollToCell\", function () {\n      var _this$props2 = _this.props,\n          cellLayoutManager = _this$props2.cellLayoutManager,\n          height = _this$props2.height,\n          scrollToAlignment = _this$props2.scrollToAlignment,\n          scrollToCell = _this$props2.scrollToCell,\n          width = _this$props2.width;\n      var _this$state = _this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n\n      if (scrollToCell >= 0) {\n        var scrollPosition = cellLayoutManager.getScrollPositionForCell({\n          align: scrollToAlignment,\n          cellIndex: scrollToCell,\n          height: height,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          width: width\n        });\n\n        if (scrollPosition.scrollLeft !== scrollLeft || scrollPosition.scrollTop !== scrollTop) {\n          _this._setScrollPosition(scrollPosition);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (event) {\n      // In certain edge-cases React dispatches an onScroll event with an invalid target.scrollLeft / target.scrollTop.\n      // This invalid event can be detected by comparing event.target to this component's scrollable DOM element.\n      // See issue #404 for more information.\n      if (event.target !== _this._scrollingContainer) {\n        return;\n      } // Prevent pointer events from interrupting a smooth scroll\n\n\n      _this._enablePointerEventsAfterDelay(); // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scrollTop never exceeds the total height.\n\n\n      var _this$props3 = _this.props,\n          cellLayoutManager = _this$props3.cellLayoutManager,\n          height = _this$props3.height,\n          isScrollingChange = _this$props3.isScrollingChange,\n          width = _this$props3.width;\n      var scrollbarSize = _this._scrollbarSize;\n\n      var _cellLayoutManager$ge = cellLayoutManager.getTotalSize(),\n          totalHeight = _cellLayoutManager$ge.height,\n          totalWidth = _cellLayoutManager$ge.width;\n\n      var scrollLeft = Math.max(0, Math.min(totalWidth - width + scrollbarSize, event.target.scrollLeft));\n      var scrollTop = Math.max(0, Math.min(totalHeight - height + scrollbarSize, event.target.scrollTop)); // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n\n      if (_this.state.scrollLeft !== scrollLeft || _this.state.scrollTop !== scrollTop) {\n        // Browsers with cancelable scroll events (eg. Firefox) interrupt scrolling animations if scrollTop/scrollLeft is set.\n        // Other browsers (eg. Safari) don't scroll as well without the help under certain conditions (DOM or style changes during scrolling).\n        // All things considered, this seems to be the best current work around that I'm aware of.\n        // For more information see https://github.com/bvaughn/react-virtualized/pull/124\n        var scrollPositionChangeReason = event.cancelable ? SCROLL_POSITION_CHANGE_REASONS.OBSERVED : SCROLL_POSITION_CHANGE_REASONS.REQUESTED; // Synchronously set :isScrolling the first time (since _setNextState will reschedule its animation frame each time it's called)\n\n        if (!_this.state.isScrolling) {\n          isScrollingChange(true);\n        }\n\n        _this.setState({\n          isScrolling: true,\n          scrollLeft: scrollLeft,\n          scrollPositionChangeReason: scrollPositionChangeReason,\n          scrollTop: scrollTop\n        });\n      }\n\n      _this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        totalWidth: totalWidth,\n        totalHeight: totalHeight\n      });\n    });\n\n    _this._scrollbarSize = getScrollbarSize();\n\n    if (_this._scrollbarSize === undefined) {\n      _this._scrollbarSizeMeasured = false;\n      _this._scrollbarSize = 0;\n    } else {\n      _this._scrollbarSizeMeasured = true;\n    }\n\n    return _this;\n  }\n  /**\n   * Forced recompute of cell sizes and positions.\n   * This function should be called if cell sizes have changed but nothing else has.\n   * Since cell positions are calculated by callbacks, the collection view has no way of detecting when the underlying data has changed.\n   */\n\n\n  _createClass(CollectionView, [{\n    key: \"recomputeCellSizesAndPositions\",\n    value: function recomputeCellSizesAndPositions() {\n      this._calculateSizeAndPositionDataOnNextUpdate = true;\n      this.forceUpdate();\n    }\n    /* ---------------------------- Component lifecycle methods ---------------------------- */\n\n    /**\n     * @private\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) Empty content (0 rows or columns)\n     * 2) New scroll props overriding the current state\n     * 3) Cells-count or cells-size has changed, making previous scroll offsets invalid\n     */\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props4 = this.props,\n          cellLayoutManager = _this$props4.cellLayoutManager,\n          scrollLeft = _this$props4.scrollLeft,\n          scrollToCell = _this$props4.scrollToCell,\n          scrollTop = _this$props4.scrollTop; // If this component was first rendered server-side, scrollbar size will be undefined.\n      // In that event we need to remeasure.\n\n      if (!this._scrollbarSizeMeasured) {\n        this._scrollbarSize = getScrollbarSize();\n        this._scrollbarSizeMeasured = true;\n        this.setState({});\n      }\n\n      if (scrollToCell >= 0) {\n        this._updateScrollPositionForScrollToCell();\n      } else if (scrollLeft >= 0 || scrollTop >= 0) {\n        this._setScrollPosition({\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n      } // Update onSectionRendered callback.\n\n\n      this._invokeOnSectionRenderedHelper();\n\n      var _cellLayoutManager$ge2 = cellLayoutManager.getTotalSize(),\n          totalHeight = _cellLayoutManager$ge2.height,\n          totalWidth = _cellLayoutManager$ge2.width; // Initialize onScroll callback.\n\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft || 0,\n        scrollTop: scrollTop || 0,\n        totalHeight: totalHeight,\n        totalWidth: totalWidth\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this$props5 = this.props,\n          height = _this$props5.height,\n          scrollToAlignment = _this$props5.scrollToAlignment,\n          scrollToCell = _this$props5.scrollToCell,\n          width = _this$props5.width;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollPositionChangeReason = _this$state2.scrollPositionChangeReason,\n          scrollTop = _this$state2.scrollTop; // Make sure requested changes to :scrollLeft or :scrollTop get applied.\n      // Assigning to scrollLeft/scrollTop tells the browser to interrupt any running scroll animations,\n      // And to discard any pending async changes to the scroll position that may have happened in the meantime (e.g. on a separate scrolling thread).\n      // So we only set these when we require an adjustment of the scroll position.\n      // See issue #2 for more information.\n\n      if (scrollPositionChangeReason === SCROLL_POSITION_CHANGE_REASONS.REQUESTED) {\n        if (scrollLeft >= 0 && scrollLeft !== prevState.scrollLeft && scrollLeft !== this._scrollingContainer.scrollLeft) {\n          this._scrollingContainer.scrollLeft = scrollLeft;\n        }\n\n        if (scrollTop >= 0 && scrollTop !== prevState.scrollTop && scrollTop !== this._scrollingContainer.scrollTop) {\n          this._scrollingContainer.scrollTop = scrollTop;\n        }\n      } // Update scroll offsets if the current :scrollToCell values requires it\n\n\n      if (height !== prevProps.height || scrollToAlignment !== prevProps.scrollToAlignment || scrollToCell !== prevProps.scrollToCell || width !== prevProps.width) {\n        this._updateScrollPositionForScrollToCell();\n      } // Update onRowsRendered callback if start/stop indices have changed\n\n\n      this._invokeOnSectionRenderedHelper();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._disablePointerEventsTimeoutId) {\n        clearTimeout(this._disablePointerEventsTimeoutId);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props6 = this.props,\n          autoHeight = _this$props6.autoHeight,\n          cellCount = _this$props6.cellCount,\n          cellLayoutManager = _this$props6.cellLayoutManager,\n          className = _this$props6.className,\n          height = _this$props6.height,\n          horizontalOverscanSize = _this$props6.horizontalOverscanSize,\n          id = _this$props6.id,\n          noContentRenderer = _this$props6.noContentRenderer,\n          style = _this$props6.style,\n          verticalOverscanSize = _this$props6.verticalOverscanSize,\n          width = _this$props6.width;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollLeft = _this$state3.scrollLeft,\n          scrollTop = _this$state3.scrollTop; // Memoization reset\n\n      if (this._lastRenderedCellCount !== cellCount || this._lastRenderedCellLayoutManager !== cellLayoutManager || this._calculateSizeAndPositionDataOnNextUpdate) {\n        this._lastRenderedCellCount = cellCount;\n        this._lastRenderedCellLayoutManager = cellLayoutManager;\n        this._calculateSizeAndPositionDataOnNextUpdate = false;\n        cellLayoutManager.calculateSizeAndPositionData();\n      }\n\n      var _cellLayoutManager$ge3 = cellLayoutManager.getTotalSize(),\n          totalHeight = _cellLayoutManager$ge3.height,\n          totalWidth = _cellLayoutManager$ge3.width; // Safely expand the rendered area by the specified overscan amount\n\n\n      var left = Math.max(0, scrollLeft - horizontalOverscanSize);\n      var top = Math.max(0, scrollTop - verticalOverscanSize);\n      var right = Math.min(totalWidth, scrollLeft + width + horizontalOverscanSize);\n      var bottom = Math.min(totalHeight, scrollTop + height + verticalOverscanSize);\n      var childrenToDisplay = height > 0 && width > 0 ? cellLayoutManager.cellRenderers({\n        height: bottom - top,\n        isScrolling: isScrolling,\n        width: right - left,\n        x: left,\n        y: top\n      }) : [];\n      var collectionStyle = {\n        boxSizing: 'border-box',\n        direction: 'ltr',\n        height: autoHeight ? 'auto' : height,\n        position: 'relative',\n        WebkitOverflowScrolling: 'touch',\n        width: width,\n        willChange: 'transform'\n      }; // Force browser to hide scrollbars when we know they aren't necessary.\n      // Otherwise once scrollbars appear they may not disappear again.\n      // For more info see issue #116\n\n      var verticalScrollBarSize = totalHeight > height ? this._scrollbarSize : 0;\n      var horizontalScrollBarSize = totalWidth > width ? this._scrollbarSize : 0; // Also explicitly init styles to 'auto' if scrollbars are required.\n      // This works around an obscure edge case where external CSS styles have not yet been loaded,\n      // But an initial scroll index of offset is set as an external prop.\n      // Without this style, Grid would render the correct range of cells but would NOT update its internal offset.\n      // This was originally reported via clauderic/react-infinite-calendar/issues/23\n\n      collectionStyle.overflowX = totalWidth + verticalScrollBarSize <= width ? 'hidden' : 'auto';\n      collectionStyle.overflowY = totalHeight + horizontalScrollBarSize <= height ? 'hidden' : 'auto';\n      return React.createElement(\"div\", {\n        ref: this._setScrollingContainerRef,\n        \"aria-label\": this.props['aria-label'],\n        className: clsx('ReactVirtualized__Collection', className),\n        id: id,\n        onScroll: this._onScroll,\n        role: \"grid\",\n        style: _objectSpread({}, collectionStyle, {}, style),\n        tabIndex: 0\n      }, cellCount > 0 && React.createElement(\"div\", {\n        className: \"ReactVirtualized__Collection__innerScrollContainer\",\n        style: {\n          height: totalHeight,\n          maxHeight: totalHeight,\n          maxWidth: totalWidth,\n          overflow: 'hidden',\n          pointerEvents: isScrolling ? 'none' : '',\n          width: totalWidth\n        }\n      }, childrenToDisplay), cellCount === 0 && noContentRenderer());\n    }\n    /* ---------------------------- Helper methods ---------------------------- */\n\n    /**\n     * Sets an :isScrolling flag for a small window of time.\n     * This flag is used to disable pointer events on the scrollable portion of the Collection.\n     * This prevents jerky/stuttery mouse-wheel scrolling.\n     */\n\n  }, {\n    key: \"_enablePointerEventsAfterDelay\",\n    value: function _enablePointerEventsAfterDelay() {\n      var _this2 = this;\n\n      if (this._disablePointerEventsTimeoutId) {\n        clearTimeout(this._disablePointerEventsTimeoutId);\n      }\n\n      this._disablePointerEventsTimeoutId = setTimeout(function () {\n        var isScrollingChange = _this2.props.isScrollingChange;\n        isScrollingChange(false);\n        _this2._disablePointerEventsTimeoutId = null;\n\n        _this2.setState({\n          isScrolling: false\n        });\n      }, IS_SCROLLING_TIMEOUT);\n    }\n  }, {\n    key: \"_invokeOnScrollMemoizer\",\n    value: function _invokeOnScrollMemoizer(_ref) {\n      var _this3 = this;\n\n      var scrollLeft = _ref.scrollLeft,\n          scrollTop = _ref.scrollTop,\n          totalHeight = _ref.totalHeight,\n          totalWidth = _ref.totalWidth;\n\n      this._onScrollMemoizer({\n        callback: function callback(_ref2) {\n          var scrollLeft = _ref2.scrollLeft,\n              scrollTop = _ref2.scrollTop;\n          var _this3$props = _this3.props,\n              height = _this3$props.height,\n              onScroll = _this3$props.onScroll,\n              width = _this3$props.width;\n          onScroll({\n            clientHeight: height,\n            clientWidth: width,\n            scrollHeight: totalHeight,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop,\n            scrollWidth: totalWidth\n          });\n        },\n        indices: {\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        }\n      });\n    }\n  }, {\n    key: \"_setScrollPosition\",\n    value: function _setScrollPosition(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n      var newState = {\n        scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n      };\n\n      if (scrollLeft >= 0) {\n        newState.scrollLeft = scrollLeft;\n      }\n\n      if (scrollTop >= 0) {\n        newState.scrollTop = scrollTop;\n      }\n\n      if (scrollLeft >= 0 && scrollLeft !== this.state.scrollLeft || scrollTop >= 0 && scrollTop !== this.state.scrollTop) {\n        this.setState(newState);\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.cellCount === 0 && (prevState.scrollLeft !== 0 || prevState.scrollTop !== 0)) {\n        return {\n          scrollLeft: 0,\n          scrollTop: 0,\n          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n        };\n      } else if (nextProps.scrollLeft !== prevState.scrollLeft || nextProps.scrollTop !== prevState.scrollTop) {\n        return {\n          scrollLeft: nextProps.scrollLeft != null ? nextProps.scrollLeft : prevState.scrollLeft,\n          scrollTop: nextProps.scrollTop != null ? nextProps.scrollTop : prevState.scrollTop,\n          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return CollectionView;\n}(React.PureComponent);\n\n_defineProperty(CollectionView, \"defaultProps\", {\n  'aria-label': 'grid',\n  horizontalOverscanSize: 0,\n  noContentRenderer: function noContentRenderer() {\n    return null;\n  },\n  onScroll: function onScroll() {\n    return null;\n  },\n  onSectionRendered: function onSectionRendered() {\n    return null;\n  },\n  scrollToAlignment: 'auto',\n  scrollToCell: -1,\n  style: {},\n  verticalOverscanSize: 0\n});\n\nCollectionView.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  'aria-label': PropTypes.string,\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height\n   * of rows can stretch the window. Intended for use with WindowScroller\n   */\n  autoHeight: PropTypes.bool,\n\n  /**\n   * Number of cells in collection.\n   */\n  cellCount: PropTypes.number.isRequired,\n\n  /**\n   * Calculates cell sizes and positions and manages rendering the appropriate cells given a specified window.\n   */\n  cellLayoutManager: PropTypes.object.isRequired,\n\n  /**\n   * Optional custom CSS class name to attach to root Collection element.\n   */\n  className: PropTypes.string,\n\n  /**\n   * Height of Collection; this property determines the number of visible (vs virtualized) rows.\n   */\n  height: PropTypes.number.isRequired,\n\n  /**\n   * Optional custom id to attach to root Collection element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * Enables the `Collection` to horiontally \"overscan\" its content similar to how `Grid` does.\n   * This can reduce flicker around the edges when a user scrolls quickly.\n   */\n  horizontalOverscanSize: PropTypes.number.isRequired,\n  isScrollingChange: PropTypes.func,\n\n  /**\n   * Optional renderer to be used in place of rows when either :rowCount or :cellCount is 0.\n   */\n  noContentRenderer: PropTypes.func.isRequired,\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   * ({ clientHeight, clientWidth, scrollHeight, scrollLeft, scrollTop, scrollWidth }): void\n   */\n  onScroll: PropTypes.func.isRequired,\n\n  /**\n   * Callback invoked with information about the section of the Collection that was just rendered.\n   * This callback is passed a named :indices parameter which is an Array of the most recently rendered section indices.\n   */\n  onSectionRendered: PropTypes.func.isRequired,\n\n  /**\n   * Horizontal offset.\n   */\n  scrollLeft: PropTypes.number,\n\n  /**\n   * Controls scroll-to-cell behavior of the Grid.\n   * The default (\"auto\") scrolls the least amount possible to ensure that the specified cell is fully visible.\n   * Use \"start\" to align cells to the top/left of the Grid and \"end\" to align bottom/right.\n   */\n  scrollToAlignment: PropTypes.oneOf(['auto', 'end', 'start', 'center']).isRequired,\n\n  /**\n   * Cell index to ensure visible (by forcefully scrolling if necessary).\n   */\n  scrollToCell: PropTypes.number.isRequired,\n\n  /**\n   * Vertical offset.\n   */\n  scrollTop: PropTypes.number,\n\n  /**\n   * Optional custom inline style to attach to root Collection element.\n   */\n  style: PropTypes.object,\n\n  /**\n   * Enables the `Collection` to vertically \"overscan\" its content similar to how `Grid` does.\n   * This can reduce flicker around the edges when a user scrolls quickly.\n   */\n  verticalOverscanSize: PropTypes.number.isRequired,\n\n  /**\n   * Width of Collection; this property determines the number of visible (vs virtualized) columns.\n   */\n  width: PropTypes.number.isRequired\n} : {};\npolyfill(CollectionView);\nexport default CollectionView;","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\n/**\n * A section of the Window.\n * Window Sections are used to group nearby cells.\n * This enables us to more quickly determine which cells to display in a given region of the Window.\n * Sections have a fixed size and contain 0 to many cells (tracked by their indices).\n */\nvar Section =\n/*#__PURE__*/\nfunction () {\n  function Section(_ref) {\n    var height = _ref.height,\n        width = _ref.width,\n        x = _ref.x,\n        y = _ref.y;\n\n    _classCallCheck(this, Section);\n\n    this.height = height;\n    this.width = width;\n    this.x = x;\n    this.y = y;\n    this._indexMap = {};\n    this._indices = [];\n  }\n  /** Add a cell to this section. */\n\n\n  _createClass(Section, [{\n    key: \"addCellIndex\",\n    value: function addCellIndex(_ref2) {\n      var index = _ref2.index;\n\n      if (!this._indexMap[index]) {\n        this._indexMap[index] = true;\n\n        this._indices.push(index);\n      }\n    }\n    /** Get all cell indices that have been added to this section. */\n\n  }, {\n    key: \"getCellIndices\",\n    value: function getCellIndices() {\n      return this._indices;\n    }\n    /** Intended for debugger/test purposes only */\n\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.x, \",\").concat(this.y, \" \").concat(this.width, \"x\").concat(this.height);\n    }\n  }]);\n\n  return Section;\n}();\n\nexport { Section as default };\nimport { bpfrpt_proptype_Index } from \"./types\";\nimport { bpfrpt_proptype_SizeAndPositionInfo } from \"./types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\n/**\n * Window Sections are used to group nearby cells.\n * This enables us to more quickly determine which cells to display in a given region of the Window.\n * \n */\nimport Section from './Section';\nvar SECTION_SIZE = 100;\n\n/**\n * Contains 0 to many Sections.\n * Grows (and adds Sections) dynamically as cells are registered.\n * Automatically adds cells to the appropriate Section(s).\n */\nvar SectionManager =\n/*#__PURE__*/\nfunction () {\n  function SectionManager() {\n    var sectionSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SECTION_SIZE;\n\n    _classCallCheck(this, SectionManager);\n\n    this._sectionSize = sectionSize;\n    this._cellMetadata = [];\n    this._sections = {};\n  }\n  /**\n   * Gets all cell indices contained in the specified region.\n   * A region may encompass 1 or more Sections.\n   */\n\n\n  _createClass(SectionManager, [{\n    key: \"getCellIndices\",\n    value: function getCellIndices(_ref) {\n      var height = _ref.height,\n          width = _ref.width,\n          x = _ref.x,\n          y = _ref.y;\n      var indices = {};\n      this.getSections({\n        height: height,\n        width: width,\n        x: x,\n        y: y\n      }).forEach(function (section) {\n        return section.getCellIndices().forEach(function (index) {\n          indices[index] = index;\n        });\n      }); // Object keys are strings; this function returns numbers\n\n      return Object.keys(indices).map(function (index) {\n        return indices[index];\n      });\n    }\n    /** Get size and position information for the cell specified. */\n\n  }, {\n    key: \"getCellMetadata\",\n    value: function getCellMetadata(_ref2) {\n      var index = _ref2.index;\n      return this._cellMetadata[index];\n    }\n    /** Get all Sections overlapping the specified region. */\n\n  }, {\n    key: \"getSections\",\n    value: function getSections(_ref3) {\n      var height = _ref3.height,\n          width = _ref3.width,\n          x = _ref3.x,\n          y = _ref3.y;\n      var sectionXStart = Math.floor(x / this._sectionSize);\n      var sectionXStop = Math.floor((x + width - 1) / this._sectionSize);\n      var sectionYStart = Math.floor(y / this._sectionSize);\n      var sectionYStop = Math.floor((y + height - 1) / this._sectionSize);\n      var sections = [];\n\n      for (var sectionX = sectionXStart; sectionX <= sectionXStop; sectionX++) {\n        for (var sectionY = sectionYStart; sectionY <= sectionYStop; sectionY++) {\n          var key = \"\".concat(sectionX, \".\").concat(sectionY);\n\n          if (!this._sections[key]) {\n            this._sections[key] = new Section({\n              height: this._sectionSize,\n              width: this._sectionSize,\n              x: sectionX * this._sectionSize,\n              y: sectionY * this._sectionSize\n            });\n          }\n\n          sections.push(this._sections[key]);\n        }\n      }\n\n      return sections;\n    }\n    /** Total number of Sections based on the currently registered cells. */\n\n  }, {\n    key: \"getTotalSectionCount\",\n    value: function getTotalSectionCount() {\n      return Object.keys(this._sections).length;\n    }\n    /** Intended for debugger/test purposes only */\n\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var _this = this;\n\n      return Object.keys(this._sections).map(function (index) {\n        return _this._sections[index].toString();\n      });\n    }\n    /** Adds a cell to the appropriate Sections and registers it metadata for later retrievable. */\n\n  }, {\n    key: \"registerCell\",\n    value: function registerCell(_ref4) {\n      var cellMetadatum = _ref4.cellMetadatum,\n          index = _ref4.index;\n      this._cellMetadata[index] = cellMetadatum;\n      this.getSections(cellMetadatum).forEach(function (section) {\n        return section.addCellIndex({\n          index: index\n        });\n      });\n    }\n  }]);\n\n  return SectionManager;\n}();\n\nexport { SectionManager as default };\nimport { bpfrpt_proptype_Index } from \"./types\";\nimport { bpfrpt_proptype_SizeAndPositionInfo } from \"./types\";","/**\n * Determines a new offset that ensures a certain cell is visible, given the current offset.\n * If the cell is already visible then the current offset will be returned.\n * If the current offset is too great or small, it will be adjusted just enough to ensure the specified index is visible.\n *\n * @param align Desired alignment within container; one of \"auto\" (default), \"start\", or \"end\"\n * @param cellOffset Offset (x or y) position for cell\n * @param cellSize Size (width or height) of cell\n * @param containerSize Total size (width or height) of the container\n * @param currentOffset Container's current (x or y) offset\n * @return Offset to use to ensure the specified cell is visible\n */\nexport default function getUpdatedOffsetForIndex(_ref) {\n  var _ref$align = _ref.align,\n      align = _ref$align === void 0 ? 'auto' : _ref$align,\n      cellOffset = _ref.cellOffset,\n      cellSize = _ref.cellSize,\n      containerSize = _ref.containerSize,\n      currentOffset = _ref.currentOffset;\n  var maxOffset = cellOffset;\n  var minOffset = maxOffset - containerSize + cellSize;\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return maxOffset - (containerSize - cellSize) / 2;\n\n    default:\n      return Math.max(minOffset, Math.min(maxOffset, currentOffset));\n  }\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport CollectionView from './CollectionView';\nimport _calculateSizeAndPositionData from './utils/calculateSizeAndPositionData';\nimport getUpdatedOffsetForIndex from '../utils/getUpdatedOffsetForIndex';\n\n/**\n * Renders scattered or non-linear data.\n * Unlike Grid, which renders checkerboard data, Collection can render arbitrarily positioned- even overlapping- data.\n */\nvar Collection =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Collection, _React$PureComponent);\n\n  function Collection(props, context) {\n    var _this;\n\n    _classCallCheck(this, Collection);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Collection).call(this, props, context));\n    _this._cellMetadata = [];\n    _this._lastRenderedCellIndices = []; // Cell cache during scroll (for performance)\n\n    _this._cellCache = [];\n    _this._isScrollingChange = _this._isScrollingChange.bind(_assertThisInitialized(_this));\n    _this._setCollectionViewRef = _this._setCollectionViewRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Collection, [{\n    key: \"forceUpdate\",\n    value: function forceUpdate() {\n      if (this._collectionView !== undefined) {\n        this._collectionView.forceUpdate();\n      }\n    }\n    /** See Collection#recomputeCellSizesAndPositions */\n\n  }, {\n    key: \"recomputeCellSizesAndPositions\",\n    value: function recomputeCellSizesAndPositions() {\n      this._cellCache = [];\n\n      this._collectionView.recomputeCellSizesAndPositions();\n    }\n    /** React lifecycle methods */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = _extends({}, this.props);\n\n      return React.createElement(CollectionView, _extends({\n        cellLayoutManager: this,\n        isScrollingChange: this._isScrollingChange,\n        ref: this._setCollectionViewRef\n      }, props));\n    }\n    /** CellLayoutManager interface */\n\n  }, {\n    key: \"calculateSizeAndPositionData\",\n    value: function calculateSizeAndPositionData() {\n      var _this$props = this.props,\n          cellCount = _this$props.cellCount,\n          cellSizeAndPositionGetter = _this$props.cellSizeAndPositionGetter,\n          sectionSize = _this$props.sectionSize;\n\n      var data = _calculateSizeAndPositionData({\n        cellCount: cellCount,\n        cellSizeAndPositionGetter: cellSizeAndPositionGetter,\n        sectionSize: sectionSize\n      });\n\n      this._cellMetadata = data.cellMetadata;\n      this._sectionManager = data.sectionManager;\n      this._height = data.height;\n      this._width = data.width;\n    }\n    /**\n     * Returns the most recently rendered set of cell indices.\n     */\n\n  }, {\n    key: \"getLastRenderedIndices\",\n    value: function getLastRenderedIndices() {\n      return this._lastRenderedCellIndices;\n    }\n    /**\n     * Calculates the minimum amount of change from the current scroll position to ensure the specified cell is (fully) visible.\n     */\n\n  }, {\n    key: \"getScrollPositionForCell\",\n    value: function getScrollPositionForCell(_ref) {\n      var align = _ref.align,\n          cellIndex = _ref.cellIndex,\n          height = _ref.height,\n          scrollLeft = _ref.scrollLeft,\n          scrollTop = _ref.scrollTop,\n          width = _ref.width;\n      var cellCount = this.props.cellCount;\n\n      if (cellIndex >= 0 && cellIndex < cellCount) {\n        var cellMetadata = this._cellMetadata[cellIndex];\n        scrollLeft = getUpdatedOffsetForIndex({\n          align: align,\n          cellOffset: cellMetadata.x,\n          cellSize: cellMetadata.width,\n          containerSize: width,\n          currentOffset: scrollLeft,\n          targetIndex: cellIndex\n        });\n        scrollTop = getUpdatedOffsetForIndex({\n          align: align,\n          cellOffset: cellMetadata.y,\n          cellSize: cellMetadata.height,\n          containerSize: height,\n          currentOffset: scrollTop,\n          targetIndex: cellIndex\n        });\n      }\n\n      return {\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop\n      };\n    }\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      return {\n        height: this._height,\n        width: this._width\n      };\n    }\n  }, {\n    key: \"cellRenderers\",\n    value: function cellRenderers(_ref2) {\n      var _this2 = this;\n\n      var height = _ref2.height,\n          isScrolling = _ref2.isScrolling,\n          width = _ref2.width,\n          x = _ref2.x,\n          y = _ref2.y;\n      var _this$props2 = this.props,\n          cellGroupRenderer = _this$props2.cellGroupRenderer,\n          cellRenderer = _this$props2.cellRenderer; // Store for later calls to getLastRenderedIndices()\n\n      this._lastRenderedCellIndices = this._sectionManager.getCellIndices({\n        height: height,\n        width: width,\n        x: x,\n        y: y\n      });\n      return cellGroupRenderer({\n        cellCache: this._cellCache,\n        cellRenderer: cellRenderer,\n        cellSizeAndPositionGetter: function cellSizeAndPositionGetter(_ref3) {\n          var index = _ref3.index;\n          return _this2._sectionManager.getCellMetadata({\n            index: index\n          });\n        },\n        indices: this._lastRenderedCellIndices,\n        isScrolling: isScrolling\n      });\n    }\n  }, {\n    key: \"_isScrollingChange\",\n    value: function _isScrollingChange(isScrolling) {\n      if (!isScrolling) {\n        this._cellCache = [];\n      }\n    }\n  }, {\n    key: \"_setCollectionViewRef\",\n    value: function _setCollectionViewRef(ref) {\n      this._collectionView = ref;\n    }\n  }]);\n\n  return Collection;\n}(React.PureComponent);\n\n_defineProperty(Collection, \"defaultProps\", {\n  'aria-label': 'grid',\n  cellGroupRenderer: defaultCellGroupRenderer\n});\n\nexport { Collection as default };\nCollection.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  'aria-label': PropTypes.string,\n\n  /**\n   * Number of cells in Collection.\n   */\n  cellCount: PropTypes.number.isRequired,\n\n  /**\n   * Responsible for rendering a group of cells given their indices.\n   * Should implement the following interface: ({\n   *   cellSizeAndPositionGetter:Function,\n   *   indices: Array<number>,\n   *   cellRenderer: Function\n   * }): Array<PropTypes.node>\n   */\n  cellGroupRenderer: PropTypes.func.isRequired,\n\n  /**\n   * Responsible for rendering a cell given an row and column index.\n   * Should implement the following interface: ({ index: number, key: string, style: object }): PropTypes.element\n   */\n  cellRenderer: PropTypes.func.isRequired,\n\n  /**\n   * Callback responsible for returning size and offset/position information for a given cell (index).\n   * ({ index: number }): { height: number, width: number, x: number, y: number }\n   */\n  cellSizeAndPositionGetter: PropTypes.func.isRequired,\n\n  /**\n   * Optionally override the size of the sections a Collection's cells are split into.\n   */\n  sectionSize: PropTypes.number\n} : {};\n\nfunction defaultCellGroupRenderer(_ref4) {\n  var cellCache = _ref4.cellCache,\n      cellRenderer = _ref4.cellRenderer,\n      cellSizeAndPositionGetter = _ref4.cellSizeAndPositionGetter,\n      indices = _ref4.indices,\n      isScrolling = _ref4.isScrolling;\n  return indices.map(function (index) {\n    var cellMetadata = cellSizeAndPositionGetter({\n      index: index\n    });\n    var cellRendererProps = {\n      index: index,\n      isScrolling: isScrolling,\n      key: index,\n      style: {\n        height: cellMetadata.height,\n        left: cellMetadata.x,\n        position: 'absolute',\n        top: cellMetadata.y,\n        width: cellMetadata.width\n      }\n    }; // Avoid re-creating cells while scrolling.\n    // This can lead to the same cell being created many times and can cause performance issues for \"heavy\" cells.\n    // If a scroll is in progress- cache and reuse cells.\n    // This cache will be thrown away once scrolling complets.\n\n    if (isScrolling) {\n      if (!(index in cellCache)) {\n        cellCache[index] = cellRenderer(cellRendererProps);\n      }\n\n      return cellCache[index];\n    } else {\n      return cellRenderer(cellRendererProps);\n    }\n  }).filter(function (renderedCell) {\n    return !!renderedCell;\n  });\n}\n\nimport { bpfrpt_proptype_ScrollPosition } from \"./types\";\nimport { bpfrpt_proptype_SizeInfo } from \"./types\";","import SectionManager from '../SectionManager';\nexport default function calculateSizeAndPositionData(_ref) {\n  var cellCount = _ref.cellCount,\n      cellSizeAndPositionGetter = _ref.cellSizeAndPositionGetter,\n      sectionSize = _ref.sectionSize;\n  var cellMetadata = [];\n  var sectionManager = new SectionManager(sectionSize);\n  var height = 0;\n  var width = 0;\n\n  for (var index = 0; index < cellCount; index++) {\n    var cellMetadatum = cellSizeAndPositionGetter({\n      index: index\n    });\n\n    if (cellMetadatum.height == null || isNaN(cellMetadatum.height) || cellMetadatum.width == null || isNaN(cellMetadatum.width) || cellMetadatum.x == null || isNaN(cellMetadatum.x) || cellMetadatum.y == null || isNaN(cellMetadatum.y)) {\n      throw Error(\"Invalid metadata returned for cell \".concat(index, \":\\n        x:\").concat(cellMetadatum.x, \", y:\").concat(cellMetadatum.y, \", width:\").concat(cellMetadatum.width, \", height:\").concat(cellMetadatum.height));\n    }\n\n    height = Math.max(height, cellMetadatum.y + cellMetadatum.height);\n    width = Math.max(width, cellMetadatum.x + cellMetadatum.width);\n    cellMetadata[index] = cellMetadatum;\n    sectionManager.registerCell({\n      cellMetadatum: cellMetadatum,\n      index: index\n    });\n  }\n\n  return {\n    cellMetadata: cellMetadata,\n    height: height,\n    sectionManager: sectionManager,\n    width: width\n  };\n}","import Collection from './Collection';\nexport default Collection;\nexport { Collection };","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\n/**\n * High-order component that auto-calculates column-widths for `Grid` cells.\n */\n\nvar ColumnSizer =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ColumnSizer, _React$PureComponent);\n\n  function ColumnSizer(props, context) {\n    var _this;\n\n    _classCallCheck(this, ColumnSizer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ColumnSizer).call(this, props, context));\n    _this._registerChild = _this._registerChild.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ColumnSizer, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          columnMaxWidth = _this$props.columnMaxWidth,\n          columnMinWidth = _this$props.columnMinWidth,\n          columnCount = _this$props.columnCount,\n          width = _this$props.width;\n\n      if (columnMaxWidth !== prevProps.columnMaxWidth || columnMinWidth !== prevProps.columnMinWidth || columnCount !== prevProps.columnCount || width !== prevProps.width) {\n        if (this._registeredChild) {\n          this._registeredChild.recomputeGridSize();\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          columnMaxWidth = _this$props2.columnMaxWidth,\n          columnMinWidth = _this$props2.columnMinWidth,\n          columnCount = _this$props2.columnCount,\n          width = _this$props2.width;\n      var safeColumnMinWidth = columnMinWidth || 1;\n      var safeColumnMaxWidth = columnMaxWidth ? Math.min(columnMaxWidth, width) : width;\n      var columnWidth = width / columnCount;\n      columnWidth = Math.max(safeColumnMinWidth, columnWidth);\n      columnWidth = Math.min(safeColumnMaxWidth, columnWidth);\n      columnWidth = Math.floor(columnWidth);\n      var adjustedWidth = Math.min(width, columnWidth * columnCount);\n      return children({\n        adjustedWidth: adjustedWidth,\n        columnWidth: columnWidth,\n        getColumnWidth: function getColumnWidth() {\n          return columnWidth;\n        },\n        registerChild: this._registerChild\n      });\n    }\n  }, {\n    key: \"_registerChild\",\n    value: function _registerChild(child) {\n      if (child && typeof child.recomputeGridSize !== 'function') {\n        throw Error('Unexpected child type registered; only Grid/MultiGrid children are supported.');\n      }\n\n      this._registeredChild = child;\n\n      if (this._registeredChild) {\n        this._registeredChild.recomputeGridSize();\n      }\n    }\n  }]);\n\n  return ColumnSizer;\n}(React.PureComponent);\n\nexport { ColumnSizer as default };\nColumnSizer.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * Function responsible for rendering a virtualized Grid.\n   * This function should implement the following signature:\n   * ({ adjustedWidth, getColumnWidth, registerChild }) => PropTypes.element\n   *\n   * The specified :getColumnWidth function should be passed to the Grid's :columnWidth property.\n   * The :registerChild should be passed to the Grid's :ref property.\n   * The :adjustedWidth property is optional; it reflects the lesser of the overall width or the width of all columns.\n   */\n  children: PropTypes.func.isRequired,\n\n  /** Optional maximum allowed column width */\n  columnMaxWidth: PropTypes.number,\n\n  /** Optional minimum allowed column width */\n  columnMinWidth: PropTypes.number,\n\n  /** Number of columns in Grid or Table child */\n  columnCount: PropTypes.number.isRequired,\n\n  /** Width of Grid or Table child */\n  width: PropTypes.number.isRequired\n} : {};","import ColumnSizer from './ColumnSizer';\nexport default ColumnSizer;\nexport { ColumnSizer };","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport createCallbackMemoizer from '../utils/createCallbackMemoizer';\n/**\n * Higher-order component that manages lazy-loading for \"infinite\" data.\n * This component decorates a virtual component and just-in-time prefetches rows as a user scrolls.\n * It is intended as a convenience component; fork it if you'd like finer-grained control over data-loading.\n */\n\nvar InfiniteLoader =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(InfiniteLoader, _React$PureComponent);\n\n  function InfiniteLoader(props, context) {\n    var _this;\n\n    _classCallCheck(this, InfiniteLoader);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InfiniteLoader).call(this, props, context));\n    _this._loadMoreRowsMemoizer = createCallbackMemoizer();\n    _this._onRowsRendered = _this._onRowsRendered.bind(_assertThisInitialized(_this));\n    _this._registerChild = _this._registerChild.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(InfiniteLoader, [{\n    key: \"resetLoadMoreRowsCache\",\n    value: function resetLoadMoreRowsCache(autoReload) {\n      this._loadMoreRowsMemoizer = createCallbackMemoizer();\n\n      if (autoReload) {\n        this._doStuff(this._lastRenderedStartIndex, this._lastRenderedStopIndex);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return children({\n        onRowsRendered: this._onRowsRendered,\n        registerChild: this._registerChild\n      });\n    }\n  }, {\n    key: \"_loadUnloadedRanges\",\n    value: function _loadUnloadedRanges(unloadedRanges) {\n      var _this2 = this;\n\n      var loadMoreRows = this.props.loadMoreRows;\n      unloadedRanges.forEach(function (unloadedRange) {\n        var promise = loadMoreRows(unloadedRange);\n\n        if (promise) {\n          promise.then(function () {\n            // Refresh the visible rows if any of them have just been loaded.\n            // Otherwise they will remain in their unloaded visual state.\n            if (isRangeVisible({\n              lastRenderedStartIndex: _this2._lastRenderedStartIndex,\n              lastRenderedStopIndex: _this2._lastRenderedStopIndex,\n              startIndex: unloadedRange.startIndex,\n              stopIndex: unloadedRange.stopIndex\n            })) {\n              if (_this2._registeredChild) {\n                forceUpdateReactVirtualizedComponent(_this2._registeredChild, _this2._lastRenderedStartIndex);\n              }\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"_onRowsRendered\",\n    value: function _onRowsRendered(_ref) {\n      var startIndex = _ref.startIndex,\n          stopIndex = _ref.stopIndex;\n      this._lastRenderedStartIndex = startIndex;\n      this._lastRenderedStopIndex = stopIndex;\n\n      this._doStuff(startIndex, stopIndex);\n    }\n  }, {\n    key: \"_doStuff\",\n    value: function _doStuff(startIndex, stopIndex) {\n      var _ref2,\n          _this3 = this;\n\n      var _this$props = this.props,\n          isRowLoaded = _this$props.isRowLoaded,\n          minimumBatchSize = _this$props.minimumBatchSize,\n          rowCount = _this$props.rowCount,\n          threshold = _this$props.threshold;\n      var unloadedRanges = scanForUnloadedRanges({\n        isRowLoaded: isRowLoaded,\n        minimumBatchSize: minimumBatchSize,\n        rowCount: rowCount,\n        startIndex: Math.max(0, startIndex - threshold),\n        stopIndex: Math.min(rowCount - 1, stopIndex + threshold)\n      }); // For memoize comparison\n\n      var squashedUnloadedRanges = (_ref2 = []).concat.apply(_ref2, _toConsumableArray(unloadedRanges.map(function (_ref3) {\n        var startIndex = _ref3.startIndex,\n            stopIndex = _ref3.stopIndex;\n        return [startIndex, stopIndex];\n      })));\n\n      this._loadMoreRowsMemoizer({\n        callback: function callback() {\n          _this3._loadUnloadedRanges(unloadedRanges);\n        },\n        indices: {\n          squashedUnloadedRanges: squashedUnloadedRanges\n        }\n      });\n    }\n  }, {\n    key: \"_registerChild\",\n    value: function _registerChild(registeredChild) {\n      this._registeredChild = registeredChild;\n    }\n  }]);\n\n  return InfiniteLoader;\n}(React.PureComponent);\n/**\n * Determines if the specified start/stop range is visible based on the most recently rendered range.\n */\n\n\n_defineProperty(InfiniteLoader, \"defaultProps\", {\n  minimumBatchSize: 10,\n  rowCount: 0,\n  threshold: 15\n});\n\nexport { InfiniteLoader as default };\nInfiniteLoader.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * Function responsible for rendering a virtualized component.\n   * This function should implement the following signature:\n   * ({ onRowsRendered, registerChild }) => PropTypes.element\n   *\n   * The specified :onRowsRendered function should be passed through to the child's :onRowsRendered property.\n   * The :registerChild callback should be set as the virtualized component's :ref.\n   */\n  children: PropTypes.func.isRequired,\n\n  /**\n   * Function responsible for tracking the loaded state of each row.\n   * It should implement the following signature: ({ index: number }): boolean\n   */\n  isRowLoaded: PropTypes.func.isRequired,\n\n  /**\n   * Callback to be invoked when more rows must be loaded.\n   * It should implement the following signature: ({ startIndex, stopIndex }): Promise\n   * The returned Promise should be resolved once row data has finished loading.\n   * It will be used to determine when to refresh the list with the newly-loaded data.\n   * This callback may be called multiple times in reaction to a single scroll event.\n   */\n  loadMoreRows: PropTypes.func.isRequired,\n\n  /**\n   * Minimum number of rows to be loaded at a time.\n   * This property can be used to batch requests to reduce HTTP requests.\n   */\n  minimumBatchSize: PropTypes.number.isRequired,\n\n  /**\n   * Number of rows in list; can be arbitrary high number if actual number is unknown.\n   */\n  rowCount: PropTypes.number.isRequired,\n\n  /**\n   * Threshold at which to pre-fetch data.\n   * A threshold X means that data will start loading when a user scrolls within X rows.\n   * This value defaults to 15.\n   */\n  threshold: PropTypes.number.isRequired\n} : {};\nexport function isRangeVisible(_ref4) {\n  var lastRenderedStartIndex = _ref4.lastRenderedStartIndex,\n      lastRenderedStopIndex = _ref4.lastRenderedStopIndex,\n      startIndex = _ref4.startIndex,\n      stopIndex = _ref4.stopIndex;\n  return !(startIndex > lastRenderedStopIndex || stopIndex < lastRenderedStartIndex);\n}\n/**\n * Returns all of the ranges within a larger range that contain unloaded rows.\n */\n\nexport function scanForUnloadedRanges(_ref5) {\n  var isRowLoaded = _ref5.isRowLoaded,\n      minimumBatchSize = _ref5.minimumBatchSize,\n      rowCount = _ref5.rowCount,\n      startIndex = _ref5.startIndex,\n      stopIndex = _ref5.stopIndex;\n  var unloadedRanges = [];\n  var rangeStartIndex = null;\n  var rangeStopIndex = null;\n\n  for (var index = startIndex; index <= stopIndex; index++) {\n    var loaded = isRowLoaded({\n      index: index\n    });\n\n    if (!loaded) {\n      rangeStopIndex = index;\n\n      if (rangeStartIndex === null) {\n        rangeStartIndex = index;\n      }\n    } else if (rangeStopIndex !== null) {\n      unloadedRanges.push({\n        startIndex: rangeStartIndex,\n        stopIndex: rangeStopIndex\n      });\n      rangeStartIndex = rangeStopIndex = null;\n    }\n  } // If :rangeStopIndex is not null it means we haven't ran out of unloaded rows.\n  // Scan forward to try filling our :minimumBatchSize.\n\n\n  if (rangeStopIndex !== null) {\n    var potentialStopIndex = Math.min(Math.max(rangeStopIndex, rangeStartIndex + minimumBatchSize - 1), rowCount - 1);\n\n    for (var _index = rangeStopIndex + 1; _index <= potentialStopIndex; _index++) {\n      if (!isRowLoaded({\n        index: _index\n      })) {\n        rangeStopIndex = _index;\n      } else {\n        break;\n      }\n    }\n\n    unloadedRanges.push({\n      startIndex: rangeStartIndex,\n      stopIndex: rangeStopIndex\n    });\n  } // Check to see if our first range ended prematurely.\n  // In this case we should scan backwards to try filling our :minimumBatchSize.\n\n\n  if (unloadedRanges.length) {\n    var firstUnloadedRange = unloadedRanges[0];\n\n    while (firstUnloadedRange.stopIndex - firstUnloadedRange.startIndex + 1 < minimumBatchSize && firstUnloadedRange.startIndex > 0) {\n      var _index2 = firstUnloadedRange.startIndex - 1;\n\n      if (!isRowLoaded({\n        index: _index2\n      })) {\n        firstUnloadedRange.startIndex = _index2;\n      } else {\n        break;\n      }\n    }\n  }\n\n  return unloadedRanges;\n}\n/**\n * Since RV components use shallowCompare we need to force a render (even though props haven't changed).\n * However InfiniteLoader may wrap a Grid or it may wrap a Table or List.\n * In the first case the built-in React forceUpdate() method is sufficient to force a re-render,\n * But in the latter cases we need to use the RV-specific forceUpdateGrid() method.\n * Else the inner Grid will not be re-rendered and visuals may be stale.\n *\n * Additionally, while a Grid is scrolling the cells can be cached,\n * So it's important to invalidate that cache by recalculating sizes\n * before forcing a rerender.\n */\n\nexport function forceUpdateReactVirtualizedComponent(component) {\n  var currentIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var recomputeSize = typeof component.recomputeGridSize === 'function' ? component.recomputeGridSize : component.recomputeRowHeights;\n\n  if (recomputeSize) {\n    recomputeSize.call(component, currentIndex);\n  } else {\n    component.forceUpdate();\n  }\n}","import InfiniteLoader from './InfiniteLoader';\nexport default InfiniteLoader;\nexport { InfiniteLoader };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nimport Grid, { accessibilityOverscanIndicesGetter } from '../Grid';\nimport * as React from 'react';\nimport clsx from 'clsx';\n/**\n * It is inefficient to create and manage a large list of DOM elements within a scrolling container\n * if only a few of those elements are visible. The primary purpose of this component is to improve\n * performance by only rendering the DOM nodes that a user is able to see based on their current\n * scroll position.\n *\n * This component renders a virtualized list of elements with either fixed or dynamic heights.\n */\n\nvar List = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(List, _React$PureComponent);\n\n  function List() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, List);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(List)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"Grid\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_cellRenderer\", function (_ref) {\n      var parent = _ref.parent,\n          rowIndex = _ref.rowIndex,\n          style = _ref.style,\n          isScrolling = _ref.isScrolling,\n          isVisible = _ref.isVisible,\n          key = _ref.key;\n      var rowRenderer = _this.props.rowRenderer; // TRICKY The style object is sometimes cached by Grid.\n      // This prevents new style objects from bypassing shallowCompare().\n      // However as of React 16, style props are auto-frozen (at least in dev mode)\n      // Check to make sure we can still modify the style before proceeding.\n      // https://github.com/facebook/react/commit/977357765b44af8ff0cfea327866861073095c12#commitcomment-20648713\n\n      var widthDescriptor = Object.getOwnPropertyDescriptor(style, 'width');\n\n      if (widthDescriptor && widthDescriptor.writable) {\n        // By default, List cells should be 100% width.\n        // This prevents them from flowing under a scrollbar (if present).\n        style.width = '100%';\n      }\n\n      return rowRenderer({\n        index: rowIndex,\n        style: style,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setRef\", function (ref) {\n      _this.Grid = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (_ref2) {\n      var clientHeight = _ref2.clientHeight,\n          scrollHeight = _ref2.scrollHeight,\n          scrollTop = _ref2.scrollTop;\n      var onScroll = _this.props.onScroll;\n      onScroll({\n        clientHeight: clientHeight,\n        scrollHeight: scrollHeight,\n        scrollTop: scrollTop\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSectionRendered\", function (_ref3) {\n      var rowOverscanStartIndex = _ref3.rowOverscanStartIndex,\n          rowOverscanStopIndex = _ref3.rowOverscanStopIndex,\n          rowStartIndex = _ref3.rowStartIndex,\n          rowStopIndex = _ref3.rowStopIndex;\n      var onRowsRendered = _this.props.onRowsRendered;\n      onRowsRendered({\n        overscanStartIndex: rowOverscanStartIndex,\n        overscanStopIndex: rowOverscanStopIndex,\n        startIndex: rowStartIndex,\n        stopIndex: rowStopIndex\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"forceUpdateGrid\",\n    value: function forceUpdateGrid() {\n      if (this.Grid) {\n        this.Grid.forceUpdate();\n      }\n    }\n    /** See Grid#getOffsetForCell */\n\n  }, {\n    key: \"getOffsetForRow\",\n    value: function getOffsetForRow(_ref4) {\n      var alignment = _ref4.alignment,\n          index = _ref4.index;\n\n      if (this.Grid) {\n        var _this$Grid$getOffsetF = this.Grid.getOffsetForCell({\n          alignment: alignment,\n          rowIndex: index,\n          columnIndex: 0\n        }),\n            scrollTop = _this$Grid$getOffsetF.scrollTop;\n\n        return scrollTop;\n      }\n\n      return 0;\n    }\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender(_ref5) {\n      var columnIndex = _ref5.columnIndex,\n          rowIndex = _ref5.rowIndex;\n\n      if (this.Grid) {\n        this.Grid.invalidateCellSizeAfterRender({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: \"measureAllRows\",\n    value: function measureAllRows() {\n      if (this.Grid) {\n        this.Grid.measureAllCells();\n      }\n    }\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: \"recomputeGridSize\",\n    value: function recomputeGridSize() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$columnIndex = _ref6.columnIndex,\n          columnIndex = _ref6$columnIndex === void 0 ? 0 : _ref6$columnIndex,\n          _ref6$rowIndex = _ref6.rowIndex,\n          rowIndex = _ref6$rowIndex === void 0 ? 0 : _ref6$rowIndex;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: \"recomputeRowHeights\",\n    value: function recomputeRowHeights() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: index,\n          columnIndex: 0\n        });\n      }\n    }\n    /** See Grid#scrollToPosition */\n\n  }, {\n    key: \"scrollToPosition\",\n    value: function scrollToPosition() {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToPosition({\n          scrollTop: scrollTop\n        });\n      }\n    }\n    /** See Grid#scrollToCell */\n\n  }, {\n    key: \"scrollToRow\",\n    value: function scrollToRow() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToCell({\n          columnIndex: 0,\n          rowIndex: index\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          noRowsRenderer = _this$props.noRowsRenderer,\n          scrollToIndex = _this$props.scrollToIndex,\n          width = _this$props.width;\n      var classNames = clsx('ReactVirtualized__List', className);\n      return React.createElement(Grid, _extends({}, this.props, {\n        autoContainerWidth: true,\n        cellRenderer: this._cellRenderer,\n        className: classNames,\n        columnWidth: width,\n        columnCount: 1,\n        noContentRenderer: noRowsRenderer,\n        onScroll: this._onScroll,\n        onSectionRendered: this._onSectionRendered,\n        ref: this._setRef,\n        scrollToRow: scrollToIndex\n      }));\n    }\n  }]);\n\n  return List;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"aria-label\": PropTypes.string,\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height\n   * of rows can stretch the window. Intended for use with WindowScroller\n   */\n  \"autoHeight\": PropTypes.bool.isRequired,\n\n  /** Optional CSS class name */\n  \"className\": PropTypes.string,\n\n  /**\n   * Used to estimate the total height of a List before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  \"estimatedRowSize\": PropTypes.number.isRequired,\n\n  /** Height constraint for list (determines how many actual rows are rendered) */\n  \"height\": PropTypes.number.isRequired,\n\n  /** Optional renderer to be used in place of rows when rowCount is 0 */\n  \"noRowsRenderer\": function noRowsRenderer() {\n    return (typeof bpfrpt_proptype_NoContentRenderer === \"function\" ? bpfrpt_proptype_NoContentRenderer.isRequired ? bpfrpt_proptype_NoContentRenderer.isRequired : bpfrpt_proptype_NoContentRenderer : PropTypes.shape(bpfrpt_proptype_NoContentRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Callback invoked with information about the slice of rows that were just rendered.  */\n  \"onRowsRendered\": PropTypes.func.isRequired,\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   */\n  \"onScroll\": PropTypes.func.isRequired,\n\n  /** See Grid#overscanIndicesGetter */\n  \"overscanIndicesGetter\": function overscanIndicesGetter() {\n    return (typeof bpfrpt_proptype_OverscanIndicesGetter === \"function\" ? bpfrpt_proptype_OverscanIndicesGetter.isRequired ? bpfrpt_proptype_OverscanIndicesGetter.isRequired : bpfrpt_proptype_OverscanIndicesGetter : PropTypes.shape(bpfrpt_proptype_OverscanIndicesGetter).isRequired).apply(this, arguments);\n  },\n\n  /**\n   * Number of rows to render above/below the visible bounds of the list.\n   * These rows can help for smoother scrolling on touch devices.\n   */\n  \"overscanRowCount\": PropTypes.number.isRequired,\n\n  /** Either a fixed row height (number) or a function that returns the height of a row given its index.  */\n  \"rowHeight\": function rowHeight() {\n    return (typeof bpfrpt_proptype_CellSize === \"function\" ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : PropTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n  /** Responsible for rendering a row given an index; ({ index: number }): node */\n  \"rowRenderer\": function rowRenderer() {\n    return (typeof bpfrpt_proptype_RowRenderer === \"function\" ? bpfrpt_proptype_RowRenderer.isRequired ? bpfrpt_proptype_RowRenderer.isRequired : bpfrpt_proptype_RowRenderer : PropTypes.shape(bpfrpt_proptype_RowRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Number of rows in list. */\n  \"rowCount\": PropTypes.number.isRequired,\n\n  /** See Grid#scrollToAlignment */\n  \"scrollToAlignment\": function scrollToAlignment() {\n    return (typeof bpfrpt_proptype_Alignment === \"function\" ? bpfrpt_proptype_Alignment.isRequired ? bpfrpt_proptype_Alignment.isRequired : bpfrpt_proptype_Alignment : PropTypes.shape(bpfrpt_proptype_Alignment).isRequired).apply(this, arguments);\n  },\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  \"scrollToIndex\": PropTypes.number.isRequired,\n\n  /** Vertical offset. */\n  \"scrollTop\": PropTypes.number,\n\n  /** Optional inline style */\n  \"style\": PropTypes.object.isRequired,\n\n  /** Tab index for focus */\n  \"tabIndex\": PropTypes.number,\n\n  /** Width of list */\n  \"width\": PropTypes.number.isRequired\n}), _temp);\n\n_defineProperty(List, \"defaultProps\", {\n  autoHeight: false,\n  estimatedRowSize: 30,\n  onScroll: function onScroll() {},\n  noRowsRenderer: function noRowsRenderer() {\n    return null;\n  },\n  onRowsRendered: function onRowsRendered() {},\n  overscanIndicesGetter: accessibilityOverscanIndicesGetter,\n  overscanRowCount: 10,\n  scrollToAlignment: 'auto',\n  scrollToIndex: -1,\n  style: {}\n});\n\nexport { List as default };\nimport { bpfrpt_proptype_NoContentRenderer } from \"../Grid\";\nimport { bpfrpt_proptype_Alignment } from \"../Grid\";\nimport { bpfrpt_proptype_CellSize } from \"../Grid\";\nimport { bpfrpt_proptype_CellPosition } from \"../Grid\";\nimport { bpfrpt_proptype_OverscanIndicesGetter } from \"../Grid\";\nimport { bpfrpt_proptype_RenderedSection } from \"../Grid\";\nimport { bpfrpt_proptype_CellRendererParams } from \"../Grid\";\nimport { bpfrpt_proptype_Scroll as bpfrpt_proptype_GridScroll } from \"../Grid\";\nimport { bpfrpt_proptype_RowRenderer } from \"./types\";\nimport { bpfrpt_proptype_RenderedRows } from \"./types\";\nimport { bpfrpt_proptype_Scroll } from \"./types\";\nimport PropTypes from \"prop-types\";","/**\n * Binary Search Bounds\n * https://github.com/mikolalysenko/binary-search-bounds\n * Mikola Lysenko\n *\n * Inlined because of Content Security Policy issue caused by the use of `new Function(...)` syntax.\n * Issue reported here: https://github.com/mikolalysenko/binary-search-bounds/issues/5\n **/\nfunction _GEA(a, l, h, y) {\n  var i = h + 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (x >= y) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n\n  return i;\n}\n\nfunction _GEP(a, l, h, y, c) {\n  var i = h + 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (c(x, y) >= 0) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n\n  return i;\n}\n\nfunction dispatchBsearchGE(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _GEP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _GEA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _GTA(a, l, h, y) {\n  var i = h + 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (x > y) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n\n  return i;\n}\n\nfunction _GTP(a, l, h, y, c) {\n  var i = h + 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (c(x, y) > 0) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n\n  return i;\n}\n\nfunction dispatchBsearchGT(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _GTP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _GTA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _LTA(a, l, h, y) {\n  var i = l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (x < y) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return i;\n}\n\nfunction _LTP(a, l, h, y, c) {\n  var i = l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (c(x, y) < 0) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return i;\n}\n\nfunction dispatchBsearchLT(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _LTP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _LTA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _LEA(a, l, h, y) {\n  var i = l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (x <= y) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return i;\n}\n\nfunction _LEP(a, l, h, y, c) {\n  var i = l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (c(x, y) <= 0) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return i;\n}\n\nfunction dispatchBsearchLE(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _LEP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _LEA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _EQA(a, l, h, y) {\n  l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (x === y) {\n      return m;\n    } else if (x <= y) {\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return -1;\n}\n\nfunction _EQP(a, l, h, y, c) {\n  l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    var p = c(x, y);\n\n    if (p === 0) {\n      return m;\n    } else if (p <= 0) {\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return -1;\n}\n\nfunction dispatchBsearchEQ(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _EQP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _EQA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nexport default {\n  ge: dispatchBsearchGE,\n  gt: dispatchBsearchGT,\n  lt: dispatchBsearchLT,\n  le: dispatchBsearchLE,\n  eq: dispatchBsearchEQ\n};","/**\n * Binary Search Bounds\n * https://github.com/mikolalysenko/interval-tree-1d\n * Mikola Lysenko\n *\n * Inlined because of Content Security Policy issue caused by the use of `new Function(...)` syntax in an upstream dependency.\n * Issue reported here: https://github.com/mikolalysenko/binary-search-bounds/issues/5\n **/\nimport bounds from './binarySearchBounds';\nvar NOT_FOUND = 0;\nvar SUCCESS = 1;\nvar EMPTY = 2;\n\nfunction IntervalTreeNode(mid, left, right, leftPoints, rightPoints) {\n  this.mid = mid;\n  this.left = left;\n  this.right = right;\n  this.leftPoints = leftPoints;\n  this.rightPoints = rightPoints;\n  this.count = (left ? left.count : 0) + (right ? right.count : 0) + leftPoints.length;\n}\n\nvar proto = IntervalTreeNode.prototype;\n\nfunction copy(a, b) {\n  a.mid = b.mid;\n  a.left = b.left;\n  a.right = b.right;\n  a.leftPoints = b.leftPoints;\n  a.rightPoints = b.rightPoints;\n  a.count = b.count;\n}\n\nfunction rebuild(node, intervals) {\n  var ntree = createIntervalTree(intervals);\n  node.mid = ntree.mid;\n  node.left = ntree.left;\n  node.right = ntree.right;\n  node.leftPoints = ntree.leftPoints;\n  node.rightPoints = ntree.rightPoints;\n  node.count = ntree.count;\n}\n\nfunction rebuildWithInterval(node, interval) {\n  var intervals = node.intervals([]);\n  intervals.push(interval);\n  rebuild(node, intervals);\n}\n\nfunction rebuildWithoutInterval(node, interval) {\n  var intervals = node.intervals([]);\n  var idx = intervals.indexOf(interval);\n\n  if (idx < 0) {\n    return NOT_FOUND;\n  }\n\n  intervals.splice(idx, 1);\n  rebuild(node, intervals);\n  return SUCCESS;\n}\n\nproto.intervals = function (result) {\n  result.push.apply(result, this.leftPoints);\n\n  if (this.left) {\n    this.left.intervals(result);\n  }\n\n  if (this.right) {\n    this.right.intervals(result);\n  }\n\n  return result;\n};\n\nproto.insert = function (interval) {\n  var weight = this.count - this.leftPoints.length;\n  this.count += 1;\n\n  if (interval[1] < this.mid) {\n    if (this.left) {\n      if (4 * (this.left.count + 1) > 3 * (weight + 1)) {\n        rebuildWithInterval(this, interval);\n      } else {\n        this.left.insert(interval);\n      }\n    } else {\n      this.left = createIntervalTree([interval]);\n    }\n  } else if (interval[0] > this.mid) {\n    if (this.right) {\n      if (4 * (this.right.count + 1) > 3 * (weight + 1)) {\n        rebuildWithInterval(this, interval);\n      } else {\n        this.right.insert(interval);\n      }\n    } else {\n      this.right = createIntervalTree([interval]);\n    }\n  } else {\n    var l = bounds.ge(this.leftPoints, interval, compareBegin);\n    var r = bounds.ge(this.rightPoints, interval, compareEnd);\n    this.leftPoints.splice(l, 0, interval);\n    this.rightPoints.splice(r, 0, interval);\n  }\n};\n\nproto.remove = function (interval) {\n  var weight = this.count - this.leftPoints;\n\n  if (interval[1] < this.mid) {\n    if (!this.left) {\n      return NOT_FOUND;\n    }\n\n    var rw = this.right ? this.right.count : 0;\n\n    if (4 * rw > 3 * (weight - 1)) {\n      return rebuildWithoutInterval(this, interval);\n    }\n\n    var r = this.left.remove(interval);\n\n    if (r === EMPTY) {\n      this.left = null;\n      this.count -= 1;\n      return SUCCESS;\n    } else if (r === SUCCESS) {\n      this.count -= 1;\n    }\n\n    return r;\n  } else if (interval[0] > this.mid) {\n    if (!this.right) {\n      return NOT_FOUND;\n    }\n\n    var lw = this.left ? this.left.count : 0;\n\n    if (4 * lw > 3 * (weight - 1)) {\n      return rebuildWithoutInterval(this, interval);\n    }\n\n    var r = this.right.remove(interval);\n\n    if (r === EMPTY) {\n      this.right = null;\n      this.count -= 1;\n      return SUCCESS;\n    } else if (r === SUCCESS) {\n      this.count -= 1;\n    }\n\n    return r;\n  } else {\n    if (this.count === 1) {\n      if (this.leftPoints[0] === interval) {\n        return EMPTY;\n      } else {\n        return NOT_FOUND;\n      }\n    }\n\n    if (this.leftPoints.length === 1 && this.leftPoints[0] === interval) {\n      if (this.left && this.right) {\n        var p = this;\n        var n = this.left;\n\n        while (n.right) {\n          p = n;\n          n = n.right;\n        }\n\n        if (p === this) {\n          n.right = this.right;\n        } else {\n          var l = this.left;\n          var r = this.right;\n          p.count -= n.count;\n          p.right = n.left;\n          n.left = l;\n          n.right = r;\n        }\n\n        copy(this, n);\n        this.count = (this.left ? this.left.count : 0) + (this.right ? this.right.count : 0) + this.leftPoints.length;\n      } else if (this.left) {\n        copy(this, this.left);\n      } else {\n        copy(this, this.right);\n      }\n\n      return SUCCESS;\n    }\n\n    for (var l = bounds.ge(this.leftPoints, interval, compareBegin); l < this.leftPoints.length; ++l) {\n      if (this.leftPoints[l][0] !== interval[0]) {\n        break;\n      }\n\n      if (this.leftPoints[l] === interval) {\n        this.count -= 1;\n        this.leftPoints.splice(l, 1);\n\n        for (var r = bounds.ge(this.rightPoints, interval, compareEnd); r < this.rightPoints.length; ++r) {\n          if (this.rightPoints[r][1] !== interval[1]) {\n            break;\n          } else if (this.rightPoints[r] === interval) {\n            this.rightPoints.splice(r, 1);\n            return SUCCESS;\n          }\n        }\n      }\n    }\n\n    return NOT_FOUND;\n  }\n};\n\nfunction reportLeftRange(arr, hi, cb) {\n  for (var i = 0; i < arr.length && arr[i][0] <= hi; ++i) {\n    var r = cb(arr[i]);\n\n    if (r) {\n      return r;\n    }\n  }\n}\n\nfunction reportRightRange(arr, lo, cb) {\n  for (var i = arr.length - 1; i >= 0 && arr[i][1] >= lo; --i) {\n    var r = cb(arr[i]);\n\n    if (r) {\n      return r;\n    }\n  }\n}\n\nfunction reportRange(arr, cb) {\n  for (var i = 0; i < arr.length; ++i) {\n    var r = cb(arr[i]);\n\n    if (r) {\n      return r;\n    }\n  }\n}\n\nproto.queryPoint = function (x, cb) {\n  if (x < this.mid) {\n    if (this.left) {\n      var r = this.left.queryPoint(x, cb);\n\n      if (r) {\n        return r;\n      }\n    }\n\n    return reportLeftRange(this.leftPoints, x, cb);\n  } else if (x > this.mid) {\n    if (this.right) {\n      var r = this.right.queryPoint(x, cb);\n\n      if (r) {\n        return r;\n      }\n    }\n\n    return reportRightRange(this.rightPoints, x, cb);\n  } else {\n    return reportRange(this.leftPoints, cb);\n  }\n};\n\nproto.queryInterval = function (lo, hi, cb) {\n  if (lo < this.mid && this.left) {\n    var r = this.left.queryInterval(lo, hi, cb);\n\n    if (r) {\n      return r;\n    }\n  }\n\n  if (hi > this.mid && this.right) {\n    var r = this.right.queryInterval(lo, hi, cb);\n\n    if (r) {\n      return r;\n    }\n  }\n\n  if (hi < this.mid) {\n    return reportLeftRange(this.leftPoints, hi, cb);\n  } else if (lo > this.mid) {\n    return reportRightRange(this.rightPoints, lo, cb);\n  } else {\n    return reportRange(this.leftPoints, cb);\n  }\n};\n\nfunction compareNumbers(a, b) {\n  return a - b;\n}\n\nfunction compareBegin(a, b) {\n  var d = a[0] - b[0];\n\n  if (d) {\n    return d;\n  }\n\n  return a[1] - b[1];\n}\n\nfunction compareEnd(a, b) {\n  var d = a[1] - b[1];\n\n  if (d) {\n    return d;\n  }\n\n  return a[0] - b[0];\n}\n\nfunction createIntervalTree(intervals) {\n  if (intervals.length === 0) {\n    return null;\n  }\n\n  var pts = [];\n\n  for (var i = 0; i < intervals.length; ++i) {\n    pts.push(intervals[i][0], intervals[i][1]);\n  }\n\n  pts.sort(compareNumbers);\n  var mid = pts[pts.length >> 1];\n  var leftIntervals = [];\n  var rightIntervals = [];\n  var centerIntervals = [];\n\n  for (var i = 0; i < intervals.length; ++i) {\n    var s = intervals[i];\n\n    if (s[1] < mid) {\n      leftIntervals.push(s);\n    } else if (mid < s[0]) {\n      rightIntervals.push(s);\n    } else {\n      centerIntervals.push(s);\n    }\n  } //Split center intervals\n\n\n  var leftPoints = centerIntervals;\n  var rightPoints = centerIntervals.slice();\n  leftPoints.sort(compareBegin);\n  rightPoints.sort(compareEnd);\n  return new IntervalTreeNode(mid, createIntervalTree(leftIntervals), createIntervalTree(rightIntervals), leftPoints, rightPoints);\n} //User friendly wrapper that makes it possible to support empty trees\n\n\nfunction IntervalTree(root) {\n  this.root = root;\n}\n\nvar tproto = IntervalTree.prototype;\n\ntproto.insert = function (interval) {\n  if (this.root) {\n    this.root.insert(interval);\n  } else {\n    this.root = new IntervalTreeNode(interval[0], null, null, [interval], [interval]);\n  }\n};\n\ntproto.remove = function (interval) {\n  if (this.root) {\n    var r = this.root.remove(interval);\n\n    if (r === EMPTY) {\n      this.root = null;\n    }\n\n    return r !== NOT_FOUND;\n  }\n\n  return false;\n};\n\ntproto.queryPoint = function (p, cb) {\n  if (this.root) {\n    return this.root.queryPoint(p, cb);\n  }\n};\n\ntproto.queryInterval = function (lo, hi, cb) {\n  if (lo <= hi && this.root) {\n    return this.root.queryInterval(lo, hi, cb);\n  }\n};\n\nObject.defineProperty(tproto, 'count', {\n  get: function get() {\n    if (this.root) {\n      return this.root.count;\n    }\n\n    return 0;\n  }\n});\nObject.defineProperty(tproto, 'intervals', {\n  get: function get() {\n    if (this.root) {\n      return this.root.intervals([]);\n    }\n\n    return [];\n  }\n});\nexport default function createWrapper(intervals) {\n  if (!intervals || intervals.length === 0) {\n    return new IntervalTree(null);\n  }\n\n  return new IntervalTree(createIntervalTree(intervals));\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport createIntervalTree from '../vendor/intervalTree';\n\n// Position cache requirements:\n//   O(log(n)) lookup of cells to render for a given viewport size\n//   O(1) lookup of shortest measured column (so we know when to enter phase 1)\nvar PositionCache =\n/*#__PURE__*/\nfunction () {\n  function PositionCache() {\n    _classCallCheck(this, PositionCache);\n\n    _defineProperty(this, \"_columnSizeMap\", {});\n\n    _defineProperty(this, \"_intervalTree\", createIntervalTree());\n\n    _defineProperty(this, \"_leftMap\", {});\n  }\n\n  _createClass(PositionCache, [{\n    key: \"estimateTotalHeight\",\n    value: function estimateTotalHeight(cellCount, columnCount, defaultCellHeight) {\n      var unmeasuredCellCount = cellCount - this.count;\n      return this.tallestColumnSize + Math.ceil(unmeasuredCellCount / columnCount) * defaultCellHeight;\n    } // Render all cells visible within the viewport range defined.\n\n  }, {\n    key: \"range\",\n    value: function range(scrollTop, clientHeight, renderCallback) {\n      var _this = this;\n\n      this._intervalTree.queryInterval(scrollTop, scrollTop + clientHeight, function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 3),\n            top = _ref2[0],\n            _ = _ref2[1],\n            index = _ref2[2];\n\n        return renderCallback(index, _this._leftMap[index], top);\n      });\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(index, left, top, height) {\n      this._intervalTree.insert([top, top + height, index]);\n\n      this._leftMap[index] = left;\n      var columnSizeMap = this._columnSizeMap;\n      var columnHeight = columnSizeMap[left];\n\n      if (columnHeight === undefined) {\n        columnSizeMap[left] = top + height;\n      } else {\n        columnSizeMap[left] = Math.max(columnHeight, top + height);\n      }\n    }\n  }, {\n    key: \"count\",\n    get: function get() {\n      return this._intervalTree.count;\n    }\n  }, {\n    key: \"shortestColumnSize\",\n    get: function get() {\n      var columnSizeMap = this._columnSizeMap;\n      var size = 0;\n\n      for (var i in columnSizeMap) {\n        var height = columnSizeMap[i];\n        size = size === 0 ? height : Math.min(size, height);\n      }\n\n      return size;\n    }\n  }, {\n    key: \"tallestColumnSize\",\n    get: function get() {\n      var columnSizeMap = this._columnSizeMap;\n      var size = 0;\n\n      for (var i in columnSizeMap) {\n        var height = columnSizeMap[i];\n        size = Math.max(size, height);\n      }\n\n      return size;\n    }\n  }]);\n\n  return PositionCache;\n}();\n\nexport { PositionCache as default };","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport clsx from 'clsx';\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport PositionCache from './PositionCache';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../utils/requestAnimationTimeout';\nvar emptyObject = {};\n/**\n * Specifies the number of miliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\n\nexport var DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;\n/**\n * This component efficiently displays arbitrarily positioned cells using windowing techniques.\n * Cell position is determined by an injected `cellPositioner` property.\n * Windowing is vertical; this component does not support horizontal scrolling.\n *\n * Rendering occurs in two phases:\n * 1) First pass uses estimated cell sizes (provided by the cache) to determine how many cells to measure in a batch.\n *    Batch size is chosen using a fast, naive layout algorithm that stacks images in order until the viewport has been filled.\n *    After measurement is complete (componentDidMount or componentDidUpdate) this component evaluates positioned cells\n *    in order to determine if another measurement pass is required (eg if actual cell sizes were less than estimated sizes).\n *    All measurements are permanently cached (keyed by `keyMapper`) for performance purposes.\n * 2) Second pass uses the external `cellPositioner` to layout cells.\n *    At this time the positioner has access to cached size measurements for all cells.\n *    The positions it returns are cached by Masonry for fast access later.\n *    Phase one is repeated if the user scrolls beyond the current layout's bounds.\n *    If the layout is invalidated due to eg a resize, cached positions can be cleared using `recomputeCellPositions()`.\n *\n * Animation constraints:\n *   Simple animations are supported (eg translate/slide into place on initial reveal).\n *   More complex animations are not (eg flying from one position to another on resize).\n *\n * Layout constraints:\n *   This component supports multi-column layout.\n *   The height of each item may vary.\n *   The width of each item must not exceed the width of the column it is \"in\".\n *   The left position of all items within a column must align.\n *   (Items may not span multiple columns.)\n */\n\nvar Masonry = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Masonry, _React$PureComponent);\n\n  function Masonry() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Masonry);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Masonry)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isScrolling: false,\n      scrollTop: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_debounceResetIsScrollingId\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_invalidateOnUpdateStartIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_invalidateOnUpdateStopIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_positionCache\", new PositionCache());\n\n    _defineProperty(_assertThisInitialized(_this), \"_startIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_startIndexMemoized\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_stopIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_stopIndexMemoized\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_debounceResetIsScrollingCallback\", function () {\n      _this.setState({\n        isScrolling: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setScrollingContainerRef\", function (ref) {\n      _this._scrollingContainer = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (event) {\n      var height = _this.props.height;\n      var eventScrollTop = event.currentTarget.scrollTop; // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.\n\n      var scrollTop = Math.min(Math.max(0, _this._getEstimatedTotalHeight() - height), eventScrollTop); // On iOS, we can arrive at negative offsets by swiping past the start or end.\n      // Avoid re-rendering in this case as it can cause problems; see #532 for more.\n\n      if (eventScrollTop !== scrollTop) {\n        return;\n      } // Prevent pointer events from interrupting a smooth scroll\n\n\n      _this._debounceResetIsScrolling(); // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n\n\n      if (_this.state.scrollTop !== scrollTop) {\n        _this.setState({\n          isScrolling: true,\n          scrollTop: scrollTop\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Masonry, [{\n    key: \"clearCellPositions\",\n    value: function clearCellPositions() {\n      this._positionCache = new PositionCache();\n      this.forceUpdate();\n    } // HACK This method signature was intended for Grid\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender(_ref) {\n      var index = _ref.rowIndex;\n\n      if (this._invalidateOnUpdateStartIndex === null) {\n        this._invalidateOnUpdateStartIndex = index;\n        this._invalidateOnUpdateStopIndex = index;\n      } else {\n        this._invalidateOnUpdateStartIndex = Math.min(this._invalidateOnUpdateStartIndex, index);\n        this._invalidateOnUpdateStopIndex = Math.max(this._invalidateOnUpdateStopIndex, index);\n      }\n    }\n  }, {\n    key: \"recomputeCellPositions\",\n    value: function recomputeCellPositions() {\n      var stopIndex = this._positionCache.count - 1;\n      this._positionCache = new PositionCache();\n\n      this._populatePositionCache(0, stopIndex);\n\n      this.forceUpdate();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._checkInvalidateOnUpdate();\n\n      this._invokeOnScrollCallback();\n\n      this._invokeOnCellsRenderedCallback();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      this._checkInvalidateOnUpdate();\n\n      this._invokeOnScrollCallback();\n\n      this._invokeOnCellsRenderedCallback();\n\n      if (this.props.scrollTop !== prevProps.scrollTop) {\n        this._debounceResetIsScrolling();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._debounceResetIsScrollingId) {\n        cancelAnimationTimeout(this._debounceResetIsScrollingId);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          autoHeight = _this$props.autoHeight,\n          cellCount = _this$props.cellCount,\n          cellMeasurerCache = _this$props.cellMeasurerCache,\n          cellRenderer = _this$props.cellRenderer,\n          className = _this$props.className,\n          height = _this$props.height,\n          id = _this$props.id,\n          keyMapper = _this$props.keyMapper,\n          overscanByPixels = _this$props.overscanByPixels,\n          role = _this$props.role,\n          style = _this$props.style,\n          tabIndex = _this$props.tabIndex,\n          width = _this$props.width,\n          rowDirection = _this$props.rowDirection;\n      var _this$state = this.state,\n          isScrolling = _this$state.isScrolling,\n          scrollTop = _this$state.scrollTop;\n      var children = [];\n\n      var estimateTotalHeight = this._getEstimatedTotalHeight();\n\n      var shortestColumnSize = this._positionCache.shortestColumnSize;\n      var measuredCellCount = this._positionCache.count;\n      var startIndex = 0;\n      var stopIndex;\n\n      this._positionCache.range(Math.max(0, scrollTop - overscanByPixels), height + overscanByPixels * 2, function (index, left, top) {\n        var _style;\n\n        if (typeof stopIndex === 'undefined') {\n          startIndex = index;\n          stopIndex = index;\n        } else {\n          startIndex = Math.min(startIndex, index);\n          stopIndex = Math.max(stopIndex, index);\n        }\n\n        children.push(cellRenderer({\n          index: index,\n          isScrolling: isScrolling,\n          key: keyMapper(index),\n          parent: _this2,\n          style: (_style = {\n            height: cellMeasurerCache.getHeight(index)\n          }, _defineProperty(_style, rowDirection === 'ltr' ? 'left' : 'right', left), _defineProperty(_style, \"position\", 'absolute'), _defineProperty(_style, \"top\", top), _defineProperty(_style, \"width\", cellMeasurerCache.getWidth(index)), _style)\n        }));\n      }); // We need to measure additional cells for this layout\n\n\n      if (shortestColumnSize < scrollTop + height + overscanByPixels && measuredCellCount < cellCount) {\n        var batchSize = Math.min(cellCount - measuredCellCount, Math.ceil((scrollTop + height + overscanByPixels - shortestColumnSize) / cellMeasurerCache.defaultHeight * width / cellMeasurerCache.defaultWidth));\n\n        for (var _index = measuredCellCount; _index < measuredCellCount + batchSize; _index++) {\n          stopIndex = _index;\n          children.push(cellRenderer({\n            index: _index,\n            isScrolling: isScrolling,\n            key: keyMapper(_index),\n            parent: this,\n            style: {\n              width: cellMeasurerCache.getWidth(_index)\n            }\n          }));\n        }\n      }\n\n      this._startIndex = startIndex;\n      this._stopIndex = stopIndex;\n      return React.createElement(\"div\", {\n        ref: this._setScrollingContainerRef,\n        \"aria-label\": this.props['aria-label'],\n        className: clsx('ReactVirtualized__Masonry', className),\n        id: id,\n        onScroll: this._onScroll,\n        role: role,\n        style: _objectSpread({\n          boxSizing: 'border-box',\n          direction: 'ltr',\n          height: autoHeight ? 'auto' : height,\n          overflowX: 'hidden',\n          overflowY: estimateTotalHeight < height ? 'hidden' : 'auto',\n          position: 'relative',\n          width: width,\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform'\n        }, style),\n        tabIndex: tabIndex\n      }, React.createElement(\"div\", {\n        className: \"ReactVirtualized__Masonry__innerScrollContainer\",\n        style: {\n          width: '100%',\n          height: estimateTotalHeight,\n          maxWidth: '100%',\n          maxHeight: estimateTotalHeight,\n          overflow: 'hidden',\n          pointerEvents: isScrolling ? 'none' : '',\n          position: 'relative'\n        }\n      }, children));\n    }\n  }, {\n    key: \"_checkInvalidateOnUpdate\",\n    value: function _checkInvalidateOnUpdate() {\n      if (typeof this._invalidateOnUpdateStartIndex === 'number') {\n        var startIndex = this._invalidateOnUpdateStartIndex;\n        var stopIndex = this._invalidateOnUpdateStopIndex;\n        this._invalidateOnUpdateStartIndex = null;\n        this._invalidateOnUpdateStopIndex = null; // Query external layout logic for position of newly-measured cells\n\n        this._populatePositionCache(startIndex, stopIndex);\n\n        this.forceUpdate();\n      }\n    }\n  }, {\n    key: \"_debounceResetIsScrolling\",\n    value: function _debounceResetIsScrolling() {\n      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;\n\n      if (this._debounceResetIsScrollingId) {\n        cancelAnimationTimeout(this._debounceResetIsScrollingId);\n      }\n\n      this._debounceResetIsScrollingId = requestAnimationTimeout(this._debounceResetIsScrollingCallback, scrollingResetTimeInterval);\n    }\n  }, {\n    key: \"_getEstimatedTotalHeight\",\n    value: function _getEstimatedTotalHeight() {\n      var _this$props2 = this.props,\n          cellCount = _this$props2.cellCount,\n          cellMeasurerCache = _this$props2.cellMeasurerCache,\n          width = _this$props2.width;\n      var estimatedColumnCount = Math.max(1, Math.floor(width / cellMeasurerCache.defaultWidth));\n      return this._positionCache.estimateTotalHeight(cellCount, estimatedColumnCount, cellMeasurerCache.defaultHeight);\n    }\n  }, {\n    key: \"_invokeOnScrollCallback\",\n    value: function _invokeOnScrollCallback() {\n      var _this$props3 = this.props,\n          height = _this$props3.height,\n          onScroll = _this$props3.onScroll;\n      var scrollTop = this.state.scrollTop;\n\n      if (this._onScrollMemoized !== scrollTop) {\n        onScroll({\n          clientHeight: height,\n          scrollHeight: this._getEstimatedTotalHeight(),\n          scrollTop: scrollTop\n        });\n        this._onScrollMemoized = scrollTop;\n      }\n    }\n  }, {\n    key: \"_invokeOnCellsRenderedCallback\",\n    value: function _invokeOnCellsRenderedCallback() {\n      if (this._startIndexMemoized !== this._startIndex || this._stopIndexMemoized !== this._stopIndex) {\n        var onCellsRendered = this.props.onCellsRendered;\n        onCellsRendered({\n          startIndex: this._startIndex,\n          stopIndex: this._stopIndex\n        });\n        this._startIndexMemoized = this._startIndex;\n        this._stopIndexMemoized = this._stopIndex;\n      }\n    }\n  }, {\n    key: \"_populatePositionCache\",\n    value: function _populatePositionCache(startIndex, stopIndex) {\n      var _this$props4 = this.props,\n          cellMeasurerCache = _this$props4.cellMeasurerCache,\n          cellPositioner = _this$props4.cellPositioner;\n\n      for (var _index2 = startIndex; _index2 <= stopIndex; _index2++) {\n        var _cellPositioner = cellPositioner(_index2),\n            left = _cellPositioner.left,\n            top = _cellPositioner.top;\n\n        this._positionCache.setPosition(_index2, left, top, cellMeasurerCache.getHeight(_index2));\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.scrollTop !== undefined && prevState.scrollTop !== nextProps.scrollTop) {\n        return {\n          isScrolling: true,\n          scrollTop: nextProps.scrollTop\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Masonry;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"autoHeight\": PropTypes.bool.isRequired,\n  \"cellCount\": PropTypes.number.isRequired,\n  \"cellMeasurerCache\": function cellMeasurerCache() {\n    return (typeof CellMeasurerCache === \"function\" ? PropTypes.instanceOf(CellMeasurerCache).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"cellPositioner\": function cellPositioner() {\n    return (typeof Positioner === \"function\" ? PropTypes.instanceOf(Positioner).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"cellRenderer\": function cellRenderer() {\n    return (typeof CellRenderer === \"function\" ? PropTypes.instanceOf(CellRenderer).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"className\": PropTypes.string,\n  \"height\": PropTypes.number.isRequired,\n  \"id\": PropTypes.string,\n  \"keyMapper\": function keyMapper() {\n    return (typeof KeyMapper === \"function\" ? PropTypes.instanceOf(KeyMapper).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"onCellsRendered\": function onCellsRendered() {\n    return (typeof OnCellsRenderedCallback === \"function\" ? PropTypes.instanceOf(OnCellsRenderedCallback) : PropTypes.any).apply(this, arguments);\n  },\n  \"onScroll\": function onScroll() {\n    return (typeof OnScrollCallback === \"function\" ? PropTypes.instanceOf(OnScrollCallback) : PropTypes.any).apply(this, arguments);\n  },\n  \"overscanByPixels\": PropTypes.number.isRequired,\n  \"role\": PropTypes.string.isRequired,\n  \"scrollingResetTimeInterval\": PropTypes.number.isRequired,\n  \"style\": function style(props, propName, componentName) {\n    if (!Object.prototype.hasOwnProperty.call(props, propName)) {\n      throw new Error(\"Prop `\".concat(propName, \"` has type 'any' or 'mixed', but was not provided to `\").concat(componentName, \"`. Pass undefined or any other value.\"));\n    }\n  },\n  \"tabIndex\": PropTypes.number.isRequired,\n  \"width\": PropTypes.number.isRequired,\n  \"rowDirection\": PropTypes.string.isRequired,\n  \"scrollTop\": PropTypes.number\n}), _temp);\n\n_defineProperty(Masonry, \"defaultProps\", {\n  autoHeight: false,\n  keyMapper: identity,\n  onCellsRendered: noop,\n  onScroll: noop,\n  overscanByPixels: 20,\n  role: 'grid',\n  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,\n  style: emptyObject,\n  tabIndex: 0,\n  rowDirection: 'ltr'\n});\n\nfunction identity(value) {\n  return value;\n}\n\nfunction noop() {}\n\nvar bpfrpt_proptype_CellMeasurerCache = process.env.NODE_ENV === 'production' ? null : {\n  \"defaultHeight\": PropTypes.number.isRequired,\n  \"defaultWidth\": PropTypes.number.isRequired,\n  \"getHeight\": PropTypes.func.isRequired,\n  \"getWidth\": PropTypes.func.isRequired\n};\npolyfill(Masonry);\nexport default Masonry;\nvar bpfrpt_proptype_Positioner = process.env.NODE_ENV === 'production' ? null : PropTypes.func;\nimport { bpfrpt_proptype_AnimationTimeoutId } from \"../utils/requestAnimationTimeout\";\nimport PropTypes from \"prop-types\";\nexport { bpfrpt_proptype_CellMeasurerCache };\nexport { bpfrpt_proptype_Positioner };","import createCellPositioner from './createCellPositioner';\nimport Masonry from './Masonry';\nexport default Masonry;\nexport { createCellPositioner, Masonry };","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { CellMeasurerCache } from '../CellMeasurer';\n\n/**\n * Caches measurements for a given cell.\n */\nvar CellMeasurerCacheDecorator =\n/*#__PURE__*/\nfunction () {\n  function CellMeasurerCacheDecorator() {\n    var _this = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, CellMeasurerCacheDecorator);\n\n    _defineProperty(this, \"_cellMeasurerCache\", void 0);\n\n    _defineProperty(this, \"_columnIndexOffset\", void 0);\n\n    _defineProperty(this, \"_rowIndexOffset\", void 0);\n\n    _defineProperty(this, \"columnWidth\", function (_ref) {\n      var index = _ref.index;\n\n      _this._cellMeasurerCache.columnWidth({\n        index: index + _this._columnIndexOffset\n      });\n    });\n\n    _defineProperty(this, \"rowHeight\", function (_ref2) {\n      var index = _ref2.index;\n\n      _this._cellMeasurerCache.rowHeight({\n        index: index + _this._rowIndexOffset\n      });\n    });\n\n    var cellMeasurerCache = params.cellMeasurerCache,\n        _params$columnIndexOf = params.columnIndexOffset,\n        columnIndexOffset = _params$columnIndexOf === void 0 ? 0 : _params$columnIndexOf,\n        _params$rowIndexOffse = params.rowIndexOffset,\n        rowIndexOffset = _params$rowIndexOffse === void 0 ? 0 : _params$rowIndexOffse;\n    this._cellMeasurerCache = cellMeasurerCache;\n    this._columnIndexOffset = columnIndexOffset;\n    this._rowIndexOffset = rowIndexOffset;\n  }\n\n  _createClass(CellMeasurerCacheDecorator, [{\n    key: \"clear\",\n    value: function clear(rowIndex, columnIndex) {\n      this._cellMeasurerCache.clear(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: \"clearAll\",\n    value: function clearAll() {\n      this._cellMeasurerCache.clearAll();\n    }\n  }, {\n    key: \"hasFixedHeight\",\n    value: function hasFixedHeight() {\n      return this._cellMeasurerCache.hasFixedHeight();\n    }\n  }, {\n    key: \"hasFixedWidth\",\n    value: function hasFixedWidth() {\n      return this._cellMeasurerCache.hasFixedWidth();\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return this._cellMeasurerCache.getHeight(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return this._cellMeasurerCache.getWidth(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: \"has\",\n    value: function has(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return this._cellMeasurerCache.has(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: \"set\",\n    value: function set(rowIndex, columnIndex, width, height) {\n      this._cellMeasurerCache.set(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset, width, height);\n    }\n  }, {\n    key: \"defaultHeight\",\n    get: function get() {\n      return this._cellMeasurerCache.defaultHeight;\n    }\n  }, {\n    key: \"defaultWidth\",\n    get: function get() {\n      return this._cellMeasurerCache.defaultWidth;\n    }\n  }]);\n\n  return CellMeasurerCacheDecorator;\n}();\n\nexport { CellMeasurerCacheDecorator as default };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport CellMeasurerCacheDecorator from './CellMeasurerCacheDecorator';\nimport Grid from '../Grid';\nvar SCROLLBAR_SIZE_BUFFER = 20;\n/**\n * Renders 1, 2, or 4 Grids depending on configuration.\n * A main (body) Grid will always be rendered.\n * Optionally, 1-2 Grids for sticky header rows will also be rendered.\n * If no sticky columns, only 1 sticky header Grid will be rendered.\n * If sticky columns, 2 sticky header Grids will be rendered.\n */\n\nvar MultiGrid =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(MultiGrid, _React$PureComponent);\n\n  function MultiGrid(props, context) {\n    var _this;\n\n    _classCallCheck(this, MultiGrid);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MultiGrid).call(this, props, context));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      scrollLeft: 0,\n      scrollTop: 0,\n      scrollbarSize: 0,\n      showHorizontalScrollbar: false,\n      showVerticalScrollbar: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_deferredInvalidateColumnIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_deferredInvalidateRowIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_bottomLeftGridRef\", function (ref) {\n      _this._bottomLeftGrid = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_bottomRightGridRef\", function (ref) {\n      _this._bottomRightGrid = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_cellRendererBottomLeftGrid\", function (_ref) {\n      var rowIndex = _ref.rowIndex,\n          rest = _objectWithoutProperties(_ref, [\"rowIndex\"]);\n\n      var _this$props = _this.props,\n          cellRenderer = _this$props.cellRenderer,\n          fixedRowCount = _this$props.fixedRowCount,\n          rowCount = _this$props.rowCount;\n\n      if (rowIndex === rowCount - fixedRowCount) {\n        return React.createElement(\"div\", {\n          key: rest.key,\n          style: _objectSpread({}, rest.style, {\n            height: SCROLLBAR_SIZE_BUFFER\n          })\n        });\n      } else {\n        return cellRenderer(_objectSpread({}, rest, {\n          parent: _assertThisInitialized(_this),\n          rowIndex: rowIndex + fixedRowCount\n        }));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_cellRendererBottomRightGrid\", function (_ref2) {\n      var columnIndex = _ref2.columnIndex,\n          rowIndex = _ref2.rowIndex,\n          rest = _objectWithoutProperties(_ref2, [\"columnIndex\", \"rowIndex\"]);\n\n      var _this$props2 = _this.props,\n          cellRenderer = _this$props2.cellRenderer,\n          fixedColumnCount = _this$props2.fixedColumnCount,\n          fixedRowCount = _this$props2.fixedRowCount;\n      return cellRenderer(_objectSpread({}, rest, {\n        columnIndex: columnIndex + fixedColumnCount,\n        parent: _assertThisInitialized(_this),\n        rowIndex: rowIndex + fixedRowCount\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_cellRendererTopRightGrid\", function (_ref3) {\n      var columnIndex = _ref3.columnIndex,\n          rest = _objectWithoutProperties(_ref3, [\"columnIndex\"]);\n\n      var _this$props3 = _this.props,\n          cellRenderer = _this$props3.cellRenderer,\n          columnCount = _this$props3.columnCount,\n          fixedColumnCount = _this$props3.fixedColumnCount;\n\n      if (columnIndex === columnCount - fixedColumnCount) {\n        return React.createElement(\"div\", {\n          key: rest.key,\n          style: _objectSpread({}, rest.style, {\n            width: SCROLLBAR_SIZE_BUFFER\n          })\n        });\n      } else {\n        return cellRenderer(_objectSpread({}, rest, {\n          columnIndex: columnIndex + fixedColumnCount,\n          parent: _assertThisInitialized(_this)\n        }));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_columnWidthRightGrid\", function (_ref4) {\n      var index = _ref4.index;\n      var _this$props4 = _this.props,\n          columnCount = _this$props4.columnCount,\n          fixedColumnCount = _this$props4.fixedColumnCount,\n          columnWidth = _this$props4.columnWidth;\n      var _this$state = _this.state,\n          scrollbarSize = _this$state.scrollbarSize,\n          showHorizontalScrollbar = _this$state.showHorizontalScrollbar; // An extra cell is added to the count\n      // This gives the smaller Grid extra room for offset,\n      // In case the main (bottom right) Grid has a scrollbar\n      // If no scrollbar, the extra space is overflow:hidden anyway\n\n      if (showHorizontalScrollbar && index === columnCount - fixedColumnCount) {\n        return scrollbarSize;\n      }\n\n      return typeof columnWidth === 'function' ? columnWidth({\n        index: index + fixedColumnCount\n      }) : columnWidth;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (scrollInfo) {\n      var scrollLeft = scrollInfo.scrollLeft,\n          scrollTop = scrollInfo.scrollTop;\n\n      _this.setState({\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop\n      });\n\n      var onScroll = _this.props.onScroll;\n\n      if (onScroll) {\n        onScroll(scrollInfo);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollbarPresenceChange\", function (_ref5) {\n      var horizontal = _ref5.horizontal,\n          size = _ref5.size,\n          vertical = _ref5.vertical;\n      var _this$state2 = _this.state,\n          showHorizontalScrollbar = _this$state2.showHorizontalScrollbar,\n          showVerticalScrollbar = _this$state2.showVerticalScrollbar;\n\n      if (horizontal !== showHorizontalScrollbar || vertical !== showVerticalScrollbar) {\n        _this.setState({\n          scrollbarSize: size,\n          showHorizontalScrollbar: horizontal,\n          showVerticalScrollbar: vertical\n        });\n\n        var onScrollbarPresenceChange = _this.props.onScrollbarPresenceChange;\n\n        if (typeof onScrollbarPresenceChange === 'function') {\n          onScrollbarPresenceChange({\n            horizontal: horizontal,\n            size: size,\n            vertical: vertical\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollLeft\", function (scrollInfo) {\n      var scrollLeft = scrollInfo.scrollLeft;\n\n      _this._onScroll({\n        scrollLeft: scrollLeft,\n        scrollTop: _this.state.scrollTop\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollTop\", function (scrollInfo) {\n      var scrollTop = scrollInfo.scrollTop;\n\n      _this._onScroll({\n        scrollTop: scrollTop,\n        scrollLeft: _this.state.scrollLeft\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_rowHeightBottomGrid\", function (_ref6) {\n      var index = _ref6.index;\n      var _this$props5 = _this.props,\n          fixedRowCount = _this$props5.fixedRowCount,\n          rowCount = _this$props5.rowCount,\n          rowHeight = _this$props5.rowHeight;\n      var _this$state3 = _this.state,\n          scrollbarSize = _this$state3.scrollbarSize,\n          showVerticalScrollbar = _this$state3.showVerticalScrollbar; // An extra cell is added to the count\n      // This gives the smaller Grid extra room for offset,\n      // In case the main (bottom right) Grid has a scrollbar\n      // If no scrollbar, the extra space is overflow:hidden anyway\n\n      if (showVerticalScrollbar && index === rowCount - fixedRowCount) {\n        return scrollbarSize;\n      }\n\n      return typeof rowHeight === 'function' ? rowHeight({\n        index: index + fixedRowCount\n      }) : rowHeight;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_topLeftGridRef\", function (ref) {\n      _this._topLeftGrid = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_topRightGridRef\", function (ref) {\n      _this._topRightGrid = ref;\n    });\n\n    var deferredMeasurementCache = props.deferredMeasurementCache,\n        _fixedColumnCount = props.fixedColumnCount,\n        _fixedRowCount = props.fixedRowCount;\n\n    _this._maybeCalculateCachedStyles(true);\n\n    if (deferredMeasurementCache) {\n      _this._deferredMeasurementCacheBottomLeftGrid = _fixedRowCount > 0 ? new CellMeasurerCacheDecorator({\n        cellMeasurerCache: deferredMeasurementCache,\n        columnIndexOffset: 0,\n        rowIndexOffset: _fixedRowCount\n      }) : deferredMeasurementCache;\n      _this._deferredMeasurementCacheBottomRightGrid = _fixedColumnCount > 0 || _fixedRowCount > 0 ? new CellMeasurerCacheDecorator({\n        cellMeasurerCache: deferredMeasurementCache,\n        columnIndexOffset: _fixedColumnCount,\n        rowIndexOffset: _fixedRowCount\n      }) : deferredMeasurementCache;\n      _this._deferredMeasurementCacheTopRightGrid = _fixedColumnCount > 0 ? new CellMeasurerCacheDecorator({\n        cellMeasurerCache: deferredMeasurementCache,\n        columnIndexOffset: _fixedColumnCount,\n        rowIndexOffset: 0\n      }) : deferredMeasurementCache;\n    }\n\n    return _this;\n  }\n\n  _createClass(MultiGrid, [{\n    key: \"forceUpdateGrids\",\n    value: function forceUpdateGrids() {\n      this._bottomLeftGrid && this._bottomLeftGrid.forceUpdate();\n      this._bottomRightGrid && this._bottomRightGrid.forceUpdate();\n      this._topLeftGrid && this._topLeftGrid.forceUpdate();\n      this._topRightGrid && this._topRightGrid.forceUpdate();\n    }\n    /** See Grid#invalidateCellSizeAfterRender */\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$columnIndex = _ref7.columnIndex,\n          columnIndex = _ref7$columnIndex === void 0 ? 0 : _ref7$columnIndex,\n          _ref7$rowIndex = _ref7.rowIndex,\n          rowIndex = _ref7$rowIndex === void 0 ? 0 : _ref7$rowIndex;\n\n      this._deferredInvalidateColumnIndex = typeof this._deferredInvalidateColumnIndex === 'number' ? Math.min(this._deferredInvalidateColumnIndex, columnIndex) : columnIndex;\n      this._deferredInvalidateRowIndex = typeof this._deferredInvalidateRowIndex === 'number' ? Math.min(this._deferredInvalidateRowIndex, rowIndex) : rowIndex;\n    }\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: \"measureAllCells\",\n    value: function measureAllCells() {\n      this._bottomLeftGrid && this._bottomLeftGrid.measureAllCells();\n      this._bottomRightGrid && this._bottomRightGrid.measureAllCells();\n      this._topLeftGrid && this._topLeftGrid.measureAllCells();\n      this._topRightGrid && this._topRightGrid.measureAllCells();\n    }\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: \"recomputeGridSize\",\n    value: function recomputeGridSize() {\n      var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref8$columnIndex = _ref8.columnIndex,\n          columnIndex = _ref8$columnIndex === void 0 ? 0 : _ref8$columnIndex,\n          _ref8$rowIndex = _ref8.rowIndex,\n          rowIndex = _ref8$rowIndex === void 0 ? 0 : _ref8$rowIndex;\n\n      var _this$props6 = this.props,\n          fixedColumnCount = _this$props6.fixedColumnCount,\n          fixedRowCount = _this$props6.fixedRowCount;\n      var adjustedColumnIndex = Math.max(0, columnIndex - fixedColumnCount);\n      var adjustedRowIndex = Math.max(0, rowIndex - fixedRowCount);\n      this._bottomLeftGrid && this._bottomLeftGrid.recomputeGridSize({\n        columnIndex: columnIndex,\n        rowIndex: adjustedRowIndex\n      });\n      this._bottomRightGrid && this._bottomRightGrid.recomputeGridSize({\n        columnIndex: adjustedColumnIndex,\n        rowIndex: adjustedRowIndex\n      });\n      this._topLeftGrid && this._topLeftGrid.recomputeGridSize({\n        columnIndex: columnIndex,\n        rowIndex: rowIndex\n      });\n      this._topRightGrid && this._topRightGrid.recomputeGridSize({\n        columnIndex: adjustedColumnIndex,\n        rowIndex: rowIndex\n      });\n      this._leftGridWidth = null;\n      this._topGridHeight = null;\n\n      this._maybeCalculateCachedStyles(true);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props7 = this.props,\n          scrollLeft = _this$props7.scrollLeft,\n          scrollTop = _this$props7.scrollTop;\n\n      if (scrollLeft > 0 || scrollTop > 0) {\n        var newState = {};\n\n        if (scrollLeft > 0) {\n          newState.scrollLeft = scrollLeft;\n        }\n\n        if (scrollTop > 0) {\n          newState.scrollTop = scrollTop;\n        }\n\n        this.setState(newState);\n      }\n\n      this._handleInvalidatedGridSize();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this._handleInvalidatedGridSize();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props8 = this.props,\n          onScroll = _this$props8.onScroll,\n          onSectionRendered = _this$props8.onSectionRendered,\n          onScrollbarPresenceChange = _this$props8.onScrollbarPresenceChange,\n          scrollLeftProp = _this$props8.scrollLeft,\n          scrollToColumn = _this$props8.scrollToColumn,\n          scrollTopProp = _this$props8.scrollTop,\n          scrollToRow = _this$props8.scrollToRow,\n          rest = _objectWithoutProperties(_this$props8, [\"onScroll\", \"onSectionRendered\", \"onScrollbarPresenceChange\", \"scrollLeft\", \"scrollToColumn\", \"scrollTop\", \"scrollToRow\"]);\n\n      this._prepareForRender(); // Don't render any of our Grids if there are no cells.\n      // This mirrors what Grid does,\n      // And prevents us from recording inaccurage measurements when used with CellMeasurer.\n\n\n      if (this.props.width === 0 || this.props.height === 0) {\n        return null;\n      } // scrollTop and scrollLeft props are explicitly filtered out and ignored\n\n\n      var _this$state4 = this.state,\n          scrollLeft = _this$state4.scrollLeft,\n          scrollTop = _this$state4.scrollTop;\n      return React.createElement(\"div\", {\n        style: this._containerOuterStyle\n      }, React.createElement(\"div\", {\n        style: this._containerTopStyle\n      }, this._renderTopLeftGrid(rest), this._renderTopRightGrid(_objectSpread({}, rest, {\n        onScroll: onScroll,\n        scrollLeft: scrollLeft\n      }))), React.createElement(\"div\", {\n        style: this._containerBottomStyle\n      }, this._renderBottomLeftGrid(_objectSpread({}, rest, {\n        onScroll: onScroll,\n        scrollTop: scrollTop\n      })), this._renderBottomRightGrid(_objectSpread({}, rest, {\n        onScroll: onScroll,\n        onSectionRendered: onSectionRendered,\n        scrollLeft: scrollLeft,\n        scrollToColumn: scrollToColumn,\n        scrollToRow: scrollToRow,\n        scrollTop: scrollTop\n      }))));\n    }\n  }, {\n    key: \"_getBottomGridHeight\",\n    value: function _getBottomGridHeight(props) {\n      var height = props.height;\n\n      var topGridHeight = this._getTopGridHeight(props);\n\n      return height - topGridHeight;\n    }\n  }, {\n    key: \"_getLeftGridWidth\",\n    value: function _getLeftGridWidth(props) {\n      var fixedColumnCount = props.fixedColumnCount,\n          columnWidth = props.columnWidth;\n\n      if (this._leftGridWidth == null) {\n        if (typeof columnWidth === 'function') {\n          var leftGridWidth = 0;\n\n          for (var index = 0; index < fixedColumnCount; index++) {\n            leftGridWidth += columnWidth({\n              index: index\n            });\n          }\n\n          this._leftGridWidth = leftGridWidth;\n        } else {\n          this._leftGridWidth = columnWidth * fixedColumnCount;\n        }\n      }\n\n      return this._leftGridWidth;\n    }\n  }, {\n    key: \"_getRightGridWidth\",\n    value: function _getRightGridWidth(props) {\n      var width = props.width;\n\n      var leftGridWidth = this._getLeftGridWidth(props);\n\n      return width - leftGridWidth;\n    }\n  }, {\n    key: \"_getTopGridHeight\",\n    value: function _getTopGridHeight(props) {\n      var fixedRowCount = props.fixedRowCount,\n          rowHeight = props.rowHeight;\n\n      if (this._topGridHeight == null) {\n        if (typeof rowHeight === 'function') {\n          var topGridHeight = 0;\n\n          for (var index = 0; index < fixedRowCount; index++) {\n            topGridHeight += rowHeight({\n              index: index\n            });\n          }\n\n          this._topGridHeight = topGridHeight;\n        } else {\n          this._topGridHeight = rowHeight * fixedRowCount;\n        }\n      }\n\n      return this._topGridHeight;\n    }\n  }, {\n    key: \"_handleInvalidatedGridSize\",\n    value: function _handleInvalidatedGridSize() {\n      if (typeof this._deferredInvalidateColumnIndex === 'number') {\n        var columnIndex = this._deferredInvalidateColumnIndex;\n        var rowIndex = this._deferredInvalidateRowIndex;\n        this._deferredInvalidateColumnIndex = null;\n        this._deferredInvalidateRowIndex = null;\n        this.recomputeGridSize({\n          columnIndex: columnIndex,\n          rowIndex: rowIndex\n        });\n        this.forceUpdate();\n      }\n    }\n    /**\n     * Avoid recreating inline styles each render; this bypasses Grid's shallowCompare.\n     * This method recalculates styles only when specific props change.\n     */\n\n  }, {\n    key: \"_maybeCalculateCachedStyles\",\n    value: function _maybeCalculateCachedStyles(resetAll) {\n      var _this$props9 = this.props,\n          columnWidth = _this$props9.columnWidth,\n          enableFixedColumnScroll = _this$props9.enableFixedColumnScroll,\n          enableFixedRowScroll = _this$props9.enableFixedRowScroll,\n          height = _this$props9.height,\n          fixedColumnCount = _this$props9.fixedColumnCount,\n          fixedRowCount = _this$props9.fixedRowCount,\n          rowHeight = _this$props9.rowHeight,\n          style = _this$props9.style,\n          styleBottomLeftGrid = _this$props9.styleBottomLeftGrid,\n          styleBottomRightGrid = _this$props9.styleBottomRightGrid,\n          styleTopLeftGrid = _this$props9.styleTopLeftGrid,\n          styleTopRightGrid = _this$props9.styleTopRightGrid,\n          width = _this$props9.width;\n      var sizeChange = resetAll || height !== this._lastRenderedHeight || width !== this._lastRenderedWidth;\n      var leftSizeChange = resetAll || columnWidth !== this._lastRenderedColumnWidth || fixedColumnCount !== this._lastRenderedFixedColumnCount;\n      var topSizeChange = resetAll || fixedRowCount !== this._lastRenderedFixedRowCount || rowHeight !== this._lastRenderedRowHeight;\n\n      if (resetAll || sizeChange || style !== this._lastRenderedStyle) {\n        this._containerOuterStyle = _objectSpread({\n          height: height,\n          overflow: 'visible',\n          // Let :focus outline show through\n          width: width\n        }, style);\n      }\n\n      if (resetAll || sizeChange || topSizeChange) {\n        this._containerTopStyle = {\n          height: this._getTopGridHeight(this.props),\n          position: 'relative',\n          width: width\n        };\n        this._containerBottomStyle = {\n          height: height - this._getTopGridHeight(this.props),\n          overflow: 'visible',\n          // Let :focus outline show through\n          position: 'relative',\n          width: width\n        };\n      }\n\n      if (resetAll || styleBottomLeftGrid !== this._lastRenderedStyleBottomLeftGrid) {\n        this._bottomLeftGridStyle = _objectSpread({\n          left: 0,\n          overflowX: 'hidden',\n          overflowY: enableFixedColumnScroll ? 'auto' : 'hidden',\n          position: 'absolute'\n        }, styleBottomLeftGrid);\n      }\n\n      if (resetAll || leftSizeChange || styleBottomRightGrid !== this._lastRenderedStyleBottomRightGrid) {\n        this._bottomRightGridStyle = _objectSpread({\n          left: this._getLeftGridWidth(this.props),\n          position: 'absolute'\n        }, styleBottomRightGrid);\n      }\n\n      if (resetAll || styleTopLeftGrid !== this._lastRenderedStyleTopLeftGrid) {\n        this._topLeftGridStyle = _objectSpread({\n          left: 0,\n          overflowX: 'hidden',\n          overflowY: 'hidden',\n          position: 'absolute',\n          top: 0\n        }, styleTopLeftGrid);\n      }\n\n      if (resetAll || leftSizeChange || styleTopRightGrid !== this._lastRenderedStyleTopRightGrid) {\n        this._topRightGridStyle = _objectSpread({\n          left: this._getLeftGridWidth(this.props),\n          overflowX: enableFixedRowScroll ? 'auto' : 'hidden',\n          overflowY: 'hidden',\n          position: 'absolute',\n          top: 0\n        }, styleTopRightGrid);\n      }\n\n      this._lastRenderedColumnWidth = columnWidth;\n      this._lastRenderedFixedColumnCount = fixedColumnCount;\n      this._lastRenderedFixedRowCount = fixedRowCount;\n      this._lastRenderedHeight = height;\n      this._lastRenderedRowHeight = rowHeight;\n      this._lastRenderedStyle = style;\n      this._lastRenderedStyleBottomLeftGrid = styleBottomLeftGrid;\n      this._lastRenderedStyleBottomRightGrid = styleBottomRightGrid;\n      this._lastRenderedStyleTopLeftGrid = styleTopLeftGrid;\n      this._lastRenderedStyleTopRightGrid = styleTopRightGrid;\n      this._lastRenderedWidth = width;\n    }\n  }, {\n    key: \"_prepareForRender\",\n    value: function _prepareForRender() {\n      if (this._lastRenderedColumnWidth !== this.props.columnWidth || this._lastRenderedFixedColumnCount !== this.props.fixedColumnCount) {\n        this._leftGridWidth = null;\n      }\n\n      if (this._lastRenderedFixedRowCount !== this.props.fixedRowCount || this._lastRenderedRowHeight !== this.props.rowHeight) {\n        this._topGridHeight = null;\n      }\n\n      this._maybeCalculateCachedStyles();\n\n      this._lastRenderedColumnWidth = this.props.columnWidth;\n      this._lastRenderedFixedColumnCount = this.props.fixedColumnCount;\n      this._lastRenderedFixedRowCount = this.props.fixedRowCount;\n      this._lastRenderedRowHeight = this.props.rowHeight;\n    }\n  }, {\n    key: \"_renderBottomLeftGrid\",\n    value: function _renderBottomLeftGrid(props) {\n      var enableFixedColumnScroll = props.enableFixedColumnScroll,\n          fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount,\n          rowCount = props.rowCount,\n          hideBottomLeftGridScrollbar = props.hideBottomLeftGridScrollbar;\n      var showVerticalScrollbar = this.state.showVerticalScrollbar;\n\n      if (!fixedColumnCount) {\n        return null;\n      }\n\n      var additionalRowCount = showVerticalScrollbar ? 1 : 0,\n          height = this._getBottomGridHeight(props),\n          width = this._getLeftGridWidth(props),\n          scrollbarSize = this.state.showVerticalScrollbar ? this.state.scrollbarSize : 0,\n          gridWidth = hideBottomLeftGridScrollbar ? width + scrollbarSize : width;\n\n      var bottomLeftGrid = React.createElement(Grid, _extends({}, props, {\n        cellRenderer: this._cellRendererBottomLeftGrid,\n        className: this.props.classNameBottomLeftGrid,\n        columnCount: fixedColumnCount,\n        deferredMeasurementCache: this._deferredMeasurementCacheBottomLeftGrid,\n        height: height,\n        onScroll: enableFixedColumnScroll ? this._onScrollTop : undefined,\n        ref: this._bottomLeftGridRef,\n        rowCount: Math.max(0, rowCount - fixedRowCount) + additionalRowCount,\n        rowHeight: this._rowHeightBottomGrid,\n        style: this._bottomLeftGridStyle,\n        tabIndex: null,\n        width: gridWidth\n      }));\n\n      if (hideBottomLeftGridScrollbar) {\n        return React.createElement(\"div\", {\n          className: \"BottomLeftGrid_ScrollWrapper\",\n          style: _objectSpread({}, this._bottomLeftGridStyle, {\n            height: height,\n            width: width,\n            overflowY: 'hidden'\n          })\n        }, bottomLeftGrid);\n      }\n\n      return bottomLeftGrid;\n    }\n  }, {\n    key: \"_renderBottomRightGrid\",\n    value: function _renderBottomRightGrid(props) {\n      var columnCount = props.columnCount,\n          fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount,\n          rowCount = props.rowCount,\n          scrollToColumn = props.scrollToColumn,\n          scrollToRow = props.scrollToRow;\n      return React.createElement(Grid, _extends({}, props, {\n        cellRenderer: this._cellRendererBottomRightGrid,\n        className: this.props.classNameBottomRightGrid,\n        columnCount: Math.max(0, columnCount - fixedColumnCount),\n        columnWidth: this._columnWidthRightGrid,\n        deferredMeasurementCache: this._deferredMeasurementCacheBottomRightGrid,\n        height: this._getBottomGridHeight(props),\n        onScroll: this._onScroll,\n        onScrollbarPresenceChange: this._onScrollbarPresenceChange,\n        ref: this._bottomRightGridRef,\n        rowCount: Math.max(0, rowCount - fixedRowCount),\n        rowHeight: this._rowHeightBottomGrid,\n        scrollToColumn: scrollToColumn - fixedColumnCount,\n        scrollToRow: scrollToRow - fixedRowCount,\n        style: this._bottomRightGridStyle,\n        width: this._getRightGridWidth(props)\n      }));\n    }\n  }, {\n    key: \"_renderTopLeftGrid\",\n    value: function _renderTopLeftGrid(props) {\n      var fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount;\n\n      if (!fixedColumnCount || !fixedRowCount) {\n        return null;\n      }\n\n      return React.createElement(Grid, _extends({}, props, {\n        className: this.props.classNameTopLeftGrid,\n        columnCount: fixedColumnCount,\n        height: this._getTopGridHeight(props),\n        ref: this._topLeftGridRef,\n        rowCount: fixedRowCount,\n        style: this._topLeftGridStyle,\n        tabIndex: null,\n        width: this._getLeftGridWidth(props)\n      }));\n    }\n  }, {\n    key: \"_renderTopRightGrid\",\n    value: function _renderTopRightGrid(props) {\n      var columnCount = props.columnCount,\n          enableFixedRowScroll = props.enableFixedRowScroll,\n          fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount,\n          scrollLeft = props.scrollLeft,\n          hideTopRightGridScrollbar = props.hideTopRightGridScrollbar;\n      var _this$state5 = this.state,\n          showHorizontalScrollbar = _this$state5.showHorizontalScrollbar,\n          scrollbarSize = _this$state5.scrollbarSize;\n\n      if (!fixedRowCount) {\n        return null;\n      }\n\n      var additionalColumnCount = showHorizontalScrollbar ? 1 : 0,\n          height = this._getTopGridHeight(props),\n          width = this._getRightGridWidth(props),\n          additionalHeight = showHorizontalScrollbar ? scrollbarSize : 0;\n\n      var gridHeight = height,\n          style = this._topRightGridStyle;\n\n      if (hideTopRightGridScrollbar) {\n        gridHeight = height + additionalHeight;\n        style = _objectSpread({}, this._topRightGridStyle, {\n          left: 0\n        });\n      }\n\n      var topRightGrid = React.createElement(Grid, _extends({}, props, {\n        cellRenderer: this._cellRendererTopRightGrid,\n        className: this.props.classNameTopRightGrid,\n        columnCount: Math.max(0, columnCount - fixedColumnCount) + additionalColumnCount,\n        columnWidth: this._columnWidthRightGrid,\n        deferredMeasurementCache: this._deferredMeasurementCacheTopRightGrid,\n        height: gridHeight,\n        onScroll: enableFixedRowScroll ? this._onScrollLeft : undefined,\n        ref: this._topRightGridRef,\n        rowCount: fixedRowCount,\n        scrollLeft: scrollLeft,\n        style: style,\n        tabIndex: null,\n        width: width\n      }));\n\n      if (hideTopRightGridScrollbar) {\n        return React.createElement(\"div\", {\n          className: \"TopRightGrid_ScrollWrapper\",\n          style: _objectSpread({}, this._topRightGridStyle, {\n            height: height,\n            width: width,\n            overflowX: 'hidden'\n          })\n        }, topRightGrid);\n      }\n\n      return topRightGrid;\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.scrollLeft !== prevState.scrollLeft || nextProps.scrollTop !== prevState.scrollTop) {\n        return {\n          scrollLeft: nextProps.scrollLeft != null && nextProps.scrollLeft >= 0 ? nextProps.scrollLeft : prevState.scrollLeft,\n          scrollTop: nextProps.scrollTop != null && nextProps.scrollTop >= 0 ? nextProps.scrollTop : prevState.scrollTop\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return MultiGrid;\n}(React.PureComponent);\n\n_defineProperty(MultiGrid, \"defaultProps\", {\n  classNameBottomLeftGrid: '',\n  classNameBottomRightGrid: '',\n  classNameTopLeftGrid: '',\n  classNameTopRightGrid: '',\n  enableFixedColumnScroll: false,\n  enableFixedRowScroll: false,\n  fixedColumnCount: 0,\n  fixedRowCount: 0,\n  scrollToColumn: -1,\n  scrollToRow: -1,\n  style: {},\n  styleBottomLeftGrid: {},\n  styleBottomRightGrid: {},\n  styleTopLeftGrid: {},\n  styleTopRightGrid: {},\n  hideTopRightGridScrollbar: false,\n  hideBottomLeftGridScrollbar: false\n});\n\nMultiGrid.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  classNameBottomLeftGrid: PropTypes.string.isRequired,\n  classNameBottomRightGrid: PropTypes.string.isRequired,\n  classNameTopLeftGrid: PropTypes.string.isRequired,\n  classNameTopRightGrid: PropTypes.string.isRequired,\n  enableFixedColumnScroll: PropTypes.bool.isRequired,\n  enableFixedRowScroll: PropTypes.bool.isRequired,\n  fixedColumnCount: PropTypes.number.isRequired,\n  fixedRowCount: PropTypes.number.isRequired,\n  onScrollbarPresenceChange: PropTypes.func,\n  style: PropTypes.object.isRequired,\n  styleBottomLeftGrid: PropTypes.object.isRequired,\n  styleBottomRightGrid: PropTypes.object.isRequired,\n  styleTopLeftGrid: PropTypes.object.isRequired,\n  styleTopRightGrid: PropTypes.object.isRequired,\n  hideTopRightGridScrollbar: PropTypes.bool,\n  hideBottomLeftGridScrollbar: PropTypes.bool\n} : {};\npolyfill(MultiGrid);\nexport default MultiGrid;","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\n/**\n * HOC that simplifies the process of synchronizing scrolling between two or more virtualized components.\n */\n\nvar ScrollSync =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ScrollSync, _React$PureComponent);\n\n  function ScrollSync(props, context) {\n    var _this;\n\n    _classCallCheck(this, ScrollSync);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ScrollSync).call(this, props, context));\n    _this.state = {\n      clientHeight: 0,\n      clientWidth: 0,\n      scrollHeight: 0,\n      scrollLeft: 0,\n      scrollTop: 0,\n      scrollWidth: 0\n    };\n    _this._onScroll = _this._onScroll.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ScrollSync, [{\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      var _this$state = this.state,\n          clientHeight = _this$state.clientHeight,\n          clientWidth = _this$state.clientWidth,\n          scrollHeight = _this$state.scrollHeight,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop,\n          scrollWidth = _this$state.scrollWidth;\n      return children({\n        clientHeight: clientHeight,\n        clientWidth: clientWidth,\n        onScroll: this._onScroll,\n        scrollHeight: scrollHeight,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        scrollWidth: scrollWidth\n      });\n    }\n  }, {\n    key: \"_onScroll\",\n    value: function _onScroll(_ref) {\n      var clientHeight = _ref.clientHeight,\n          clientWidth = _ref.clientWidth,\n          scrollHeight = _ref.scrollHeight,\n          scrollLeft = _ref.scrollLeft,\n          scrollTop = _ref.scrollTop,\n          scrollWidth = _ref.scrollWidth;\n      this.setState({\n        clientHeight: clientHeight,\n        clientWidth: clientWidth,\n        scrollHeight: scrollHeight,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        scrollWidth: scrollWidth\n      });\n    }\n  }]);\n\n  return ScrollSync;\n}(React.PureComponent);\n\nexport { ScrollSync as default };\nScrollSync.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * Function responsible for rendering 2 or more virtualized components.\n   * This function should implement the following signature:\n   * ({ onScroll, scrollLeft, scrollTop }) => PropTypes.element\n   */\n  children: PropTypes.func.isRequired\n} : {};","import * as React from 'react';\nexport default function defaultHeaderRowRenderer(_ref) {\n  var className = _ref.className,\n      columns = _ref.columns,\n      style = _ref.style;\n  return React.createElement(\"div\", {\n    className: className,\n    role: \"row\",\n    style: style\n  }, columns);\n}\ndefaultHeaderRowRenderer.propTypes = process.env.NODE_ENV === 'production' ? null : bpfrpt_proptype_HeaderRowRendererParams === PropTypes.any ? {} : bpfrpt_proptype_HeaderRowRendererParams;\nimport { bpfrpt_proptype_HeaderRowRendererParams } from \"./types\";\nimport PropTypes from \"prop-types\";","var SortDirection = {\n  /**\n   * Sort items in ascending order.\n   * This means arranging from the lowest value to the highest (e.g. a-z, 0-9).\n   */\n  ASC: 'ASC',\n\n  /**\n   * Sort items in descending order.\n   * This means arranging from the highest value to the lowest (e.g. z-a, 9-0).\n   */\n  DESC: 'DESC'\n};\nexport default SortDirection;","import clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport SortDirection from './SortDirection';\n/**\n * Displayed beside a header to indicate that a Table is currently sorted by this column.\n */\n\nexport default function SortIndicator(_ref) {\n  var sortDirection = _ref.sortDirection;\n  var classNames = clsx('ReactVirtualized__Table__sortableHeaderIcon', {\n    'ReactVirtualized__Table__sortableHeaderIcon--ASC': sortDirection === SortDirection.ASC,\n    'ReactVirtualized__Table__sortableHeaderIcon--DESC': sortDirection === SortDirection.DESC\n  });\n  return React.createElement(\"svg\", {\n    className: classNames,\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 24 24\"\n  }, sortDirection === SortDirection.ASC ? React.createElement(\"path\", {\n    d: \"M7 14l5-5 5 5z\"\n  }) : React.createElement(\"path\", {\n    d: \"M7 10l5 5 5-5z\"\n  }), React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }));\n}\nSortIndicator.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  sortDirection: PropTypes.oneOf([SortDirection.ASC, SortDirection.DESC])\n} : {};","import * as React from 'react';\nimport SortIndicator from './SortIndicator';\n\n/**\n * Default table header renderer.\n */\nexport default function defaultHeaderRenderer(_ref) {\n  var dataKey = _ref.dataKey,\n      label = _ref.label,\n      sortBy = _ref.sortBy,\n      sortDirection = _ref.sortDirection;\n  var showSortIndicator = sortBy === dataKey;\n  var children = [React.createElement(\"span\", {\n    className: \"ReactVirtualized__Table__headerTruncatedText\",\n    key: \"label\",\n    title: typeof label === 'string' ? label : null\n  }, label)];\n\n  if (showSortIndicator) {\n    children.push(React.createElement(SortIndicator, {\n      key: \"SortIndicator\",\n      sortDirection: sortDirection\n    }));\n  }\n\n  return children;\n}\ndefaultHeaderRenderer.propTypes = process.env.NODE_ENV === 'production' ? null : bpfrpt_proptype_HeaderRendererParams === PropTypes.any ? {} : bpfrpt_proptype_HeaderRendererParams;\nimport { bpfrpt_proptype_HeaderRendererParams } from \"./types\";\nimport PropTypes from \"prop-types\";","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\n\n/**\n * Default row renderer for Table.\n */\nexport default function defaultRowRenderer(_ref) {\n  var className = _ref.className,\n      columns = _ref.columns,\n      index = _ref.index,\n      key = _ref.key,\n      onRowClick = _ref.onRowClick,\n      onRowDoubleClick = _ref.onRowDoubleClick,\n      onRowMouseOut = _ref.onRowMouseOut,\n      onRowMouseOver = _ref.onRowMouseOver,\n      onRowRightClick = _ref.onRowRightClick,\n      rowData = _ref.rowData,\n      style = _ref.style;\n  var a11yProps = {\n    'aria-rowindex': index + 1\n  };\n\n  if (onRowClick || onRowDoubleClick || onRowMouseOut || onRowMouseOver || onRowRightClick) {\n    a11yProps['aria-label'] = 'row';\n    a11yProps.tabIndex = 0;\n\n    if (onRowClick) {\n      a11yProps.onClick = function (event) {\n        return onRowClick({\n          event: event,\n          index: index,\n          rowData: rowData\n        });\n      };\n    }\n\n    if (onRowDoubleClick) {\n      a11yProps.onDoubleClick = function (event) {\n        return onRowDoubleClick({\n          event: event,\n          index: index,\n          rowData: rowData\n        });\n      };\n    }\n\n    if (onRowMouseOut) {\n      a11yProps.onMouseOut = function (event) {\n        return onRowMouseOut({\n          event: event,\n          index: index,\n          rowData: rowData\n        });\n      };\n    }\n\n    if (onRowMouseOver) {\n      a11yProps.onMouseOver = function (event) {\n        return onRowMouseOver({\n          event: event,\n          index: index,\n          rowData: rowData\n        });\n      };\n    }\n\n    if (onRowRightClick) {\n      a11yProps.onContextMenu = function (event) {\n        return onRowRightClick({\n          event: event,\n          index: index,\n          rowData: rowData\n        });\n      };\n    }\n  }\n\n  return React.createElement(\"div\", _extends({}, a11yProps, {\n    className: className,\n    key: key,\n    role: \"row\",\n    style: style\n  }), columns);\n}\ndefaultRowRenderer.propTypes = process.env.NODE_ENV === 'production' ? null : bpfrpt_proptype_RowRendererParams === PropTypes.any ? {} : bpfrpt_proptype_RowRendererParams;\nimport { bpfrpt_proptype_RowRendererParams } from \"./types\";\nimport PropTypes from \"prop-types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport defaultHeaderRenderer from './defaultHeaderRenderer';\nimport defaultCellRenderer from './defaultCellRenderer';\nimport defaultCellDataGetter from './defaultCellDataGetter';\nimport SortDirection from './SortDirection';\n/**\n * Describes the header and cell contents of a table column.\n */\n\nvar Column =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Column, _React$Component);\n\n  function Column() {\n    _classCallCheck(this, Column);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Column).apply(this, arguments));\n  }\n\n  return Column;\n}(React.Component);\n\n_defineProperty(Column, \"defaultProps\", {\n  cellDataGetter: defaultCellDataGetter,\n  cellRenderer: defaultCellRenderer,\n  defaultSortDirection: SortDirection.ASC,\n  flexGrow: 0,\n  flexShrink: 1,\n  headerRenderer: defaultHeaderRenderer,\n  style: {}\n});\n\nexport { Column as default };\nColumn.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** Optional aria-label value to set on the column header */\n  'aria-label': PropTypes.string,\n\n  /**\n   * Callback responsible for returning a cell's data, given its :dataKey\n   * ({ columnData: any, dataKey: string, rowData: any }): any\n   */\n  cellDataGetter: PropTypes.func,\n\n  /**\n   * Callback responsible for rendering a cell's contents.\n   * ({ cellData: any, columnData: any, dataKey: string, rowData: any, rowIndex: number }): node\n   */\n  cellRenderer: PropTypes.func,\n\n  /** Optional CSS class to apply to cell */\n  className: PropTypes.string,\n\n  /** Optional additional data passed to this column's :cellDataGetter */\n  columnData: PropTypes.object,\n\n  /** Uniquely identifies the row-data attribute corresponding to this cell */\n  dataKey: PropTypes.any.isRequired,\n\n  /** Optional direction to be used when clicked the first time */\n  defaultSortDirection: PropTypes.oneOf([SortDirection.ASC, SortDirection.DESC]),\n\n  /** If sort is enabled for the table at large, disable it for this column */\n  disableSort: PropTypes.bool,\n\n  /** Flex grow style; defaults to 0 */\n  flexGrow: PropTypes.number,\n\n  /** Flex shrink style; defaults to 1 */\n  flexShrink: PropTypes.number,\n\n  /** Optional CSS class to apply to this column's header */\n  headerClassName: PropTypes.string,\n\n  /**\n   * Optional callback responsible for rendering a column header contents.\n   * ({ columnData: object, dataKey: string, disableSort: boolean, label: node, sortBy: string, sortDirection: string }): PropTypes.node\n   */\n  headerRenderer: PropTypes.func.isRequired,\n\n  /** Optional inline style to apply to this column's header */\n  headerStyle: PropTypes.object,\n\n  /** Optional id to set on the column header */\n  id: PropTypes.string,\n\n  /** Header label for this column */\n  label: PropTypes.node,\n\n  /** Maximum width of column; this property will only be used if :flexGrow is > 0. */\n  maxWidth: PropTypes.number,\n\n  /** Minimum width of column. */\n  minWidth: PropTypes.number,\n\n  /** Optional inline style to apply to cell */\n  style: PropTypes.object,\n\n  /** Flex basis (width) for this column; This value can grow or shrink based on :flexGrow and :flexShrink properties. */\n  width: PropTypes.number.isRequired\n} : {};","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport clsx from 'clsx';\nimport Column from './Column';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport Grid, { accessibilityOverscanIndicesGetter } from '../Grid';\nimport defaultRowRenderer from './defaultRowRenderer';\nimport defaultHeaderRowRenderer from './defaultHeaderRowRenderer';\nimport SortDirection from './SortDirection';\n/**\n * Table component with fixed headers and virtualized rows for improved performance with large data sets.\n * This component expects explicit width, height, and padding parameters.\n */\n\nvar Table =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Table, _React$PureComponent);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Table).call(this, props));\n    _this.state = {\n      scrollbarWidth: 0\n    };\n    _this._createColumn = _this._createColumn.bind(_assertThisInitialized(_this));\n    _this._createRow = _this._createRow.bind(_assertThisInitialized(_this));\n    _this._onScroll = _this._onScroll.bind(_assertThisInitialized(_this));\n    _this._onSectionRendered = _this._onSectionRendered.bind(_assertThisInitialized(_this));\n    _this._setRef = _this._setRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"forceUpdateGrid\",\n    value: function forceUpdateGrid() {\n      if (this.Grid) {\n        this.Grid.forceUpdate();\n      }\n    }\n    /** See Grid#getOffsetForCell */\n\n  }, {\n    key: \"getOffsetForRow\",\n    value: function getOffsetForRow(_ref) {\n      var alignment = _ref.alignment,\n          index = _ref.index;\n\n      if (this.Grid) {\n        var _this$Grid$getOffsetF = this.Grid.getOffsetForCell({\n          alignment: alignment,\n          rowIndex: index\n        }),\n            scrollTop = _this$Grid$getOffsetF.scrollTop;\n\n        return scrollTop;\n      }\n\n      return 0;\n    }\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender(_ref2) {\n      var columnIndex = _ref2.columnIndex,\n          rowIndex = _ref2.rowIndex;\n\n      if (this.Grid) {\n        this.Grid.invalidateCellSizeAfterRender({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: \"measureAllRows\",\n    value: function measureAllRows() {\n      if (this.Grid) {\n        this.Grid.measureAllCells();\n      }\n    }\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: \"recomputeGridSize\",\n    value: function recomputeGridSize() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$columnIndex = _ref3.columnIndex,\n          columnIndex = _ref3$columnIndex === void 0 ? 0 : _ref3$columnIndex,\n          _ref3$rowIndex = _ref3.rowIndex,\n          rowIndex = _ref3$rowIndex === void 0 ? 0 : _ref3$rowIndex;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: \"recomputeRowHeights\",\n    value: function recomputeRowHeights() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: index\n        });\n      }\n    }\n    /** See Grid#scrollToPosition */\n\n  }, {\n    key: \"scrollToPosition\",\n    value: function scrollToPosition() {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToPosition({\n          scrollTop: scrollTop\n        });\n      }\n    }\n    /** See Grid#scrollToCell */\n\n  }, {\n    key: \"scrollToRow\",\n    value: function scrollToRow() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToCell({\n          columnIndex: 0,\n          rowIndex: index\n        });\n      }\n    }\n  }, {\n    key: \"getScrollbarWidth\",\n    value: function getScrollbarWidth() {\n      if (this.Grid) {\n        var _Grid = findDOMNode(this.Grid);\n\n        var clientWidth = _Grid.clientWidth || 0;\n        var offsetWidth = _Grid.offsetWidth || 0;\n        return offsetWidth - clientWidth;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._setScrollbarWidth();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this._setScrollbarWidth();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          className = _this$props.className,\n          disableHeader = _this$props.disableHeader,\n          gridClassName = _this$props.gridClassName,\n          gridStyle = _this$props.gridStyle,\n          headerHeight = _this$props.headerHeight,\n          headerRowRenderer = _this$props.headerRowRenderer,\n          height = _this$props.height,\n          id = _this$props.id,\n          noRowsRenderer = _this$props.noRowsRenderer,\n          rowClassName = _this$props.rowClassName,\n          rowStyle = _this$props.rowStyle,\n          scrollToIndex = _this$props.scrollToIndex,\n          style = _this$props.style,\n          width = _this$props.width;\n      var scrollbarWidth = this.state.scrollbarWidth;\n      var availableRowsHeight = disableHeader ? height : height - headerHeight;\n      var rowClass = typeof rowClassName === 'function' ? rowClassName({\n        index: -1\n      }) : rowClassName;\n      var rowStyleObject = typeof rowStyle === 'function' ? rowStyle({\n        index: -1\n      }) : rowStyle; // Precompute and cache column styles before rendering rows and columns to speed things up\n\n      this._cachedColumnStyles = [];\n      React.Children.toArray(children).forEach(function (column, index) {\n        var flexStyles = _this2._getFlexStyleForColumn(column, column.props.style);\n\n        _this2._cachedColumnStyles[index] = _objectSpread({\n          overflow: 'hidden'\n        }, flexStyles);\n      }); // Note that we specify :rowCount, :scrollbarWidth, :sortBy, and :sortDirection as properties on Grid even though these have nothing to do with Grid.\n      // This is done because Grid is a pure component and won't update unless its properties or state has changed.\n      // Any property that should trigger a re-render of Grid then is specified here to avoid a stale display.\n\n      return React.createElement(\"div\", {\n        \"aria-label\": this.props['aria-label'],\n        \"aria-labelledby\": this.props['aria-labelledby'],\n        \"aria-colcount\": React.Children.toArray(children).length,\n        \"aria-rowcount\": this.props.rowCount,\n        className: clsx('ReactVirtualized__Table', className),\n        id: id,\n        role: \"grid\",\n        style: style\n      }, !disableHeader && headerRowRenderer({\n        className: clsx('ReactVirtualized__Table__headerRow', rowClass),\n        columns: this._getHeaderColumns(),\n        style: _objectSpread({\n          height: headerHeight,\n          overflow: 'hidden',\n          paddingRight: scrollbarWidth,\n          width: width\n        }, rowStyleObject)\n      }), React.createElement(Grid, _extends({}, this.props, {\n        \"aria-readonly\": null,\n        autoContainerWidth: true,\n        className: clsx('ReactVirtualized__Table__Grid', gridClassName),\n        cellRenderer: this._createRow,\n        columnWidth: width,\n        columnCount: 1,\n        height: availableRowsHeight,\n        id: undefined,\n        noContentRenderer: noRowsRenderer,\n        onScroll: this._onScroll,\n        onSectionRendered: this._onSectionRendered,\n        ref: this._setRef,\n        role: \"rowgroup\",\n        scrollbarWidth: scrollbarWidth,\n        scrollToRow: scrollToIndex,\n        style: _objectSpread({}, gridStyle, {\n          overflowX: 'hidden'\n        })\n      })));\n    }\n  }, {\n    key: \"_createColumn\",\n    value: function _createColumn(_ref4) {\n      var column = _ref4.column,\n          columnIndex = _ref4.columnIndex,\n          isScrolling = _ref4.isScrolling,\n          parent = _ref4.parent,\n          rowData = _ref4.rowData,\n          rowIndex = _ref4.rowIndex;\n      var onColumnClick = this.props.onColumnClick;\n      var _column$props = column.props,\n          cellDataGetter = _column$props.cellDataGetter,\n          cellRenderer = _column$props.cellRenderer,\n          className = _column$props.className,\n          columnData = _column$props.columnData,\n          dataKey = _column$props.dataKey,\n          id = _column$props.id;\n      var cellData = cellDataGetter({\n        columnData: columnData,\n        dataKey: dataKey,\n        rowData: rowData\n      });\n      var renderedCell = cellRenderer({\n        cellData: cellData,\n        columnData: columnData,\n        columnIndex: columnIndex,\n        dataKey: dataKey,\n        isScrolling: isScrolling,\n        parent: parent,\n        rowData: rowData,\n        rowIndex: rowIndex\n      });\n\n      var onClick = function onClick(event) {\n        onColumnClick && onColumnClick({\n          columnData: columnData,\n          dataKey: dataKey,\n          event: event\n        });\n      };\n\n      var style = this._cachedColumnStyles[columnIndex];\n      var title = typeof renderedCell === 'string' ? renderedCell : null; // Avoid using object-spread syntax with multiple objects here,\n      // Since it results in an extra method call to 'babel-runtime/helpers/extends'\n      // See PR https://github.com/bvaughn/react-virtualized/pull/942\n\n      return React.createElement(\"div\", {\n        \"aria-colindex\": columnIndex + 1,\n        \"aria-describedby\": id,\n        className: clsx('ReactVirtualized__Table__rowColumn', className),\n        key: 'Row' + rowIndex + '-' + 'Col' + columnIndex,\n        onClick: onClick,\n        role: \"gridcell\",\n        style: style,\n        title: title\n      }, renderedCell);\n    }\n  }, {\n    key: \"_createHeader\",\n    value: function _createHeader(_ref5) {\n      var column = _ref5.column,\n          index = _ref5.index;\n      var _this$props2 = this.props,\n          headerClassName = _this$props2.headerClassName,\n          headerStyle = _this$props2.headerStyle,\n          onHeaderClick = _this$props2.onHeaderClick,\n          sort = _this$props2.sort,\n          sortBy = _this$props2.sortBy,\n          sortDirection = _this$props2.sortDirection;\n      var _column$props2 = column.props,\n          columnData = _column$props2.columnData,\n          dataKey = _column$props2.dataKey,\n          defaultSortDirection = _column$props2.defaultSortDirection,\n          disableSort = _column$props2.disableSort,\n          headerRenderer = _column$props2.headerRenderer,\n          id = _column$props2.id,\n          label = _column$props2.label;\n      var sortEnabled = !disableSort && sort;\n      var classNames = clsx('ReactVirtualized__Table__headerColumn', headerClassName, column.props.headerClassName, {\n        ReactVirtualized__Table__sortableHeaderColumn: sortEnabled\n      });\n\n      var style = this._getFlexStyleForColumn(column, _objectSpread({}, headerStyle, {}, column.props.headerStyle));\n\n      var renderedHeader = headerRenderer({\n        columnData: columnData,\n        dataKey: dataKey,\n        disableSort: disableSort,\n        label: label,\n        sortBy: sortBy,\n        sortDirection: sortDirection\n      });\n      var headerOnClick, headerOnKeyDown, headerTabIndex, headerAriaSort, headerAriaLabel;\n\n      if (sortEnabled || onHeaderClick) {\n        // If this is a sortable header, clicking it should update the table data's sorting.\n        var isFirstTimeSort = sortBy !== dataKey; // If this is the firstTime sort of this column, use the column default sort order.\n        // Otherwise, invert the direction of the sort.\n\n        var newSortDirection = isFirstTimeSort ? defaultSortDirection : sortDirection === SortDirection.DESC ? SortDirection.ASC : SortDirection.DESC;\n\n        var onClick = function onClick(event) {\n          sortEnabled && sort({\n            defaultSortDirection: defaultSortDirection,\n            event: event,\n            sortBy: dataKey,\n            sortDirection: newSortDirection\n          });\n          onHeaderClick && onHeaderClick({\n            columnData: columnData,\n            dataKey: dataKey,\n            event: event\n          });\n        };\n\n        var onKeyDown = function onKeyDown(event) {\n          if (event.key === 'Enter' || event.key === ' ') {\n            onClick(event);\n          }\n        };\n\n        headerAriaLabel = column.props['aria-label'] || label || dataKey;\n        headerAriaSort = 'none';\n        headerTabIndex = 0;\n        headerOnClick = onClick;\n        headerOnKeyDown = onKeyDown;\n      }\n\n      if (sortBy === dataKey) {\n        headerAriaSort = sortDirection === SortDirection.ASC ? 'ascending' : 'descending';\n      } // Avoid using object-spread syntax with multiple objects here,\n      // Since it results in an extra method call to 'babel-runtime/helpers/extends'\n      // See PR https://github.com/bvaughn/react-virtualized/pull/942\n\n\n      return React.createElement(\"div\", {\n        \"aria-label\": headerAriaLabel,\n        \"aria-sort\": headerAriaSort,\n        className: classNames,\n        id: id,\n        key: 'Header-Col' + index,\n        onClick: headerOnClick,\n        onKeyDown: headerOnKeyDown,\n        role: \"columnheader\",\n        style: style,\n        tabIndex: headerTabIndex\n      }, renderedHeader);\n    }\n  }, {\n    key: \"_createRow\",\n    value: function _createRow(_ref6) {\n      var _this3 = this;\n\n      var index = _ref6.rowIndex,\n          isScrolling = _ref6.isScrolling,\n          key = _ref6.key,\n          parent = _ref6.parent,\n          style = _ref6.style;\n      var _this$props3 = this.props,\n          children = _this$props3.children,\n          onRowClick = _this$props3.onRowClick,\n          onRowDoubleClick = _this$props3.onRowDoubleClick,\n          onRowRightClick = _this$props3.onRowRightClick,\n          onRowMouseOver = _this$props3.onRowMouseOver,\n          onRowMouseOut = _this$props3.onRowMouseOut,\n          rowClassName = _this$props3.rowClassName,\n          rowGetter = _this$props3.rowGetter,\n          rowRenderer = _this$props3.rowRenderer,\n          rowStyle = _this$props3.rowStyle;\n      var scrollbarWidth = this.state.scrollbarWidth;\n      var rowClass = typeof rowClassName === 'function' ? rowClassName({\n        index: index\n      }) : rowClassName;\n      var rowStyleObject = typeof rowStyle === 'function' ? rowStyle({\n        index: index\n      }) : rowStyle;\n      var rowData = rowGetter({\n        index: index\n      });\n      var columns = React.Children.toArray(children).map(function (column, columnIndex) {\n        return _this3._createColumn({\n          column: column,\n          columnIndex: columnIndex,\n          isScrolling: isScrolling,\n          parent: parent,\n          rowData: rowData,\n          rowIndex: index,\n          scrollbarWidth: scrollbarWidth\n        });\n      });\n      var className = clsx('ReactVirtualized__Table__row', rowClass);\n\n      var flattenedStyle = _objectSpread({}, style, {\n        height: this._getRowHeight(index),\n        overflow: 'hidden',\n        paddingRight: scrollbarWidth\n      }, rowStyleObject);\n\n      return rowRenderer({\n        className: className,\n        columns: columns,\n        index: index,\n        isScrolling: isScrolling,\n        key: key,\n        onRowClick: onRowClick,\n        onRowDoubleClick: onRowDoubleClick,\n        onRowRightClick: onRowRightClick,\n        onRowMouseOver: onRowMouseOver,\n        onRowMouseOut: onRowMouseOut,\n        rowData: rowData,\n        style: flattenedStyle\n      });\n    }\n    /**\n     * Determines the flex-shrink, flex-grow, and width values for a cell (header or column).\n     */\n\n  }, {\n    key: \"_getFlexStyleForColumn\",\n    value: function _getFlexStyleForColumn(column) {\n      var customStyle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var flexValue = \"\".concat(column.props.flexGrow, \" \").concat(column.props.flexShrink, \" \").concat(column.props.width, \"px\");\n\n      var style = _objectSpread({}, customStyle, {\n        flex: flexValue,\n        msFlex: flexValue,\n        WebkitFlex: flexValue\n      });\n\n      if (column.props.maxWidth) {\n        style.maxWidth = column.props.maxWidth;\n      }\n\n      if (column.props.minWidth) {\n        style.minWidth = column.props.minWidth;\n      }\n\n      return style;\n    }\n  }, {\n    key: \"_getHeaderColumns\",\n    value: function _getHeaderColumns() {\n      var _this4 = this;\n\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          disableHeader = _this$props4.disableHeader;\n      var items = disableHeader ? [] : React.Children.toArray(children);\n      return items.map(function (column, index) {\n        return _this4._createHeader({\n          column: column,\n          index: index\n        });\n      });\n    }\n  }, {\n    key: \"_getRowHeight\",\n    value: function _getRowHeight(rowIndex) {\n      var rowHeight = this.props.rowHeight;\n      return typeof rowHeight === 'function' ? rowHeight({\n        index: rowIndex\n      }) : rowHeight;\n    }\n  }, {\n    key: \"_onScroll\",\n    value: function _onScroll(_ref7) {\n      var clientHeight = _ref7.clientHeight,\n          scrollHeight = _ref7.scrollHeight,\n          scrollTop = _ref7.scrollTop;\n      var onScroll = this.props.onScroll;\n      onScroll({\n        clientHeight: clientHeight,\n        scrollHeight: scrollHeight,\n        scrollTop: scrollTop\n      });\n    }\n  }, {\n    key: \"_onSectionRendered\",\n    value: function _onSectionRendered(_ref8) {\n      var rowOverscanStartIndex = _ref8.rowOverscanStartIndex,\n          rowOverscanStopIndex = _ref8.rowOverscanStopIndex,\n          rowStartIndex = _ref8.rowStartIndex,\n          rowStopIndex = _ref8.rowStopIndex;\n      var onRowsRendered = this.props.onRowsRendered;\n      onRowsRendered({\n        overscanStartIndex: rowOverscanStartIndex,\n        overscanStopIndex: rowOverscanStopIndex,\n        startIndex: rowStartIndex,\n        stopIndex: rowStopIndex\n      });\n    }\n  }, {\n    key: \"_setRef\",\n    value: function _setRef(ref) {\n      this.Grid = ref;\n    }\n  }, {\n    key: \"_setScrollbarWidth\",\n    value: function _setScrollbarWidth() {\n      var scrollbarWidth = this.getScrollbarWidth();\n      this.setState({\n        scrollbarWidth: scrollbarWidth\n      });\n    }\n  }]);\n\n  return Table;\n}(React.PureComponent);\n\n_defineProperty(Table, \"defaultProps\", {\n  disableHeader: false,\n  estimatedRowSize: 30,\n  headerHeight: 0,\n  headerStyle: {},\n  noRowsRenderer: function noRowsRenderer() {\n    return null;\n  },\n  onRowsRendered: function onRowsRendered() {\n    return null;\n  },\n  onScroll: function onScroll() {\n    return null;\n  },\n  overscanIndicesGetter: accessibilityOverscanIndicesGetter,\n  overscanRowCount: 10,\n  rowRenderer: defaultRowRenderer,\n  headerRowRenderer: defaultHeaderRowRenderer,\n  rowStyle: {},\n  scrollToAlignment: 'auto',\n  scrollToIndex: -1,\n  style: {}\n});\n\nexport { Table as default };\nTable.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** This is just set on the grid top element. */\n  'aria-label': PropTypes.string,\n\n  /** This is just set on the grid top element. */\n  'aria-labelledby': PropTypes.string,\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height\n   * of rows can stretch the window. Intended for use with WindowScroller\n   */\n  autoHeight: PropTypes.bool,\n\n  /** One or more Columns describing the data displayed in this row */\n  children: function children(props) {\n    var children = React.Children.toArray(props.children);\n\n    for (var i = 0; i < children.length; i++) {\n      var childType = children[i].type;\n\n      if (childType !== Column && !(childType.prototype instanceof Column)) {\n        return new Error('Table only accepts children of type Column');\n      }\n    }\n  },\n\n  /** Optional CSS class name */\n  className: PropTypes.string,\n\n  /** Disable rendering the header at all */\n  disableHeader: PropTypes.bool,\n\n  /**\n   * Used to estimate the total height of a Table before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  estimatedRowSize: PropTypes.number.isRequired,\n\n  /** Optional custom CSS class name to attach to inner Grid element. */\n  gridClassName: PropTypes.string,\n\n  /** Optional inline style to attach to inner Grid element. */\n  gridStyle: PropTypes.object,\n\n  /** Optional CSS class to apply to all column headers */\n  headerClassName: PropTypes.string,\n\n  /** Fixed height of header row */\n  headerHeight: PropTypes.number.isRequired,\n\n  /**\n   * Responsible for rendering a table row given an array of columns:\n   * Should implement the following interface: ({\n   *   className: string,\n   *   columns: any[],\n   *   style: any\n   * }): PropTypes.node\n   */\n  headerRowRenderer: PropTypes.func,\n\n  /** Optional custom inline style to attach to table header columns. */\n  headerStyle: PropTypes.object,\n\n  /** Fixed/available height for out DOM element */\n  height: PropTypes.number.isRequired,\n\n  /** Optional id */\n  id: PropTypes.string,\n\n  /** Optional renderer to be used in place of table body rows when rowCount is 0 */\n  noRowsRenderer: PropTypes.func,\n\n  /**\n   * Optional callback when a column is clicked.\n   * ({ columnData: any, dataKey: string }): void\n   */\n  onColumnClick: PropTypes.func,\n\n  /**\n   * Optional callback when a column's header is clicked.\n   * ({ columnData: any, dataKey: string }): void\n   */\n  onHeaderClick: PropTypes.func,\n\n  /**\n   * Callback invoked when a user clicks on a table row.\n   * ({ index: number }): void\n   */\n  onRowClick: PropTypes.func,\n\n  /**\n   * Callback invoked when a user double-clicks on a table row.\n   * ({ index: number }): void\n   */\n  onRowDoubleClick: PropTypes.func,\n\n  /**\n   * Callback invoked when the mouse leaves a table row.\n   * ({ index: number }): void\n   */\n  onRowMouseOut: PropTypes.func,\n\n  /**\n   * Callback invoked when a user moves the mouse over a table row.\n   * ({ index: number }): void\n   */\n  onRowMouseOver: PropTypes.func,\n\n  /**\n   * Callback invoked when a user right-clicks on a table row.\n   * ({ index: number }): void\n   */\n  onRowRightClick: PropTypes.func,\n\n  /**\n   * Callback invoked with information about the slice of rows that were just rendered.\n   * ({ startIndex, stopIndex }): void\n   */\n  onRowsRendered: PropTypes.func,\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   * ({ clientHeight, scrollHeight, scrollTop }): void\n   */\n  onScroll: PropTypes.func.isRequired,\n\n  /** See Grid#overscanIndicesGetter */\n  overscanIndicesGetter: PropTypes.func.isRequired,\n\n  /**\n   * Number of rows to render above/below the visible bounds of the list.\n   * These rows can help for smoother scrolling on touch devices.\n   */\n  overscanRowCount: PropTypes.number.isRequired,\n\n  /**\n   * Optional CSS class to apply to all table rows (including the header row).\n   * This property can be a CSS class name (string) or a function that returns a class name.\n   * If a function is provided its signature should be: ({ index: number }): string\n   */\n  rowClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Callback responsible for returning a data row given an index.\n   * ({ index: number }): any\n   */\n  rowGetter: PropTypes.func.isRequired,\n\n  /**\n   * Either a fixed row height (number) or a function that returns the height of a row given its index.\n   * ({ index: number }): number\n   */\n  rowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n\n  /** Number of rows in table. */\n  rowCount: PropTypes.number.isRequired,\n\n  /**\n   * Responsible for rendering a table row given an array of columns:\n   * Should implement the following interface: ({\n   *   className: string,\n   *   columns: Array,\n   *   index: number,\n   *   isScrolling: boolean,\n   *   onRowClick: ?Function,\n   *   onRowDoubleClick: ?Function,\n   *   onRowMouseOver: ?Function,\n   *   onRowMouseOut: ?Function,\n   *   rowData: any,\n   *   style: any\n   * }): PropTypes.node\n   */\n  rowRenderer: PropTypes.func,\n\n  /** Optional custom inline style to attach to table rows. */\n  rowStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.func]).isRequired,\n\n  /** See Grid#scrollToAlignment */\n  scrollToAlignment: PropTypes.oneOf(['auto', 'end', 'start', 'center']).isRequired,\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  scrollToIndex: PropTypes.number.isRequired,\n\n  /** Vertical offset. */\n  scrollTop: PropTypes.number,\n\n  /**\n   * Sort function to be called if a sortable header is clicked.\n   * Should implement the following interface: ({\n   *   defaultSortDirection: 'ASC' | 'DESC',\n   *   event: MouseEvent,\n   *   sortBy: string,\n   *   sortDirection: SortDirection\n   * }): void\n   */\n  sort: PropTypes.func,\n\n  /** Table data is currently sorted by this :dataKey (if it is sorted at all) */\n  sortBy: PropTypes.string,\n\n  /** Table data is currently sorted in this direction (if it is sorted at all) */\n  sortDirection: PropTypes.oneOf([SortDirection.ASC, SortDirection.DESC]),\n\n  /** Optional inline style */\n  style: PropTypes.object,\n\n  /** Tab index for focus */\n  tabIndex: PropTypes.number,\n\n  /** Width of list */\n  width: PropTypes.number.isRequired\n} : {};\nimport { bpfrpt_proptype_CellPosition } from \"../Grid\";","/**\n * Default accessor for returning a cell value for a given attribute.\n * This function expects to operate on either a vanilla Object or an Immutable Map.\n * You should override the column's cellDataGetter if your data is some other type of object.\n */\nexport default function defaultCellDataGetter(_ref) {\n  var dataKey = _ref.dataKey,\n      rowData = _ref.rowData;\n\n  if (typeof rowData.get === 'function') {\n    return rowData.get(dataKey);\n  } else {\n    return rowData[dataKey];\n  }\n}\nimport { bpfrpt_proptype_CellDataGetterParams } from \"./types\";","/**\n * Default cell renderer that displays an attribute as a simple string\n * You should override the column's cellRenderer if your data is some other type of object.\n */\nexport default function defaultCellRenderer(_ref) {\n  var cellData = _ref.cellData;\n\n  if (cellData == null) {\n    return '';\n  } else {\n    return String(cellData);\n  }\n}\nimport { bpfrpt_proptype_CellRendererParams } from \"./types\";","import createMultiSort from './createMultiSort';\nimport defaultCellDataGetter from './defaultCellDataGetter';\nimport defaultCellRenderer from './defaultCellRenderer';\nimport defaultHeaderRowRenderer from './defaultHeaderRowRenderer.js';\nimport defaultHeaderRenderer from './defaultHeaderRenderer';\nimport defaultRowRenderer from './defaultRowRenderer';\nimport Column from './Column';\nimport SortDirection from './SortDirection';\nimport SortIndicator from './SortIndicator';\nimport Table from './Table';\nexport default Table;\nexport { createMultiSort, defaultCellDataGetter, defaultCellRenderer, defaultHeaderRowRenderer, defaultHeaderRenderer, defaultRowRenderer, Column, SortDirection, SortIndicator, Table };","import { requestAnimationTimeout, cancelAnimationTimeout } from '../../utils/requestAnimationTimeout';\nvar mountedInstances = [];\nvar originalBodyPointerEvents = null;\nvar disablePointerEventsTimeoutId = null;\n\nfunction enablePointerEventsIfDisabled() {\n  if (disablePointerEventsTimeoutId) {\n    disablePointerEventsTimeoutId = null;\n\n    if (document.body && originalBodyPointerEvents != null) {\n      document.body.style.pointerEvents = originalBodyPointerEvents;\n    }\n\n    originalBodyPointerEvents = null;\n  }\n}\n\nfunction enablePointerEventsAfterDelayCallback() {\n  enablePointerEventsIfDisabled();\n  mountedInstances.forEach(function (instance) {\n    return instance.__resetIsScrolling();\n  });\n}\n\nfunction enablePointerEventsAfterDelay() {\n  if (disablePointerEventsTimeoutId) {\n    cancelAnimationTimeout(disablePointerEventsTimeoutId);\n  }\n\n  var maximumTimeout = 0;\n  mountedInstances.forEach(function (instance) {\n    maximumTimeout = Math.max(maximumTimeout, instance.props.scrollingResetTimeInterval);\n  });\n  disablePointerEventsTimeoutId = requestAnimationTimeout(enablePointerEventsAfterDelayCallback, maximumTimeout);\n}\n\nfunction onScrollWindow(event) {\n  if (event.currentTarget === window && originalBodyPointerEvents == null && document.body) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    document.body.style.pointerEvents = 'none';\n  }\n\n  enablePointerEventsAfterDelay();\n  mountedInstances.forEach(function (instance) {\n    if (instance.props.scrollElement === event.currentTarget) {\n      instance.__handleWindowScrollEvent();\n    }\n  });\n}\n\nexport function registerScrollListener(component, element) {\n  if (!mountedInstances.some(function (instance) {\n    return instance.props.scrollElement === element;\n  })) {\n    element.addEventListener('scroll', onScrollWindow);\n  }\n\n  mountedInstances.push(component);\n}\nexport function unregisterScrollListener(component, element) {\n  mountedInstances = mountedInstances.filter(function (instance) {\n    return instance !== component;\n  });\n\n  if (!mountedInstances.length) {\n    element.removeEventListener('scroll', onScrollWindow);\n\n    if (disablePointerEventsTimeoutId) {\n      cancelAnimationTimeout(disablePointerEventsTimeoutId);\n      enablePointerEventsIfDisabled();\n    }\n  }\n}\nimport { bpfrpt_proptype_WindowScroller } from \"../WindowScroller.js\";","/**\n * Gets the dimensions of the element, accounting for API differences between\n * `window` and other DOM elements.\n */\n// TODO Move this into WindowScroller and import from there\nvar isWindow = function isWindow(element) {\n  return element === window;\n};\n\nvar getBoundingBox = function getBoundingBox(element) {\n  return element.getBoundingClientRect();\n};\n\nexport function getDimensions(scrollElement, props) {\n  if (!scrollElement) {\n    return {\n      height: props.serverHeight,\n      width: props.serverWidth\n    };\n  } else if (isWindow(scrollElement)) {\n    var _window = window,\n        innerHeight = _window.innerHeight,\n        innerWidth = _window.innerWidth;\n    return {\n      height: typeof innerHeight === 'number' ? innerHeight : 0,\n      width: typeof innerWidth === 'number' ? innerWidth : 0\n    };\n  } else {\n    return getBoundingBox(scrollElement);\n  }\n}\n/**\n * Gets the vertical and horizontal position of an element within its scroll container.\n * Elements that have been scrolled past return negative values.\n * Handles edge-case where a user is navigating back (history) from an already-scrolled page.\n * In this case the bodys top or left position will be a negative number and this elements top or left will be increased (by that amount).\n */\n\nexport function getPositionOffset(element, container) {\n  if (isWindow(container) && document.documentElement) {\n    var containerElement = document.documentElement;\n    var elementRect = getBoundingBox(element);\n    var containerRect = getBoundingBox(containerElement);\n    return {\n      top: elementRect.top - containerRect.top,\n      left: elementRect.left - containerRect.left\n    };\n  } else {\n    var scrollOffset = getScrollOffset(container);\n\n    var _elementRect = getBoundingBox(element);\n\n    var _containerRect = getBoundingBox(container);\n\n    return {\n      top: _elementRect.top + scrollOffset.top - _containerRect.top,\n      left: _elementRect.left + scrollOffset.left - _containerRect.left\n    };\n  }\n}\n/**\n * Gets the vertical and horizontal scroll amount of the element, accounting for IE compatibility\n * and API differences between `window` and other DOM elements.\n */\n\nexport function getScrollOffset(element) {\n  if (isWindow(element) && document.documentElement) {\n    return {\n      top: 'scrollY' in window ? window.scrollY : document.documentElement.scrollTop,\n      left: 'scrollX' in window ? window.scrollX : document.documentElement.scrollLeft\n    };\n  } else {\n    return {\n      top: element.scrollTop,\n      left: element.scrollLeft\n    };\n  }\n}","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { registerScrollListener, unregisterScrollListener } from './utils/onScroll';\nimport { getDimensions, getPositionOffset, getScrollOffset } from './utils/dimensions';\nimport createDetectElementResize from '../vendor/detectElementResize';\n\n/**\n * Specifies the number of miliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\nexport var IS_SCROLLING_TIMEOUT = 150;\n\nvar getWindow = function getWindow() {\n  return typeof window !== 'undefined' ? window : undefined;\n};\n\nvar WindowScroller = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(WindowScroller, _React$PureComponent);\n\n  function WindowScroller() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, WindowScroller);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WindowScroller)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_window\", getWindow());\n\n    _defineProperty(_assertThisInitialized(_this), \"_isMounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_positionFromTop\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_positionFromLeft\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_detectElementResize\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_child\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", _objectSpread({}, getDimensions(_this.props.scrollElement, _this.props), {\n      isScrolling: false,\n      scrollLeft: 0,\n      scrollTop: 0\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_registerChild\", function (element) {\n      if (element && !(element instanceof Element)) {\n        console.warn('WindowScroller registerChild expects to be passed Element or null');\n      }\n\n      _this._child = element;\n\n      _this.updatePosition();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onChildScroll\", function (_ref) {\n      var scrollTop = _ref.scrollTop;\n\n      if (_this.state.scrollTop === scrollTop) {\n        return;\n      }\n\n      var scrollElement = _this.props.scrollElement;\n\n      if (scrollElement) {\n        if (typeof scrollElement.scrollTo === 'function') {\n          scrollElement.scrollTo(0, scrollTop + _this._positionFromTop);\n        } else {\n          scrollElement.scrollTop = scrollTop + _this._positionFromTop;\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_registerResizeListener\", function (element) {\n      if (element === window) {\n        window.addEventListener('resize', _this._onResize, false);\n      } else {\n        _this._detectElementResize.addResizeListener(element, _this._onResize);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_unregisterResizeListener\", function (element) {\n      if (element === window) {\n        window.removeEventListener('resize', _this._onResize, false);\n      } else if (element) {\n        _this._detectElementResize.removeResizeListener(element, _this._onResize);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onResize\", function () {\n      _this.updatePosition();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"__handleWindowScrollEvent\", function () {\n      if (!_this._isMounted) {\n        return;\n      }\n\n      var onScroll = _this.props.onScroll;\n      var scrollElement = _this.props.scrollElement;\n\n      if (scrollElement) {\n        var scrollOffset = getScrollOffset(scrollElement);\n        var scrollLeft = Math.max(0, scrollOffset.left - _this._positionFromLeft);\n        var scrollTop = Math.max(0, scrollOffset.top - _this._positionFromTop);\n\n        _this.setState({\n          isScrolling: true,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n\n        onScroll({\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"__resetIsScrolling\", function () {\n      _this.setState({\n        isScrolling: false\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(WindowScroller, [{\n    key: \"updatePosition\",\n    value: function updatePosition() {\n      var scrollElement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.scrollElement;\n      var onResize = this.props.onResize;\n      var _this$state = this.state,\n          height = _this$state.height,\n          width = _this$state.width;\n      var thisNode = this._child || ReactDOM.findDOMNode(this);\n\n      if (thisNode instanceof Element && scrollElement) {\n        var offset = getPositionOffset(thisNode, scrollElement);\n        this._positionFromTop = offset.top;\n        this._positionFromLeft = offset.left;\n      }\n\n      var dimensions = getDimensions(scrollElement, this.props);\n\n      if (height !== dimensions.height || width !== dimensions.width) {\n        this.setState({\n          height: dimensions.height,\n          width: dimensions.width\n        });\n        onResize({\n          height: dimensions.height,\n          width: dimensions.width\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var scrollElement = this.props.scrollElement;\n      this._detectElementResize = createDetectElementResize();\n      this.updatePosition(scrollElement);\n\n      if (scrollElement) {\n        registerScrollListener(this, scrollElement);\n\n        this._registerResizeListener(scrollElement);\n      }\n\n      this._isMounted = true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var scrollElement = this.props.scrollElement;\n      var prevScrollElement = prevProps.scrollElement;\n\n      if (prevScrollElement !== scrollElement && prevScrollElement != null && scrollElement != null) {\n        this.updatePosition(scrollElement);\n        unregisterScrollListener(this, prevScrollElement);\n        registerScrollListener(this, scrollElement);\n\n        this._unregisterResizeListener(prevScrollElement);\n\n        this._registerResizeListener(scrollElement);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var scrollElement = this.props.scrollElement;\n\n      if (scrollElement) {\n        unregisterScrollListener(this, scrollElement);\n\n        this._unregisterResizeListener(scrollElement);\n      }\n\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      var _this$state2 = this.state,\n          isScrolling = _this$state2.isScrolling,\n          scrollTop = _this$state2.scrollTop,\n          scrollLeft = _this$state2.scrollLeft,\n          height = _this$state2.height,\n          width = _this$state2.width;\n      return children({\n        onChildScroll: this._onChildScroll,\n        registerChild: this._registerChild,\n        height: height,\n        isScrolling: isScrolling,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        width: width\n      });\n    }\n  }]);\n\n  return WindowScroller;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  /**\n   * Function responsible for rendering children.\n   * This function should implement the following signature:\n   * ({ height, isScrolling, scrollLeft, scrollTop, width }) => PropTypes.element\n   */\n  \"children\": PropTypes.func.isRequired,\n\n  /** Callback to be invoked on-resize: ({ height, width }) */\n  \"onResize\": PropTypes.func.isRequired,\n\n  /** Callback to be invoked on-scroll: ({ scrollLeft, scrollTop }) */\n  \"onScroll\": PropTypes.func.isRequired,\n\n  /** Element to attach scroll event listeners. Defaults to window. */\n  \"scrollElement\": PropTypes.oneOfType([PropTypes.any, function () {\n    return (typeof Element === \"function\" ? PropTypes.instanceOf(Element) : PropTypes.any).apply(this, arguments);\n  }]),\n\n  /**\n   * Wait this amount of time after the last scroll event before resetting child `pointer-events`.\n   */\n  \"scrollingResetTimeInterval\": PropTypes.number.isRequired,\n\n  /** Height used for server-side rendering */\n  \"serverHeight\": PropTypes.number.isRequired,\n\n  /** Width used for server-side rendering */\n  \"serverWidth\": PropTypes.number.isRequired\n}), _temp);\n\n_defineProperty(WindowScroller, \"defaultProps\", {\n  onResize: function onResize() {},\n  onScroll: function onScroll() {},\n  scrollingResetTimeInterval: IS_SCROLLING_TIMEOUT,\n  scrollElement: getWindow(),\n  serverHeight: 0,\n  serverWidth: 0\n});\n\nexport { WindowScroller as default };\nimport PropTypes from \"prop-types\";","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.es/ecma262/#sec-arraybuffer-constructor\n$({ global: true, constructor: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int8Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int8', function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint8ClampedArray` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","import actions from 'actions';\n\nconst DEFAULT_REVOCATION_PROXY_PREFIX = 'https://proxy.pdftron.com';\n\n/**\n * Side-effect function that sets the verification status of the document.\n * One of three possible results can happen:\n *\n * 1. Valid: All signatures have been successfully verified\n * 2. Unknown: One or more signatures has issues, but the verification API\n * cannot definitively state the signatures are valid or invalid (i.e. a\n * required Public Key Certificate is missing)\n * 3. Invalid: The document has been digitally signed, but has one or more\n * invalid signatures (i.e. because the document was modified after it was\n * signed, and one or more signature field did not allow for this to occur)\n *\n * The above results are dictated by the return values of:\n *\n * PDFNet.VerificationResult.getDocumentStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getDocumentStatus__anchor\n *\n * PDFNet.VerificationResult.getTrustStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getTrustStatus__anchor\n *\n * PDFNet.VerificationResult.getDigestStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getDigestStatus__anchor\n *\n * PDFNet.VerificationResult.getPermissionsStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getPermissionsStatus__anchor\n *\n * Valid:\n * DocumentStatus.e_no_error && TrustStatus.e_trust_verified\n *\n * Unknown:\n * DocumentStatus.e_no_error\n * && (\n *  DigestStatus.e_digest_verified\n *  || DigestStatus.e_digest_verification_disabled\n * ) && trustStatus !== TrustStatus.e_no_trust_status\n * && (\n *   ModificationPermissionsStatus.e_unmodified\n *   || ModificationPermissionsStatus.e_has_allowed_changes\n *   || ModificationPermissionsStatus.e_permissions_verification_disabled\n * )\n *\n * Any other combinations will cause the signature field to be considered\n * Invalid.\n * @ignore\n */\nexport default async (doc, certificates, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix, dispatch) => {\n  const verificationResult = await getVerificationResult(doc, certificates, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix);\n  dispatch(actions.setVerificationResult(verificationResult));\n  return verificationResult;\n};\n\n/**\n * Iterates through each signature widget in the document, retrieves and returns\n * all pertinent information pertaining to Digital Signature Verification\n *\n * @param {Core.Document} doc The document with signatures to verify\n * with the given certificate\n * @param {Array<File | string>} certificates The certificate files to be used\n * for verification. Can be passed as a File object, or a URL in the form\n * of a string, in which a GET call will be made to retrieve the certificate\n * @param {\n *   Array<Blob | ArrayBuffer | Int8Array | Uint8Array | Uint8ClampedArray>\n * } trustLists The Trust Lists to load for verification.\n * @param {string} currentLanguage Current UI language\n * @param {boolean} revocationChecking Determines if the PDFNet API\n * VerificationOptions.enableOnlineCRLRevocationChecking is invoked to enable\n * Online Certification Revocation List (CRL) Revocation Checking is done\n * within the PDFNet logic\n * @param {string} revocationProxyPrefix The URL of a proxy server that should\n * be used to avoid CORS related issues when contacting Certificate Revocation\n * List (CRL) servers\n * @returns {object} An object mapping the field name of each signature widget\n * to their verification results\n * @ignore\n */\nconst getVerificationResult = async (doc, certificates, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix) => {\n  const { PDFNet } = window.Core;\n  const { VerificationResult } = PDFNet;\n  const {\n    TrustStatus,\n    DigestStatus,\n    ModificationPermissionsStatus,\n    DocumentStatus,\n  } = VerificationResult;\n  const verificationResults = {};\n\n\n  await PDFNet.runWithCleanup(async () => {\n    /**\n     * @todo Remove re-assignment of argument from original code?\n     */\n    doc = await doc.getPDFDoc();\n    const opts = await PDFNet.VerificationOptions.create(\n      PDFNet.VerificationOptions.SecurityLevel.e_compatibility_and_archiving\n    );\n\n    if (revocationChecking) {\n      await opts.enableOnlineCRLRevocationChecking(true);\n    }\n\n    if (revocationProxyPrefix === null) {\n      await opts.setRevocationProxyPrefix(DEFAULT_REVOCATION_PROXY_PREFIX);\n    } else if (revocationProxyPrefix !== undefined) {\n      await opts.setRevocationProxyPrefix(revocationProxyPrefix);\n    }\n\n    for (const certificate of certificates) {\n      if (typeof certificate === 'string') {\n        try {\n          await opts.addTrustedCertificateFromURL(certificate);\n        } catch {\n          console.error(\n            `Error encountered when trying to load certificate from URL: ${certificate}\\n`\n            + 'Certificate will not be used as part of verification process.'\n          );\n          continue;\n        }\n      } else if (\n        certificate instanceof File ||\n        Object.prototype.toString.call(certificate) === '[object File]'\n      ) {\n        const fileReader = new FileReader();\n        const arrayBufferPromise = new Promise((resolve, reject) => {\n          fileReader.addEventListener('load', async (e) => {\n            resolve(new Uint8Array(e.target.result));\n          });\n          fileReader.addEventListener('error', () => {\n            reject('Error reading the local certificate');\n          });\n\n          fileReader.readAsArrayBuffer(certificate);\n        });\n        try {\n          await opts.addTrustedCertificate(await arrayBufferPromise);\n        } catch (error) {\n          console.error(\n            `Error encountered when trying to load certificate: ${error}`\n            + 'Certificate will not be used as part of the verification process.'\n          );\n          continue;\n        }\n      } else if (\n        certificate instanceof ArrayBuffer\n        || certificate instanceof Int8Array\n        || certificate instanceof Uint8Array\n        || certificate instanceof Uint8ClampedArray\n      ) {\n        try {\n          await opts.addTrustedCertificate(certificate);\n        } catch (error) {\n          console.error(\n            `Error encountered when trying to load certificate: ${error}`\n            + 'Certificate will not be used as part of the verification process.'\n          );\n          continue;\n        }\n      }\n    }\n\n    for (const trustList of trustLists) {\n      const trustListDataStructure = trustList.constructor.name;\n      const supportedDataStructures = [\n        'ArrayBuffer',\n        'Int8Array',\n        'Uint8Array',\n        'Uint8ClampedArray',\n      ];\n      let fdfDocBuffer;\n      if (trustListDataStructure === 'Blob') {\n        fdfDocBuffer = await trustList.arrayBuffer();\n      } else if (supportedDataStructures.includes(trustListDataStructure)) {\n        fdfDocBuffer = trustList;\n      } else {\n        console.error(\n          'The provided TrustList is an unsupported data-structure. '\n          + 'Please ensure the TrustList is formatted as one of the following '\n          + `data-structures: ${[...supportedDataStructures, 'Blob'].join('|')}`\n        );\n        continue;\n      }\n      try {\n        const fdf = await PDFNet.FDFDoc.createFromMemoryBuffer(fdfDocBuffer);\n        await opts.loadTrustList(fdf);\n      } catch (error) {\n        console.error(\n          `Error encountered when trying to load certificate: ${error}. `\n          + 'Certificate will not be used as part of the verification process.'\n        );\n        continue;\n      }\n    }\n\n    const fieldIterator = await doc.getFieldIteratorBegin();\n    for (; (await fieldIterator.hasNext()); fieldIterator.next()) {\n      const field = await fieldIterator.current();\n      if (\n        !(await field.isValid())\n        || await field.getType() !== PDFNet.Field.Type.e_signature\n      ) {\n        continue;\n      }\n      const digitalSigField = await PDFNet.DigitalSignatureField.createFromField(field);\n      try {\n        const result = await digitalSigField.verify(opts);\n        const id = await (await digitalSigField.getSDFObj()).getObjNum();\n\n        let signer;\n        let signTime;\n        let documentPermission;\n        let isCertification;\n        let contactInfo;\n        let location;\n        let reason;\n        let validAtTimeOfSigning;\n        let signerName;\n        const issuerField = {};\n        const subjectField = {};\n\n        const signed = await digitalSigField.hasCryptographicSignature();\n        if (signed) {\n          const subFilter = await digitalSigField.getSubFilter();\n          if (subFilter === PDFNet.DigitalSignatureField.SubFilterType.e_adbe_pkcs7_detached) {\n            const signerCert = await digitalSigField.getSignerCertFromCMS();\n            /**\n             * @note \"Issuer\" refers to the Certificate Authority that issued the\n             * certificate\n             * \"Subject\" refers to the organization/person that the Certificate\n             * Auhority issued this certificate to\n             *\n             * It is likely that future UI iterations will leverage Issuer\n             * information, so the code has been commented out for now, but will\n             * be uncommented in future feature implementations\n             */\n            // const retrievedIssuerField = await signerCert.getIssuerField();\n            // const processedIssuerField = await processX501DistinguishedName(retrievedIssuerField) || {};\n            const retrievedSubjectField = await signerCert.getSubjectField();\n            const processedSubjectField = await processX501DistinguishedName(retrievedSubjectField) || {};\n            signer = processedSubjectField['e_commonName'];\n          }\n          // Getter functions cannot be called on Digital Signature fields using\n          // e_ETSI_RFC3161\n          if (subFilter !== PDFNet.DigitalSignatureField.SubFilterType.e_ETSI_RFC3161) {\n            if (!signer) {\n              signer = (\n                await digitalSigField.getSignatureName()\n                || await digitalSigField.getContactInfo()\n              );\n            }\n            signTime = await digitalSigField.getSigningTime();\n\n            if (await signTime.isValid()) {\n              signTime = formatPDFNetDate(signTime, currentLanguage);\n            } else {\n              signTime = null;\n            }\n\n            contactInfo = await digitalSigField.getContactInfo();\n            location = await digitalSigField.getLocation();\n            reason = await digitalSigField.getReason();\n          }\n\n          documentPermission = await digitalSigField.getDocumentPermissions();\n          isCertification = await digitalSigField.isCertification();\n        }\n\n        const verificationStatus = await result.getVerificationStatus();\n        const documentStatus = await result.getDocumentStatus();\n        const digestStatus = await result.getDigestStatus();\n        const trustStatus = await result.getTrustStatus();\n        const permissionStatus = await result.getPermissionsStatus();\n        const digestAlgorithm = await result.getDigestAlgorithm();\n        const disallowedChanges = await Promise.all(\n          (await result.getDisallowedChanges()).map(async (change) => ({\n            objnum: await change.getObjNum(),\n            type: await change.getTypeAsString(),\n          }))\n        );\n        const validSignerIdentity = trustStatus === TrustStatus.e_trust_verified;\n\n        let trustVerificationResultString;\n        let trustVerificationResultBoolean;\n        let timeOfTrustVerificationEnum;\n        let trustVerificationTime;\n        const hasTrustVerificationResult = await result.hasTrustVerificationResult();\n        if (hasTrustVerificationResult) {\n          const trustVerificationResult = await result.getTrustVerificationResult();\n\n          trustVerificationResultBoolean = await trustVerificationResult.wasSuccessful();\n          trustVerificationResultString = await trustVerificationResult.getResultString();\n          timeOfTrustVerificationEnum = await trustVerificationResult.getTimeOfTrustVerificationEnum();\n\n          const epochTrustVerificationTime = await trustVerificationResult.getTimeOfTrustVerification();\n          if (epochTrustVerificationTime) {\n            trustVerificationTime = formatDate(epochTrustVerificationTime, currentLanguage);\n          }\n          const certPath = await trustVerificationResult.getCertPath();\n          if (certPath.length) {\n            const firstX509Cert = certPath[0];\n            const retrievedIssuerField = await firstX509Cert.getIssuerField();\n            const processedIssuerField = await processX501DistinguishedName(retrievedIssuerField);\n            Object.assign(issuerField, processedIssuerField);\n            const retrievedSubjectField = await firstX509Cert.getSubjectField();\n            const processedSubjectField = await processX501DistinguishedName(retrievedSubjectField);\n            Object.assign(subjectField, processedSubjectField);\n            const lastX509Cert = certPath[certPath.length - 1];\n            /**\n             * @todo @colim @rdjericpdftron 2022-05-30\n             * Using the pdftron::PDF::VerificationOptions::LoadTrustList API\n             * in combination with\n             * pdftron::Crypto::X509Certificate::GetNotBeforeEpochTime\n             * or\n             * pdftron::Crypto::X509Certificate::GetNotAfterEpochTime\n             * Results in the following fatal error being thrown:\n             *\n             * calendar_point::to_std_timepoint() does not support years after\n             * 2037 on this system\n             *\n             * @rdjericpdftron Mentions that this should be addressed in a\n             * future release of PDFNet when the Botan library has been patched\n             */\n            try {\n              const notBeforeEpochTime = await lastX509Cert.getNotBeforeEpochTime();\n              const notAfterEpochTime = await lastX509Cert.getNotAfterEpochTime();\n              validAtTimeOfSigning = (\n                notAfterEpochTime >= epochTrustVerificationTime\n                && epochTrustVerificationTime >= notBeforeEpochTime\n              );\n            } catch (dateBugError) {\n              if (dateBugError.includes('calendar_point::to_std_timepoint() does not support years after')) {\n                console.warn(\n                  'The following error is a known issue with Botan, and aims to be addressed in a future release of '\n                  + 'PDFNet. This currently does not impact PDFTron\\'s Digital Signature Verification capabilities.'\n                );\n                console.warn(dateBugError);\n              }\n            }\n          }\n        }\n\n        let badgeIcon;\n        if (verificationStatus) {\n          badgeIcon = 'digital_signature_valid';\n        } else if (\n          documentStatus === DocumentStatus.e_no_error &&\n          (digestStatus === DigestStatus.e_digest_verified ||\n            digestStatus === DigestStatus.e_digest_verification_disabled) &&\n          trustStatus !== TrustStatus.e_no_trust_status &&\n          (permissionStatus === ModificationPermissionsStatus.e_unmodified ||\n            permissionStatus === ModificationPermissionsStatus.e_has_allowed_changes ||\n            permissionStatus === ModificationPermissionsStatus.e_permissions_verification_disabled)\n        ) {\n          badgeIcon = 'digital_signature_warning';\n        } else {\n          badgeIcon = 'digital_signature_error';\n        }\n\n        if (signer) {\n          signerName = signer;\n        } else if (!signer && subjectField.e_commonName) {\n          signerName = subjectField.e_commonName;\n        }\n        const fieldName = await field.getName();\n        verificationResults[fieldName] = {\n          signed,\n          signer,\n          signerName,\n          signTime,\n          verificationStatus,\n          documentStatus,\n          digestStatus,\n          trustStatus,\n          permissionStatus,\n          disallowedChanges,\n          trustVerificationResultBoolean,\n          trustVerificationResultString,\n          timeOfTrustVerificationEnum,\n          trustVerificationTime,\n          id,\n          badgeIcon,\n          validSignerIdentity,\n          digestAlgorithm,\n          documentPermission,\n          isCertification,\n          contactInfo,\n          location,\n          reason,\n          issuerField,\n          subjectField,\n          validAtTimeOfSigning,\n        };\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  });\n\n  return verificationResults;\n};\n\n/**\n * Retrieves the relevant information from the given object, containing date\n * information that originates from epoch time, and returns a string containing\n * the date and time information in a human readable string\n *\n * @param {object} date The date object that is returned from PDFNet\n * @returns {string} Human readable formatted date and time\n * @ignore\n */\nconst formatPDFNetDate = (date, currentLanguage) => {\n  const { year, month, day, hour, minute, second } = date;\n  const d = new Date(Date.UTC(year, month - 1, day, hour, minute, second));\n\n  return d.toLocaleDateString(currentLanguage.replace('_', '-'), {\n    year: 'numeric',\n    month: 'long',\n    weekday: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    timeZoneName: 'short',\n  });\n};\n\n/**\n * Converts an epoch time input to date in string\n *\n * @param {number} epochTime The epoch time to be converted\n * @returns {string} The converted epoch time\n * @ignore\n */\nconst formatDate = (epochTime, currentLanguage) => {\n  const date = new Date(0);\n  // Values greater than 59 are converted into their parent values\n  // (i.e. seconds -> minutes -> hours -> day etc.)\n  date.setUTCSeconds(epochTime);\n\n  return date.toLocaleDateString(currentLanguage.replace('_', '-'), {\n    year: 'numeric',\n    month: 'long',\n    weekday: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    timeZoneName: 'short',\n  });\n};\n\n/**\n * Processes an instance of the PDFNet.X501DistinguishedName class into a\n * Javascript object that is human readable\n *\n * Intended to process the objects returned from invoking\n * PDFNet.X509Certificate.GetIssuerField and\n * PDFNet.X509Certificate.GetSubjectField\n *\n * @param {PDFNet.X501DistinguishedName} x501DistinguishedNameObject An instance\n * of the PDFNet.X501DistinguishedName class, to be processed into a Javascript\n * object\n * @returns {object} Maps human readable keys (as opposed to the Botan Crpyto\n * OIDs, represented as Array<int> in PDFTron Core) to the corresponding values\n * they map to\n * @ignore\n */\nconst processX501DistinguishedName = async (x501DistinguishedNameObject) => {\n  const processedObject = {};\n  const allAttributeAndValues = await x501DistinguishedNameObject.getAllAttributesAndValues();\n  for (const x501AttributeTypeAndValue of allAttributeAndValues) {\n    const objectIdentifier = await x501AttributeTypeAndValue.getAttributeTypeOID();\n    const key = await objectIdentifier.getRawValue();\n    const value = await x501AttributeTypeAndValue.getStringValue();\n    processedObject[translateObjectIdentifierBotanOID(key)] = value;\n  }\n  return processedObject;\n};\n\n/**\n * Takes an Array<Number> argument (or its string representation from\n * JSON.stringify) and returns the enum it is supposed to represent based on\n * its OID representation in the Botan crypto C++ library\n *\n * PDFTron Core represents the key from the original Map<string, string>\n * data-structre in the form of an array\n *\n * @example The key of the object\n * { \"2.5.4.3\", \"X520.CommonName\" }\n * Is represented as [2,5,4,3] in PDFTron Core\n *\n * Source: https://botan.randombit.net/doxygen/oid__maps_8cpp_source.html\n *\n * @param {string | Array<Number>} objectIdentifierOIDenum The array returned\n * from the invocation of PDFNet.ObjectIdentifier.getRawValue, which can be\n * accepted as the Array input (which the body of the function will convert to a\n * string), or a string representation of the array\n * @returns {string} The human readable enum that the array represents\n * @ignore\n */\nconst translateObjectIdentifierBotanOID = (objectIdentifierOIDenum) => {\n  const botanArrayToEnum = {\n    '[2,5,4,3]': 'e_commonName',\n    '[2,5,4,4]': 'e_surname',\n    '[2,5,4,6]': 'e_countryName',\n    '[2,5,4,7]': 'e_localityName',\n    '[2,5,4,8]': 'e_stateOrProvinceName',\n    '[2,5,4,9]': 'e_streetAddress',\n    '[2,5,4,10]': 'e_organizationName',\n    '[2,5,4,11]': 'e_organizationalUnitName',\n    /**\n     * @note Added by @CorreyL, enum is not in PDFTronCore codebase as of\n     * PDFNetJS8.1\n     *\n     * Listed as { \"1.2.840.113549.1.9.1\", \"PKCS9.EmailAddress\" }\n     * in load_oid2str_map()\n     */\n    '[1,2,840,113549,1,9,1]': 'e_emailAddress',\n  };\n  const arrayAsString = (typeof objectIdentifierOIDenum === 'string')\n    ? objectIdentifierOIDenum\n    : JSON.stringify(objectIdentifierOIDenum);\n  return botanArrayToEnum[arrayAsString];\n};\n","import React from 'react';\nimport './Spinner.scss';\n\nconst Spinner = () => <div className=\"spinner\" />;\n\nexport default Spinner;\n","import React, {\n  useEffect,\n  useState,\n} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport core from 'core';\nimport getRootNode from 'helpers/getRootNode';\n\nconst WidgetLocator = ({ rect }) => {\n  const [show, setShow] = useState(false);\n\n  useEffect(() => {\n    const scrollViewContainer = core.getScrollViewElement();\n    const handleScroll = () => {\n      setShow(false);\n    };\n\n    scrollViewContainer.addEventListener('scroll', handleScroll);\n    return () => scrollViewContainer.removeEventListener('scroll', handleScroll);\n  });\n\n  useEffect(() => {\n    if (rect) {\n      setTimeout(() => {\n        // so that the locator won't disappear because of the scroll\n        setShow(true);\n      }, 50);\n\n      setTimeout(() => {\n        setShow(false);\n      }, 700);\n    }\n  }, [rect]);\n\n  return (\n    show &&\n    ReactDOM.createPortal(\n      <div\n        style={{\n          position: 'absolute',\n          top: rect.y1,\n          left: rect.x1,\n          width: rect.x2 - rect.x1,\n          height: rect.y2 - rect.y1,\n          border: '1px solid #00a5e4',\n          zIndex: 100,\n        }}\n      />,\n      getRootNode().querySelector('#app')\n    )\n  );\n};\n\nexport default WidgetLocator;\n","import WidgetLocator from './WidgetLocator';\n\nexport default WidgetLocator;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport actions from 'actions';\nimport classNames from 'classnames';\nimport core from 'core';\nimport selectors from 'selectors';\n\nimport SignatureIcon from 'components/SignaturePanel/SignatureIcon';\nimport Icon from 'components/Icon';\nimport WidgetLocator from '../WidgetLocator';\n\nimport './WidgetInfo.scss';\n\nexport const renderPermissionStatus = ({\n  isCertification,\n  ModificationPermissionsStatus,\n  permissionStatus,\n  translate,\n}) => {\n  let content;\n\n  switch (permissionStatus) {\n    case ModificationPermissionsStatus.e_invalidated_by_disallowed_changes:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.invalidatedByDisallowedChanges'\n      );\n      break;\n    case ModificationPermissionsStatus.e_has_allowed_changes:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.hasAllowedChanges'\n      );\n      break;\n    case ModificationPermissionsStatus.e_unmodified:\n      content = `${\n        translate('digitalSignatureVerification.permissionStatus.unmodified')\n      } ${\n        isCertification\n          ? translate('digitalSignatureVerification.certified')\n          : translate('digitalSignatureVerification.signed')\n      }.`;\n      break;\n    case ModificationPermissionsStatus.e_permissions_verification_disabled:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.permissionsVerificationDisabled'\n      );\n      break;\n    case ModificationPermissionsStatus.e_no_permissions_status:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.noPermissionsStatus'\n      );\n      break;\n  }\n\n  return <p>{content}</p>;\n};\n\nconst propTypes = {\n  name: PropTypes.string.isRequired,\n  collapsible: PropTypes.bool.isRequired,\n  onClick: PropTypes.func,\n  field: PropTypes.instanceOf(window.Core.Annotations.Forms.Field),\n};\n\nconst WidgetInfo = ({ name, collapsible, field }) => {\n  const verificationResult = useSelector((state) => selectors.getVerificationResult(state, name));\n  const [isExpanded, setIsExpanded] = useState(true);\n  const [locatorRect, setLocatorRect] = useState(null);\n  const [signatureDetailsExpanded, setSignatureDetailsExpanded] = useState(false);\n  const { VerificationResult, VerificationOptions } = window.Core.PDFNet;\n  const { TimeMode } = VerificationOptions;\n  const { ModificationPermissionsStatus } = VerificationResult;\n  const [translate] = useTranslation();\n\n  const {\n    signed,\n    signTime,\n    verificationStatus,\n    permissionStatus,\n    disallowedChanges,\n    trustVerificationResultBoolean,\n    timeOfTrustVerificationEnum,\n    trustVerificationTime,\n    badgeIcon,\n    isCertification,\n    contactInfo,\n    location,\n    reason,\n    signerName,\n  } = verificationResult;\n\n  const dispatch = useDispatch();\n\n  const handleArrowClick = (e) => {\n    e.stopPropagation();\n    setIsExpanded(!isExpanded);\n  };\n\n  /**\n   * Side-effect function that highlights the SignatureWidgetAnnotation\n   * pertaining to the text element that was clicked by using core code to find\n   * the coordinates of the widget on the page it is placed on\n   *\n   * @param {Annotations.Forms.Field} field The field pertaining\n   * to the text element clicked in the Signature Panel\n   */\n  const jumpToWidget = (field) => {\n    if (!field.widgets.length) {\n      return;\n    }\n    const widget = field.widgets[0];\n    core.jumpToAnnotation(widget);\n\n    const { scrollLeft, scrollTop } = core.getScrollViewElement();\n    const rect = widget.getRect();\n    const windowTopLeft = core\n      .getDisplayModeObject()\n      .pageToWindow({ x: rect.x1, y: rect.y1 }, widget.PageNumber);\n    const windowBottomRight = core\n      .getDisplayModeObject()\n      .pageToWindow({ x: rect.x2, y: rect.y2 }, widget.PageNumber);\n\n    setLocatorRect({\n      x1: windowTopLeft.x - scrollLeft,\n      y1: windowTopLeft.y - scrollTop,\n      x2: windowBottomRight.x - scrollLeft,\n      y2: windowBottomRight.y - scrollTop,\n    });\n  };\n\n  /**\n   * Function that invokes the necessary methods when a user interacts with\n   * the title of the widget\n   *\n   * @param {Event} event The event that is passed from an onClick or onKeyPress\n   * interaction\n   */\n  const titleInteraction = (event) => {\n    handleArrowClick(event);\n    jumpToWidget(field);\n  };\n\n  const renderTitle = () => {\n    let content = isCertification\n      ? translate('digitalSignatureVerification.Certified')\n      : translate('digitalSignatureVerification.Signed');\n    content += ` ${translate('digitalSignatureVerification.by')} ${signerName || translate('digitalSignatureModal.unknown')}`;\n    if (signTime) {\n      content += ` ${translate('digitalSignatureVerification.on')} ${signTime}`;\n    }\n    return (\n      <div\n        className=\"title dropdown\"\n        onClick={titleInteraction}\n        onKeyPress={titleInteraction}\n        role=\"button\"\n        tabIndex={0}\n      >\n        {collapsible && (\n          <div\n            className={classNames({\n              arrow: true,\n              expanded: isExpanded,\n            })}\n          >\n            <Icon glyph=\"ic_chevron_right_black_24px\" />\n          </div>\n        )}\n        <SignatureIcon badge={badgeIcon} size=\"small\"/>\n        <p>{content}</p>\n      </div>\n    );\n  };\n\n  const renderVerificationStatus = () => {\n    const verificationType = isCertification\n      ? translate('digitalSignatureVerification.Certification')\n      : translate('digitalSignatureVerification.Signature');\n    return (\n      <div className=\"title\">\n        <p>\n          {\n            verificationStatus\n              ? translate('digitalSignatureVerification.verificationStatus.valid', { verificationType })\n              : translate('digitalSignatureVerification.verificationStatus.failed', { verificationType })\n          }\n        </p>\n      </div>\n    );\n  };\n\n  const renderPermissionStatus = () => {\n    let content;\n\n    switch (permissionStatus) {\n      case ModificationPermissionsStatus.e_invalidated_by_disallowed_changes:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.invalidatedByDisallowedChanges'\n        );\n        break;\n      case ModificationPermissionsStatus.e_has_allowed_changes:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.hasAllowedChanges'\n        );\n        break;\n      case ModificationPermissionsStatus.e_unmodified:\n        content = `${\n          translate('digitalSignatureVerification.permissionStatus.unmodified')\n        } ${\n          isCertification\n            ? translate('digitalSignatureVerification.certified')\n            : translate('digitalSignatureVerification.signed')\n        }.`;\n        break;\n      case ModificationPermissionsStatus.e_permissions_verification_disabled:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.permissionsVerificationDisabled'\n        );\n        break;\n      case ModificationPermissionsStatus.e_no_permissions_status:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.noPermissionsStatus'\n        );\n        break;\n    }\n\n    return <p>{content}</p>;\n  };\n\n  const renderDisallowedChanges = () => {\n    return disallowedChanges.map(({ objnum, type }) => (\n      <p key={objnum}>\n        {\n          translate(\n            'digitalSignatureVerification.disallowedChange',\n            { type, objnum }\n          )\n        }\n      </p>\n    ));\n  };\n\n  const renderTrustVerification = () => {\n    let verificationTimeMessage;\n    switch (timeOfTrustVerificationEnum) {\n      case (TimeMode.e_current):\n        verificationTimeMessage = (\n          translate('digitalSignatureVerification.trustVerification.current')\n        );\n        break;\n      case (TimeMode.e_signing):\n        verificationTimeMessage = (\n          translate('digitalSignatureVerification.trustVerification.signing')\n        );\n        break;\n      case (TimeMode.e_timestamp):\n        verificationTimeMessage = (\n          translate('digitalSignatureVerification.trustVerification.timestamp')\n        );\n        break;\n      default:\n        console.warn(\n          `Unexpected pdftron::PDF::VerificationOptions::TimeMode: ${timeOfTrustVerificationEnum}`\n        );\n    }\n    return (\n      <div className=\"trust-verification-result\">\n        <p>\n          {\n            translate(\n              trustVerificationResultBoolean\n                ? 'digitalSignatureVerification.trustVerification.verifiedTrust'\n                : 'digitalSignatureVerification.trustVerification.noTrustVerification'\n            )\n          }\n        </p>\n        {\n          /**\n           * @todo Chat with @rastko when he is available to determine what\n           * content from `trustVerificationResultString` could potentially\n           * be important to show to users\n           *\n           * <div>\n           *   <p className='bold'>Trust verification result:</p>\n           *   {\n           *     trustVerificationResultString.split('\\n').map((line, idx) => {\n           *       return (\n           *         <p\n           *           key={`trustVerificationResultString-${idx}`}\n           *           className={line[0] === '\\t' ? '' : 'bold'}\n           *         >\n           *           {line}\n           *         </p>\n           *       );\n           *     })\n           *   }\n           * </div>\n           */\n        }\n        <p>{trustVerificationTime}</p>\n        <p>{verificationTimeMessage}</p>\n      </div>\n    );\n  };\n\n  const renderSignatureDetails = () => {\n    // No additional signature details to render\n    if (!contactInfo && !location && !reason) {\n      return null;\n    }\n    return (\n      <div>\n        <div\n          className=\"title dropdown\"\n          onClick={\n            () => setSignatureDetailsExpanded(!signatureDetailsExpanded)\n          }\n          onKeyPress={\n            () => setSignatureDetailsExpanded(!signatureDetailsExpanded)\n          }\n          role=\"button\"\n          tabIndex={0}\n        >\n          <div\n            className={classNames({\n              arrow: true,\n              expanded: signatureDetailsExpanded,\n            })}\n          >\n            <Icon glyph=\"ic_chevron_right_black_24px\" />\n          </div>\n          <p>\n            {\n              translate(\n                'digitalSignatureVerification.signatureDetails.signatureDetails'\n              )\n            }\n          </p>\n        </div>\n        {\n          signatureDetailsExpanded\n          && (\n            <div className=\"body\">\n              <div>\n                <p className=\"bold\">\n                  {\n                    `${translate('digitalSignatureVerification.signatureDetails.contactInformation')}:`\n                  }\n                </p>\n                <p className=\"result-for-header\">\n                  {\n                    contactInfo\n                    || translate('digitalSignatureVerification.signatureDetails.noContactInformation')\n                  }\n                </p>\n              </div>\n              <div>\n                <p className=\"bold\">\n                  {\n                    `${translate('digitalSignatureVerification.signatureDetails.location')}:`\n                  }\n                </p>\n                <p className=\"result-for-header\">\n                  {\n                    location\n                    || translate('digitalSignatureVerification.signatureDetails.noLocation')\n                  }\n                </p>\n              </div>\n              <div>\n                <p className=\"bold\">\n                  {\n                    `${translate('digitalSignatureVerification.signatureDetails.reason')}:`\n                  }\n                </p>\n                <p className=\"result-for-header\">\n                  {\n                    reason\n                    || translate('digitalSignatureVerification.signatureDetails.noReason')\n                  }\n                </p>\n              </div>\n              {\n                signTime && (\n                  <div>\n                    <p className=\"bold\">\n                      {\n                        `${translate('digitalSignatureVerification.signatureDetails.signingTime')}:`\n                      }\n                    </p>\n                    <p className=\"result-for-header\">\n                      {\n                        signTime\n                        || translate('digitalSignatureVerification.signatureDetails.noSigningTime')\n                      }\n                    </p>\n                  </div>\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n    );\n  };\n\n  const openSignatureModal = () => {\n    dispatch(actions.setSignatureValidationModalWidgetName(name));\n    dispatch(actions.openElement('signatureValidationModal'));\n  };\n\n  /**\n   * Renders a link to open the signature modal\n   */\n  const renderSignaturePropertiesLink = () => {\n    return (\n      <div\n        onClick={openSignatureModal}\n        onKeyPress={openSignatureModal}\n        role=\"button\"\n        tabIndex={0}\n        className=\"link\"\n      >\n        <p className=\"bold underline\">{translate('digitalSignatureVerification.signatureProperties')}</p>\n      </div>\n    );\n  };\n\n  return (\n    <div\n      className=\"signature-widget-info\"\n    >\n      {signed ? (\n        <React.Fragment>\n          {renderTitle()}\n          {isExpanded && (\n            <div>\n              <div className=\"header\">\n                {\n                  renderVerificationStatus({\n                    isCertification,\n                    verificationStatus,\n                  })\n                }\n                <div className=\"body\">\n                  {\n                    renderPermissionStatus({\n                      isCertification,\n                      ModificationPermissionsStatus,\n                      permissionStatus,\n                      translate,\n                    })\n                  }\n                  {renderDisallowedChanges()}\n                  {renderTrustVerification()}\n                  {renderSignaturePropertiesLink()}\n                </div>\n              </div>\n              <div className=\"header header-with-arrow\">\n                {renderSignatureDetails()}\n              </div>\n            </div>\n          )}\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          <div\n            className=\"title link\"\n            tabIndex={0}\n            onClick={() => jumpToWidget(field)}\n            onKeyPress={() => jumpToWidget(field)}\n          >\n            <SignatureIcon />\n            <p>{translate('digitalSignatureVerification.unsignedSignatureField', { fieldName: field.name })}</p>\n          </div>\n        </React.Fragment>\n      )}\n      <WidgetLocator rect={locatorRect} />\n    </div>\n  );\n};\n\nWidgetInfo.propTypes = propTypes;\n\nexport default WidgetInfo;\n","import WidgetInfo, { renderPermissionStatus } from './WidgetInfo';\n\nexport default WidgetInfo;\nexport {\n  renderPermissionStatus\n};\n","import React, { useCallback, useEffect, useState, } from 'react';\nimport { useDispatch, useSelector, } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport actions from 'actions';\nimport core from 'core';\nimport selectors from 'selectors';\nimport setVerificationResult from 'helpers/setVerificationResult';\n\nimport Spinner from './Spinner';\nimport WidgetInfo from './WidgetInfo';\n\nimport './SignaturePanel.scss';\n\nconst SignaturePanel = () => {\n  const dispatch = useDispatch();\n  const [fields, setFields] = useState([]);\n  const [showSpinner, setShowSpinner] = useState(false);\n  const [certificateErrorMessage, setCertificateErrorMessage] = useState('');\n  const [document, setDocument] = useState(core.getDocument());\n  const [\n    isDisabled,\n    certificate,\n    trustLists,\n    currentLanguage,\n    revocationChecking,\n    revocationProxyPrefix,\n  ] = useSelector((state) => [\n    selectors.isElementDisabled(state, 'signaturePanel'),\n    selectors.getCertificates(state),\n    selectors.getTrustLists(state),\n    selectors.getCurrentLanguage(state),\n    selectors.getIsRevocationCheckingEnabled(state),\n    selectors.getRevocationProxyPrefix(state),\n  ]);\n  const [translate] = useTranslation();\n\n  const onDocumentLoaded = async () => {\n    setDocument(core.getDocument());\n  };\n\n  const onDocumentUnloaded = useCallback(() => {\n    setShowSpinner(true);\n    dispatch(actions.setVerificationResult({}));\n  }, [setShowSpinner, dispatch]);\n\n  const onAnnotationChanged = ((annotations, action) => {\n    const isInFormCreationMode = core.getAnnotationManager().getFormFieldCreationManager().isInFormFieldCreationMode();\n\n    if (action === 'add') {\n      addSignatureWidgetAnnotations(core.getAnnotationManager().getAnnotationsList());\n    } else if (action === 'delete' && isInFormCreationMode) {\n      removeAnnotations(annotations);\n    }\n  });\n\n  const addNonSignedFields = () => {\n    const currentAnnotations = core.getAnnotationManager().getAnnotationsList();\n    addSignatureWidgetAnnotations(currentAnnotations);\n  };\n\n  const addSignatureWidgetAnnotations = (annotations) => {\n    const currentFields = [];\n    annotations.forEach((annotation) => {\n      if (annotation instanceof window.Core.Annotations.SignatureWidgetAnnotation) {\n        currentFields.push(annotation.getField());\n      }\n    });\n    const newSet = new Set(currentFields);\n    setFields([...newSet]);\n  };\n\n  const removeAnnotations = (annotations) => {\n    annotations.forEach((annotation) => {\n      removeMatchingWidget(annotation);\n    });\n\n    addNonSignedFields();\n  };\n\n  const removeMatchingWidget = (annotation) => {\n    const annot = annotation;\n    const widgetFieldName = annot.getCustomData('trn-form-field-name');\n    const isRectanglePlaceholder = annotation instanceof window.Core.Annotations.RectangleAnnotation && widgetFieldName;\n    if (isRectanglePlaceholder) {\n      const annotationManager = core.getAnnotationManager();\n      const annotationList = annotationManager.getAnnotationsList();\n      const widgetToDelete = annotationList.filter((annotation) => {\n        return annotation.getCustomData('trn-editing-rectangle-id') === annot.Id;\n      });\n      annotationManager.deleteAnnotations(widgetToDelete);\n    }\n  };\n\n  const resetFields = () => {\n    setFields([]);\n    addNonSignedFields();\n  };\n\n  useEffect(() => {\n    // This ensures that when the document loads, the state of this component is\n    // updated accordingly\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    core.addEventListener('documentUnloaded', onDocumentUnloaded);\n    core.addEventListener('annotationChanged', onAnnotationChanged);\n    core.addEventListener('formFieldCreationModeStarted', resetFields);\n    core.addEventListener('formFieldCreationModeEnded', resetFields);\n    return () => {\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n      core.removeEventListener('documentUnloaded', onDocumentUnloaded);\n      core.removeEventListener('annotationChanged', onAnnotationChanged);\n      core.removeEventListener('formFieldCreationModeStarted', resetFields);\n      core.removeEventListener('formFieldCreationModeEnded', resetFields);\n    };\n  }, [onDocumentUnloaded]);\n\n  useEffect(() => {\n    // Need certificates for PDFNet to verify against, and for the document\n    // to be loaded in order to iterate through the signature fields in the\n    // document\n    if (document) {\n      // We need to wait for the annotationsLoaded event, otherwise the\n      // Field will not exist in the document\n      core.getAnnotationsLoadedPromise().then(() => {\n        setShowSpinner(true);\n        setVerificationResult(document, certificate, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix, dispatch)\n          .then(async (verificationResult) => {\n            const fieldManager = core.getAnnotationManager().getFieldManager();\n            setFields(Object.keys(verificationResult).map((fieldName) => fieldManager.getField(fieldName)));\n            setCertificateErrorMessage('');\n          })\n          .catch((e) => {\n            if (e && e.message) {\n              setCertificateErrorMessage(e.message);\n            } else {\n              console.error(e);\n            }\n          })\n          .then(() => {\n            addNonSignedFields();\n          })\n          .finally(() => {\n            setShowSpinner(false);\n          });\n      });\n    } else {\n      setShowSpinner(true);\n    }\n  }, [certificate, document, dispatch, currentLanguage]);\n\n  if (isDisabled) {\n    return null;\n  }\n\n  /**\n   * Returns a JSX element if document loading is not complete, or an error\n   * occurs, otherwise nothing is returned, indicating that information about\n   * one or more signature will be returned from this component\n   */\n  const renderLoadingOrErrors = () => {\n    let result;\n    if (showSpinner) {\n      result = <Spinner />;\n    } else if (certificateErrorMessage === 'Error reading the local certificate') {\n      result = translate('digitalSignatureVerification.panelMessages.localCertificateError');\n    } else if (certificateErrorMessage === 'Download Failed') {\n      result = translate('digitalSignatureVerification.panelMessages.certificateDownloadError');\n    } else if (!fields.length) {\n      result = translate('digitalSignatureVerification.panelMessages.noSignatureFields');\n    } else {\n      /**\n       * If document has completed loading, there are no errors, and there are\n       * signature fields, this function does not need to return anything\n       */\n      return null;\n    }\n\n    return (\n      <div className=\"center\">\n        {result}\n      </div>\n    );\n  };\n\n  return (\n    <div\n      className=\"Panel SignaturePanel\"\n      data-element=\"signaturePanel\"\n    >\n      {renderLoadingOrErrors()}\n      {\n        !showSpinner && fields.length > 0 && (\n          fields.map((field, index) => {\n            return (\n              <WidgetInfo\n                key={index}\n                name={field.name}\n                collapsible\n                field={field}\n              />\n            );\n          })\n        )\n      }\n    </div>\n  );\n};\n\nexport default SignaturePanel;\n","import SignaturePanel from './SignaturePanel';\nimport Spinner from './Spinner';\nimport { renderPermissionStatus } from './WidgetInfo';\n\nexport default SignaturePanel;\n\nexport {\n  renderPermissionStatus,\n  SignaturePanel,\n  Spinner\n};\n","export var ListenerType;\n\n(function (ListenerType) {\n  ListenerType[\"mouse\"] = \"mouse\";\n  ListenerType[\"touch\"] = \"touch\";\n  ListenerType[\"keyboard\"] = \"keyboard\";\n})(ListenerType || (ListenerType = {}));","// Used for MouseEvent.buttons (note the s on the end).\nvar MouseButtons = {\n  Left: 1,\n  Right: 2,\n  Center: 4\n}; // Used for e.button (note the lack of an s on the end).\n\nvar MouseButton = {\n  Left: 0,\n  Center: 1,\n  Right: 2\n};\n/**\n * Only touch events and mouse events where the left button is pressed should initiate a drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nexport function eventShouldStartDrag(e) {\n  // For touch events, button will be undefined. If e.button is defined,\n  // then it should be MouseButton.Left.\n  return e.button === undefined || e.button === MouseButton.Left;\n}\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nexport function eventShouldEndDrag(e) {\n  // Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n  // bit field unset if the left mouse button has been released\n  return e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0;\n}\nexport function isTouchEvent(e) {\n  return !!e.targetTouches;\n}","import { isTouchEvent } from './predicates';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return undefined;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientTouchOffset(e, lastTargetTouchFallback) {\n  if (e.targetTouches.length === 1) {\n    return getEventClientOffset(e.targetTouches[0]);\n  } else if (lastTargetTouchFallback && e.touches.length === 1) {\n    if (e.touches[0].target === lastTargetTouchFallback.target) {\n      return getEventClientOffset(e.touches[0]);\n    }\n  }\n}\nexport function getEventClientOffset(e, lastTargetTouchFallback) {\n  if (isTouchEvent(e)) {\n    return getEventClientTouchOffset(e, lastTargetTouchFallback);\n  } else {\n    return {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n}","var supportsPassive = function () {\n  // simular to jQuery's test\n  var supported = false;\n\n  try {\n    addEventListener('test', function () {// do nothing\n    }, Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supported = true;\n        return true;\n      }\n    }));\n  } catch (e) {// do nothing\n  }\n\n  return supported;\n}();\n\nexport default supportsPassive;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var OptionsReader =\n/*#__PURE__*/\nfunction () {\n  function OptionsReader(incoming, context) {\n    var _this = this;\n\n    _classCallCheck(this, OptionsReader);\n\n    this.enableTouchEvents = true;\n    this.enableMouseEvents = false;\n    this.enableKeyboardEvents = false;\n    this.ignoreContextMenu = false;\n    this.enableHoverOutsideTarget = false;\n    this.touchSlop = 0;\n    this.scrollAngleRanges = undefined;\n    this.context = context;\n    this.delayTouchStart = incoming.delayTouchStart || incoming.delay || 0;\n    this.delayMouseStart = incoming.delayMouseStart || incoming.delay || 0;\n    Object.keys(incoming).forEach(function (key) {\n      if (incoming[key] != null) {\n        ;\n        _this[key] = incoming[key];\n      }\n    });\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.context && this.context.window) {\n        return this.context.window;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return OptionsReader;\n}();","var _eventNames;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { ListenerType } from './interfaces';\nimport { eventShouldStartDrag, eventShouldEndDrag, isTouchEvent } from './utils/predicates';\nimport { getEventClientOffset, getNodeClientOffset } from './utils/offsets';\nimport { distance, inAngleRanges } from './utils/math';\nimport supportsPassive from './utils/supportsPassive';\nimport { OptionsReader } from './OptionsReader';\nvar eventNames = (_eventNames = {}, _defineProperty(_eventNames, ListenerType.mouse, {\n  start: 'mousedown',\n  move: 'mousemove',\n  end: 'mouseup',\n  contextmenu: 'contextmenu'\n}), _defineProperty(_eventNames, ListenerType.touch, {\n  start: 'touchstart',\n  move: 'touchmove',\n  end: 'touchend'\n}), _defineProperty(_eventNames, ListenerType.keyboard, {\n  keydown: 'keydown'\n}), _eventNames);\n\nvar TouchBackend =\n/*#__PURE__*/\nfunction () {\n  function TouchBackend(manager, context, options) {\n    var _this = this;\n\n    _classCallCheck(this, TouchBackend);\n\n    this.getSourceClientOffset = function (sourceId) {\n      return getNodeClientOffset(_this.sourceNodes[sourceId]);\n    };\n\n    this.handleTopMoveStartCapture = function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      _this.moveStartSourceIds = [];\n    };\n\n    this.handleMoveStart = function (sourceId) {\n      // Just because we received an event doesn't necessarily mean we need to collect drag sources.\n      // We only collect start collecting drag sources on touch and left mouse events.\n      if (Array.isArray(_this.moveStartSourceIds)) {\n        _this.moveStartSourceIds.unshift(sourceId);\n      }\n    };\n\n    this.handleTopMoveStart = function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      } // Don't prematurely preventDefault() here since it might:\n      // 1. Mess up scrolling\n      // 2. Mess up long tap (which brings up context menu)\n      // 3. If there's an anchor link as a child, tap won't be triggered on link\n\n\n      var clientOffset = getEventClientOffset(e);\n\n      if (clientOffset) {\n        if (isTouchEvent(e)) {\n          _this.lastTargetTouchFallback = e.targetTouches[0];\n        }\n\n        _this._mouseClientOffset = clientOffset;\n      }\n\n      _this.waitingForDelay = false;\n    };\n\n    this.handleTopMoveStartDelay = function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      var delay = e.type === eventNames.touch.start ? _this.options.delayTouchStart : _this.options.delayMouseStart;\n      _this.timeout = setTimeout(_this.handleTopMoveStart.bind(_this, e), delay);\n      _this.waitingForDelay = true;\n    };\n\n    this.handleTopMoveCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleMove = function (_, targetId) {\n      if (_this.dragOverTargetIds) {\n        _this.dragOverTargetIds.unshift(targetId);\n      }\n    };\n\n    this.handleTopMove = function (e) {\n      if (_this.timeout) {\n        clearTimeout(_this.timeout);\n      }\n\n      if (!_this.document || _this.waitingForDelay) {\n        return;\n      }\n\n      var moveStartSourceIds = _this.moveStartSourceIds,\n          dragOverTargetIds = _this.dragOverTargetIds;\n      var enableHoverOutsideTarget = _this.options.enableHoverOutsideTarget;\n      var clientOffset = getEventClientOffset(e, _this.lastTargetTouchFallback);\n\n      if (!clientOffset) {\n        return;\n      } // If the touch move started as a scroll, or is is between the scroll angles\n\n\n      if (_this._isScrolling || !_this.monitor.isDragging() && inAngleRanges(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y, _this.options.scrollAngleRanges)) {\n        _this._isScrolling = true;\n        return;\n      } // If we're not dragging and we've moved a little, that counts as a drag start\n\n\n      if (!_this.monitor.isDragging() && // eslint-disable-next-line no-prototype-builtins\n      _this._mouseClientOffset.hasOwnProperty('x') && moveStartSourceIds && distance(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y) > (_this.options.touchSlop ? _this.options.touchSlop : 0)) {\n        _this.moveStartSourceIds = undefined;\n\n        _this.actions.beginDrag(moveStartSourceIds, {\n          clientOffset: _this._mouseClientOffset,\n          getSourceClientOffset: _this.getSourceClientOffset,\n          publishSource: false\n        });\n      }\n\n      if (!_this.monitor.isDragging()) {\n        return;\n      }\n\n      var sourceNode = _this.sourceNodes[_this.monitor.getSourceId()];\n\n      _this.installSourceNodeRemovalObserver(sourceNode);\n\n      _this.actions.publishDragSource();\n\n      e.preventDefault(); // Get the node elements of the hovered DropTargets\n\n      var dragOverTargetNodes = (dragOverTargetIds || []).map(function (key) {\n        return _this.targetNodes[key];\n      }); // Get the a ordered list of nodes that are touched by\n\n      var elementsAtPoint = _this.options.getDropTargetElementsAtPoint ? _this.options.getDropTargetElementsAtPoint(clientOffset.x, clientOffset.y, dragOverTargetNodes) : _this.document.elementsFromPoint(clientOffset.x, clientOffset.y); // Extend list with parents that are not receiving elementsFromPoint events (size 0 elements and svg groups)\n\n      var elementsAtPointExtended = [];\n\n      for (var nodeId in elementsAtPoint) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (!elementsAtPoint.hasOwnProperty(nodeId)) {\n          continue;\n        }\n\n        var currentNode = elementsAtPoint[nodeId];\n        elementsAtPointExtended.push(currentNode);\n\n        while (currentNode) {\n          currentNode = currentNode.parentElement;\n\n          if (elementsAtPointExtended.indexOf(currentNode) === -1) {\n            elementsAtPointExtended.push(currentNode);\n          }\n        }\n      }\n\n      var orderedDragOverTargetIds = elementsAtPointExtended // Filter off nodes that arent a hovered DropTargets nodes\n      .filter(function (node) {\n        return dragOverTargetNodes.indexOf(node) > -1;\n      }) // Map back the nodes elements to targetIds\n      .map(function (node) {\n        for (var targetId in _this.targetNodes) {\n          if (node === _this.targetNodes[targetId]) {\n            return targetId;\n          }\n        }\n\n        return undefined;\n      }) // Filter off possible null rows\n      .filter(function (node) {\n        return !!node;\n      }).filter(function (id, index, ids) {\n        return ids.indexOf(id) === index;\n      }); // Invoke hover for drop targets when source node is still over and pointer is outside\n\n      if (enableHoverOutsideTarget) {\n        for (var targetId in _this.targetNodes) {\n          if (_this.targetNodes[targetId] && _this.targetNodes[targetId].contains(sourceNode) && orderedDragOverTargetIds.indexOf(targetId) === -1) {\n            orderedDragOverTargetIds.unshift(targetId);\n            break;\n          }\n        }\n      } // Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n\n\n      orderedDragOverTargetIds.reverse();\n\n      _this.actions.hover(orderedDragOverTargetIds, {\n        clientOffset: clientOffset\n      });\n    };\n\n    this.handleTopMoveEndCapture = function (e) {\n      _this._isScrolling = false;\n      _this.lastTargetTouchFallback = undefined;\n\n      if (!eventShouldEndDrag(e)) {\n        return;\n      }\n\n      if (!_this.monitor.isDragging() || _this.monitor.didDrop()) {\n        _this.moveStartSourceIds = undefined;\n        return;\n      }\n\n      e.preventDefault();\n      _this._mouseClientOffset = {};\n\n      _this.uninstallSourceNodeRemovalObserver();\n\n      _this.actions.drop();\n\n      _this.actions.endDrag();\n    };\n\n    this.handleCancelOnEscape = function (e) {\n      if (e.key === 'Escape' && _this.monitor.isDragging()) {\n        _this._mouseClientOffset = {};\n\n        _this.uninstallSourceNodeRemovalObserver();\n\n        _this.actions.endDrag();\n      }\n    };\n\n    this.options = new OptionsReader(options, context);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.sourceNodes = {};\n    this.sourcePreviewNodes = {};\n    this.sourcePreviewNodeOptions = {};\n    this.targetNodes = {};\n    this.listenerTypes = [];\n    this._mouseClientOffset = {};\n    this._isScrolling = false;\n\n    if (this.options.enableMouseEvents) {\n      this.listenerTypes.push(ListenerType.mouse);\n    }\n\n    if (this.options.enableTouchEvents) {\n      this.listenerTypes.push(ListenerType.touch);\n    }\n\n    if (this.options.enableKeyboardEvents) {\n      this.listenerTypes.push(ListenerType.keyboard);\n    }\n  } // public for test\n\n\n  _createClass(TouchBackend, [{\n    key: \"setup\",\n    value: function setup() {\n      if (!this.window) {\n        return;\n      }\n\n      invariant(!TouchBackend.isSetUp, 'Cannot have two Touch backends at the same time.');\n      TouchBackend.isSetUp = true;\n      this.addEventListener(this.window, 'start', this.getTopMoveStartHandler());\n      this.addEventListener(this.window, 'start', this.handleTopMoveStartCapture, true);\n      this.addEventListener(this.window, 'move', this.handleTopMove);\n      this.addEventListener(this.window, 'move', this.handleTopMoveCapture, true);\n      this.addEventListener(this.window, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.addEventListener(this.window, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.addEventListener(this.window, 'keydown', this.handleCancelOnEscape, true);\n      }\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (!this.window) {\n        return;\n      }\n\n      TouchBackend.isSetUp = false;\n      this._mouseClientOffset = {};\n      this.removeEventListener(this.window, 'start', this.handleTopMoveStartCapture, true);\n      this.removeEventListener(this.window, 'start', this.handleTopMoveStart);\n      this.removeEventListener(this.window, 'move', this.handleTopMoveCapture, true);\n      this.removeEventListener(this.window, 'move', this.handleTopMove);\n      this.removeEventListener(this.window, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.removeEventListener(this.window, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.removeEventListener(this.window, 'keydown', this.handleCancelOnEscape, true);\n      }\n\n      this.uninstallSourceNodeRemovalObserver();\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.addEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.removeEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node) {\n      var _this2 = this;\n\n      var handleMoveStart = this.handleMoveStart.bind(this, sourceId);\n      this.sourceNodes[sourceId] = node;\n      this.addEventListener(node, 'start', handleMoveStart);\n      return function () {\n        delete _this2.sourceNodes[sourceId];\n\n        _this2.removeEventListener(node, 'start', handleMoveStart);\n      };\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourcePreviewNodeOptions[sourceId] = options;\n      this.sourcePreviewNodes[sourceId] = node;\n      return function () {\n        delete _this3.sourcePreviewNodes[sourceId];\n        delete _this3.sourcePreviewNodeOptions[sourceId];\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      if (!this.document) {\n        return function () {\n          return null;\n        };\n      }\n\n      var handleMove = function handleMove(e) {\n        if (!_this4.document || !_this4.monitor.isDragging()) {\n          return;\n        }\n\n        var coords;\n        /**\n         * Grab the coordinates for the current mouse/touch position\n         */\n\n        switch (e.type) {\n          case eventNames.mouse.move:\n            coords = {\n              x: e.clientX,\n              y: e.clientY\n            };\n            break;\n\n          case eventNames.touch.move:\n            coords = {\n              x: e.touches[0].clientX,\n              y: e.touches[0].clientY\n            };\n            break;\n        }\n        /**\n         * Use the coordinates to grab the element the drag ended on.\n         * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n         */\n\n\n        var droppedOn = coords != null ? _this4.document.elementFromPoint(coords.x, coords.y) : undefined;\n        var childMatch = droppedOn && node.contains(droppedOn);\n\n        if (droppedOn === node || childMatch) {\n          return _this4.handleMove(e, targetId);\n        }\n      };\n      /**\n       * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n       */\n\n\n      this.addEventListener(this.document.body, 'move', handleMove);\n      this.targetNodes[targetId] = node;\n      return function () {\n        if (_this4.document) {\n          delete _this4.targetNodes[targetId];\n\n          _this4.removeEventListener(_this4.document.body, 'move', handleMove);\n        }\n      };\n    }\n  }, {\n    key: \"getTopMoveStartHandler\",\n    value: function getTopMoveStartHandler() {\n      if (!this.options.delayTouchStart && !this.options.delayMouseStart) {\n        return this.handleTopMoveStart;\n      }\n\n      return this.handleTopMoveStartDelay;\n    }\n  }, {\n    key: \"installSourceNodeRemovalObserver\",\n    value: function installSourceNodeRemovalObserver(node) {\n      var _this5 = this;\n\n      this.uninstallSourceNodeRemovalObserver();\n      this.draggedSourceNode = node;\n      this.draggedSourceNodeRemovalObserver = new MutationObserver(function () {\n        if (node && !node.parentElement) {\n          _this5.resurrectSourceNode();\n\n          _this5.uninstallSourceNodeRemovalObserver();\n        }\n      });\n\n      if (!node || !node.parentElement) {\n        return;\n      }\n\n      this.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n        childList: true\n      });\n    }\n  }, {\n    key: \"resurrectSourceNode\",\n    value: function resurrectSourceNode() {\n      if (this.document && this.draggedSourceNode) {\n        this.draggedSourceNode.style.display = 'none';\n        this.draggedSourceNode.removeAttribute('data-reactid');\n        this.document.body.appendChild(this.draggedSourceNode);\n      }\n    }\n  }, {\n    key: \"uninstallSourceNodeRemovalObserver\",\n    value: function uninstallSourceNodeRemovalObserver() {\n      if (this.draggedSourceNodeRemovalObserver) {\n        this.draggedSourceNodeRemovalObserver.disconnect();\n      }\n\n      this.draggedSourceNodeRemovalObserver = undefined;\n      this.draggedSourceNode = undefined;\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    } // public for test\n\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return TouchBackend;\n}();\n\nexport { TouchBackend as default };","export function distance(x1, y1, x2, y2) {\n  return Math.sqrt(Math.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2));\n}\nexport function inAngleRanges(x1, y1, x2, y2, angleRanges) {\n  if (!angleRanges) {\n    return false;\n  }\n\n  var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI + 180;\n\n  for (var i = 0; i < angleRanges.length; ++i) {\n    if ((angleRanges[i].start == null || angle >= angleRanges[i].start) && (angleRanges[i].end == null || angle <= angleRanges[i].end)) {\n      return true;\n    }\n  }\n\n  return false;\n}","import TouchBackend from './TouchBackend';\n\nvar createBackend = function createBackend(manager, context) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return new TouchBackend(manager, context, options);\n};\n\nexport default createBackend;","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Element.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlineControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.OutlineControls{display:flex;justify-content:center;align-items:center;margin-left:var(--padding);margin-right:var(--padding);border-bottom:1px solid var(--border);padding-top:4px;padding-bottom:4px;color:var(--faded-text)}.OutlineControls .Button{height:30px;padding:0;width:30px;margin:0 4px}.OutlineControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.OutlineControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./MoreOptionsContextMenuPopup.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".more-options-context-menu-popup{padding-top:var(--padding-small);padding-bottom:var(--padding-small);background-color:var(--component-background);box-shadow:0 0 3px var(--document-box-shadow);border-radius:4px}.more-options-context-menu-popup .option-button{justify-content:flex-start;width:100%;padding:var(--padding-small) var(--padding-medium);border-radius:0}.more-options-context-menu-popup .option-button:not(:first-child){margin-top:var(--padding-small)}.more-options-context-menu-popup .option-button:hover{background-color:var(--tools-header-background)}.more-options-context-menu-popup .option-button .Icon{width:20px;height:auto;margin-right:10px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlineContent.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".outline-destination,.outline-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.outline-destination{flex-basis:100%;font-size:10px;color:var(--faded-text);margin-top:var(--padding-small)}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Outline.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.outline-drag-container{border-radius:4px}.outline-drag-container.isNesting>.bookmark-outline-single-container{background-color:var(--popup-button-active);border-color:var(--focus-border)}.outline-treeview-toggle{flex-grow:0;flex-shrink:0;margin-right:var(--padding-small);min-width:14px;transition:transform .1s ease}.outline-treeview-toggle.expanded{transform:rotate(90deg)}.outline-treeview-toggle .Button{width:auto;height:auto}.outline-treeview-toggle .Button .Icon{width:14px;height:auto}.outline-drag-line{margin-left:var(--padding);margin-right:var(--padding);border-top:1px solid var(--focus-border);position:relative}.outline-drag-line:before{content:\\\"\\\";display:block;position:absolute;width:5px;height:5px;top:-3px;left:0;background-color:var(--focus-border);border-radius:50%}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bookmark-outline-panel{display:flex;padding-left:var(--padding);padding-right:var(--padding-small)}.bookmark-outline-control-button{width:auto}.bookmark-outline-control-button span{color:inherit}.bookmark-outline-control-button,.bookmark-outline-control-button.disabled,.bookmark-outline-control-button[disabled]{color:var(--secondary-button-text)}.bookmark-outline-control-button.disabled,.bookmark-outline-control-button[disabled]{opacity:.5}.bookmark-outline-control-button.disabled span,.bookmark-outline-control-button[disabled] span{color:inherit}.bookmark-outline-control-button:not(.disabled):active,.bookmark-outline-control-button:not(.disabled):focus,.bookmark-outline-control-button:not(.disabled):hover,.bookmark-outline-control-button:not([disabled]):active,.bookmark-outline-control-button:not([disabled]):focus,.bookmark-outline-control-button:not([disabled]):hover{color:var(--secondary-button-hover)}.bookmark-outline-panel-header{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;padding-bottom:var(--padding-tiny);border-bottom:1px solid var(--border)}.bookmark-outline-panel-header .header-title{font-size:16px}.bookmark-outline-row{flex-grow:1;overflow-y:auto}.msg-no-bookmark-outline{color:var(--placeholder-text);text-align:center}.bookmark-outline-single-container{display:flex;flex-flow:row nowrap;align-items:flex-start;border-radius:4px}.bookmark-outline-single-container.default{padding:var(--padding-small) var(--padding-tiny);border:1px solid transparent}.bookmark-outline-single-container.default.hover,.bookmark-outline-single-container.default:hover{cursor:pointer}.bookmark-outline-single-container.default.hover .bookmark-outline-more-button,.bookmark-outline-single-container.default:hover .bookmark-outline-more-button{display:flex}.bookmark-outline-single-container.default:hover{background-color:var(--outline-selected)}.bookmark-outline-single-container.default.hover,.bookmark-outline-single-container.default.selected{background-color:var(--popup-button-active)}.bookmark-outline-single-container.default .bookmark-outline-label-row{overflow:hidden}.bookmark-outline-single-container.editing{background-color:var(--faded-component-background);padding:var(--padding-medium) 20px}.bookmark-outline-single-container.preview{display:inline-flex;margin-top:0;padding:var(--padding-small);background-color:var(--component-background);box-shadow:0 0 3px var(--note-box-shadow)}.bookmark-outline-single-container .bookmark-outline-checkbox{flex-grow:0;flex-shrink:0;margin-top:1px;margin-bottom:0;margin-right:var(--padding-small)}.bookmark-outline-single-container .bookmark-outline-label-row{flex-grow:1;flex-shrink:1;display:flex;flex-flow:row wrap;align-items:flex-start;position:relative;overflow:hidden}.bookmark-outline-single-container .bookmark-outline-label{font-weight:600;flex-grow:1;flex-shrink:1;margin-bottom:var(--padding-small)}.bookmark-outline-single-container .bookmark-outline-input,.bookmark-outline-single-container .bookmark-outline-text{flex-grow:1;flex-shrink:1;flex-basis:calc(100% - 18px)}.bookmark-outline-single-container .bookmark-text-input{margin-left:var(--padding-large)}.bookmark-outline-single-container .bookmark-outline-input{color:var(--text-color);width:calc(100% - var(--padding-large));padding:var(--padding-small);border:1px solid var(--border)}.bookmark-outline-single-container .bookmark-outline-input:focus{border-color:var(--outline-color)}.bookmark-outline-single-container .bookmark-outline-input::-moz-placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-input:-ms-input-placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-input::placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-more-button{display:none;flex-grow:0;flex-shrink:0;width:auto;height:auto;margin-left:var(--padding-tiny);margin-right:0}.bookmark-outline-single-container .bookmark-outline-more-button .Icon{width:14px;height:14px}.bookmark-outline-single-container .bookmark-outline-editing-controls{flex-basis:100%;display:flex;flex-flow:row wrap;justify-content:flex-end;align-items:center;margin-top:var(--padding-medium)}.bookmark-outline-single-container .bookmark-outline-cancel-button,.bookmark-outline-single-container .bookmark-outline-save-button{width:auto;padding:6px var(--padding)}.bookmark-outline-single-container .bookmark-outline-cancel-button{color:var(--secondary-button-text)}.bookmark-outline-single-container .bookmark-outline-cancel-button:hover{color:var(--secondary-button-hover)}.bookmark-outline-single-container .bookmark-outline-save-button{color:var(--primary-button-text);background-color:var(--primary-button);margin-left:var(--padding-tiny);border-radius:4px}.bookmark-outline-single-container .bookmark-outline-save-button:hover{background-color:var(--primary-button-hover)}.bookmark-outline-single-container .bookmark-outline-save-button.disabled,.bookmark-outline-single-container .bookmark-outline-save-button:disabled{background-color:var(--primary-button)!important;opacity:.5}.bookmark-outline-footer{border-top:1.5px solid var(--border);padding-top:var(--padding-medium);padding-bottom:var(--padding-medium);display:flex;justify-content:center;align-items:center}.bookmark-outline-footer .add-new-button .Icon{width:14px;height:14px;margin-right:var(--padding-tiny);color:inherit;fill:currentColor}.bookmark-outline-footer .add-new-button.disabled .Icon.disabled,.bookmark-outline-footer .add-new-button.disabled .Icon.disabled path,.bookmark-outline-footer .add-new-button[disabled] .Icon.disabled,.bookmark-outline-footer .add-new-button[disabled] .Icon.disabled path{color:inherit;fill:currentColor}.bookmark-outline-footer .multi-selection-button{width:auto;padding:7px}.bookmark-outline-footer .multi-selection-button .Icon{width:18px;height:18px}.bookmark-outline-footer .multi-selection-button:not(:first-child){margin-left:var(--padding-tiny)}.bookmark-outline-footer .multi-selection-button:hover{background-color:var(--view-header-button-hover)}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./BookmarksPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.BookmarksPanel{display:flex;flex-direction:column;flex:1}.BookmarksPanel .bookmark-switch{-webkit-font-smoothing:antialiased;margin-top:var(--padding-medium);padding-left:4px}.BookmarksPanel .bookmark-switch label{font-size:11px}.BookmarksPanel .bookmark-outline-single-container{margin-top:var(--padding-medium)}.BookmarksPanel .msg-no-bookmark-outline{margin-top:var(--padding)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./FileAttachmentPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.no-attachment{display:flex;flex-direction:column;align-items:center}.no-attachment .msg{text-align:center}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .no-attachment .msg{line-height:15px;width:92px}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .no-attachment .msg{line-height:15px;width:92px}}.no-attachment .empty-icon,.no-attachment .empty-icon svg{width:65px;height:83px}.no-attachment .empty-icon *{fill:var(--gray-5);color:var(--gray-5)}.fileAttachmentPanel .section{margin-bottom:10px}.fileAttachmentPanel .section p.title{margin-left:16px}.fileAttachmentPanel .section ul.downloadable>li{cursor:pointer;color:var(--secondary-button-text);width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.fileAttachmentPanel .section ul.downloadable .embedSpinner{display:flex;flex-direction:row;justify-content:space-between}.fileAttachmentPanel .section ul.downloadable .embedSpinner .spinner{margin:0}.fileAttachmentPanel .section ul ul{padding-left:10px;list-style-type:none}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./ThumbnailControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnailControls-overlay{display:grid;text-align:center;z-index:2;margin-top:5px;grid-template-areas:\\\"rotate delete . more\\\";grid-template-columns:repeat(3,1fr)}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.thumbnailControls-overlay{display:flex}}.thumbnailControls-overlay .Button{height:32px;padding:0;width:32px}.thumbnailControls-overlay .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls-overlay .Button:hover{background:var(--view-header-button-hover);border-radius:4px}.thumbnailControls-overlay .Button.active{background:var(--view-header-button-active)}.thumbnailControls-overlay .Button.active .Icon{color:var(--selected-icon-color)}.thumbnailControls-overlay .rotate-button{grid-area:rotate}.thumbnailControls-overlay .delete-button{grid-area:delete}.thumbnailControls-overlay .more-options{grid-area:more}.thumbnailControls-overlay.custom-buttons .Button{grid-area:auto}.thumbnailControls{display:flex;flex-direction:row;text-align:center;z-index:2;margin-top:5px}.thumbnailControls .Button{height:32px;padding:0;width:32px;margin:0 4px}.thumbnailControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Thumbnail.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.Thumbnail{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;cursor:pointer}.Thumbnail.active .container .page-image{border:2px solid var(--focus-border);box-shadow:none;box-sizing:content-box}.Thumbnail .container{position:relative;display:flex;justify-content:center;align-items:center;cursor:pointer}.Thumbnail .container .page-image{box-shadow:0 0 3px 0 var(--box-shadow)}.Thumbnail .container .annotation-image,.Thumbnail .container .page-image{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.Thumbnail .container .checkbox{position:absolute;border-radius:4px;z-index:4}.Thumbnail .container .default{top:3%;right:15%}.Thumbnail .container .rotated{top:15%;right:3%}.Thumbnail .page-label{margin-top:11px}.Thumbnail.selected .container .thumbnail:before{color:#fff;background:var(--focus-border);width:16px;height:16px;position:absolute;z-index:10}.Thumbnail.selected .container canvas{background:hsla(0,0%,100%,.6)}.Thumbnail.active .page-label{color:var(--focus-border)!important}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.documentControlsContainer .PageControlContainer{display:flex;background-color:var(--gray-2);justify-content:center;align-content:center;margin:0 8px 0 16px;border-radius:4px}.documentControlsContainer .PageControlContainer .dropdown-menu{position:relative}.documentControlsContainer .PageControlContainer .dropdown-menu .indicator{position:absolute;bottom:1px;right:1px;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid #c4c4c4;transform:rotateY(0deg) rotate(315deg)}.documentControlsContainer .PageControlContainer button .Icon{height:21px;width:21px;color:var(--icon-color)}.documentControlsContainer .PageControlContainer .button-hover:hover{background:var(--view-header-button-hover);border-radius:4px}.documentControlsContainer .PageControlContainer .divider{height:20px;width:1px;background:var(--divider);margin:6px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./DocumentControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.documentControls{display:flex;flex-direction:column}.documentControls .divider{height:1px;background:var(--divider);margin:16px 8px 8px 16px}.documentControls .documentControlsInput{display:flex;flex-direction:row;padding:8px 8px 16px 16px}.documentControls .documentControlsInput .pagesInput{width:100%;height:30px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding:4px 8px}.documentControls .documentControlsInput .pagesInput:focus{outline:none;border:1px solid var(--focus-border)}.documentControls .documentControlsInput .pagesInput::-moz-placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .pagesInput:-ms-input-placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .pagesInput::placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .documentControlsButton{display:flex;flex-direction:row;padding-left:2px}.documentControls .documentControlsInput .documentControlsButton .Button{height:30px;padding:0;width:30px;margin:0 4px}.documentControls .documentControlsInput .documentControlsButton .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.documentControls .documentControlsInput .documentControlsButton .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./ThumbnailsPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnail-slider-container{display:flex;align-items:center;width:230px;margin:0 auto}.thumbnail-slider-container .thumbnail-slider{width:100%;height:20px;padding:0;color:transparent;background-color:transparent;border:0 transparent}.thumbnail-slider-container input[type=range]{-webkit-appearance:none;margin:10px 0;width:100%}.thumbnail-slider-container input[type=range]:focus{outline:none;box-shadow:0 0 5px var(--focus-border)}.thumbnail-slider-container input[type=range]::-webkit-slider-runnable-track{width:100%;height:3px;cursor:pointer;animate:.2s;box-shadow:0 0 0 #000;background:var(--slider-filled);border-radius:5px;border:0 solid #000}.thumbnail-slider-container input[type=range]::-webkit-slider-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50px;background:var(--slider-filled);cursor:pointer;-webkit-appearance:none;margin-top:-5px}.thumbnail-slider-container input[type=range]:focus::-webkit-slider-runnable-track{background:var(--slider-filled)}.thumbnail-slider-container input[type=range]::-moz-range-track{width:100%;height:3px;cursor:pointer;animate:.2s;box-shadow:0 0 0 #000;background:var(--slider-filled);border-radius:5px;border:0 solid #000}.thumbnail-slider-container input[type=range]::-moz-range-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50px;background:var(--slider-filled);cursor:pointer}.thumbnail-slider-container input[type=range]::-ms-track{padding:5px 0 0;width:100%;height:3px;background:transparent;border-color:transparent;color:transparent;cursor:pointer;border-width:6px 0;animate:.2s}.thumbnail-slider-container input[type=range]::-ms-fill-lower,.thumbnail-slider-container input[type=range]::-ms-fill-upper{background:var(--slider-filled);border:0 solid #000;border-radius:10px;box-shadow:0 0 0 #000}.thumbnail-slider-container input[type=range]::-ms-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50%;background:var(--slider-filled);cursor:pointer}.thumbnail-slider-container input[type=range]:focus::-ms-fill-lower,.thumbnail-slider-container input[type=range]:focus::-ms-fill-upper{background:var(--slider-filled)}.thumbnail-slider-container Button{width:15px;height:15px;margin:2.5px;padding-top:6px}.thumbnail-slider-container Button:hover{background:var(--view-header-button-hover);border-radius:4px}.ThumbnailsPanel{overflow:hidden!important;display:flex;height:100%}.ThumbnailsPanel #virtualized-thumbnails-container{flex:1}.ThumbnailsPanel .row{display:flex;justify-content:space-around;align-items:center;flex-direction:column}.ThumbnailsPanel .thumbnailPlaceholder{width:150px;margin:2px;border:1px solid var(--focus-border)}.ThumbnailsPanel .columnsOfThumbnails.row{display:flex;justify-content:left;align-items:center;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .cellThumbContainer{display:flex;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .Thumbnail{display:inline-flex}.ThumbnailsPanel .columnsOfThumbnails .thumbnailPlaceholder{width:116px;min-width:116px;height:150px;margin-bottom:30px}.thumbnailAutoScrollArea{position:absolute;width:calc(100% - 55px);z-index:10;background:hsla(0,0%,100%,0)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport selectors from 'selectors';\n\nimport './Element.scss';\n\nclass Element extends React.PureComponent {\n  static propTypes = {\n    isDisabled: PropTypes.bool,\n    className: PropTypes.string.isRequired,\n    dataElement: PropTypes.string.isRequired,\n    children: PropTypes.node,\n  }\n\n  render() {\n    const { isDisabled, className, dataElement, children } = this.props;\n\n    if (isDisabled) {\n      return null;\n    }\n\n    return (\n      <div className={className} data-element={dataElement}>\n        {children}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  isDisabled: selectors.isElementDisabled(state, ownProps.dataElement),\n});\n\nexport default connect(mapStateToProps)(Element);","import Element from './Element';\n\nexport default Element;","import React, { useContext, useState, useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport OutlineContext from 'components/Outline/Context';\n\nimport core from 'core';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport selectors from 'selectors';\n\nimport './OutlineControls.scss';\nimport DataElements from 'src/constants/dataElement';\n\nconst OutlineControls = () => {\n  const outlines = useSelector((state) => selectors.getOutlines(state));\n  const {\n    activeOutlinePath,\n    setActiveOutlinePath,\n    updateOutlines\n  } = useContext(OutlineContext);\n  const [canMove, setCanMove] = useState({ up: false, down: false, outward: false, inward: false });\n  const nextIndexRef = useRef(null);\n  const [t] = useTranslation();\n\n  useEffect(() => {\n    if (!core.isFullPDFEnabled()) {\n      return;\n    }\n\n    const setCanMoveState = async () => {\n      setCanMove(await outlineUtils.getCanMoveState(activeOutlinePath));\n    };\n\n    setCanMoveState();\n  }, [activeOutlinePath]);\n\n  useEffect(() => {\n    if (nextIndexRef.current !== null) {\n      setActiveOutlinePath(nextIndexRef.current);\n      nextIndexRef.current = null;\n    }\n  }, [outlines, setActiveOutlinePath]);\n\n  const moveOutlineUp = async () => {\n    const nextIndex = await outlineUtils.moveOutlineUp(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineDown = async () => {\n    const nextIndex = await outlineUtils.moveOutlineDown(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineOutward = async () => {\n    const nextIndex = await outlineUtils.moveOutlineOutward(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineInward = async () => {\n    const nextIndex = await outlineUtils.moveOutlineInward(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  return (\n    <DataElementWrapper\n      className=\"OutlineControls\"\n      dataElement={DataElements.OUTLINE_CONTROLS}\n    >\n      <span className=\"reorderText\">\n        {t('option.bookmarkOutlineControls.reorder')}\n      </span>\n      <Button\n        img=\"icon-arrow-up\"\n        disabled={!canMove.up}\n        onClick={moveOutlineUp}\n        dataElement={DataElements.OUTLINE_MOVE_UP_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-down\"\n        disabled={!canMove.down}\n        onClick={moveOutlineDown}\n        dataElement={DataElements.OUTLINE_MOVE_DOWN_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-left\"\n        disabled={!canMove.outward}\n        onClick={moveOutlineOutward}\n        dataElement={DataElements.OUTLINE_MOVE_OUTWARD_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-right\"\n        disabled={!canMove.inward}\n        onClick={moveOutlineInward}\n        dataElement={DataElements.OUTLINE_MOVE_INWARD_BUTTON}\n      />\n    </DataElementWrapper>\n  );\n};\n\nexport default OutlineControls;\n","import OutlineControls from './OutlineControls';\n\nexport default OutlineControls;","import React, { useState, useCallback, useContext, useEffect, useLayoutEffect, forwardRef, useImperativeHandle, useRef } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DragSource, DropTarget } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { ItemTypes, DropLocation, BUFFER_ROOM } from 'constants/dnd';\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport Events from 'constants/events';\nimport fireEvent from 'helpers/fireEvent';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport { isMobile, isIE } from 'helpers/device';\nimport OutlineContext from './Context';\nimport OutlineContent from 'src/components/OutlineContent';\nimport DataElementWrapper from '../DataElementWrapper';\nimport Choice from '../Choice';\nimport Button from '../Button';\n\nimport './Outline.scss';\n\nconst propTypes = {\n  outline: PropTypes.object.isRequired,\n  setMultiSelected: PropTypes.func,\n  moveOutlineInward: PropTypes.func.isRequired,\n  moveOutlineBeforeTarget: PropTypes.func.isRequired,\n  moveOutlineAfterTarget: PropTypes.func.isRequired,\n  connectDragSource: PropTypes.func,\n  connectDragPreview: PropTypes.func,\n  connectDropTarget: PropTypes.func,\n  isDragging: PropTypes.bool,\n  isDraggedUpwards: PropTypes.bool,\n  isDraggedDownwards: PropTypes.bool,\n};\n\nconst Outline = forwardRef(\n  function Outline(\n    {\n      outline,\n      setMultiSelected,\n      isDragging,\n      isDraggedUpwards,\n      isDraggedDownwards,\n      connectDragSource,\n      connectDragPreview,\n      connectDropTarget,\n      moveOutlineInward,\n      moveOutlineBeforeTarget,\n      moveOutlineAfterTarget\n    },\n    ref\n  ) {\n    const outlines = useSelector((state) => selectors.getOutlines(state));\n    const {\n      setActiveOutlinePath,\n      activeOutlinePath,\n      isOutlineActive,\n      setAddingNewOutline,\n      isAddingNewOutline,\n      isAnyOutlineRenaming,\n      isMultiSelectMode,\n      shouldAutoExpandOutlines,\n      isOutlineEditable,\n      selectedOutlines,\n      updateOutlines,\n    } = useContext(OutlineContext);\n\n    const outlinePath = outlineUtils.getPath(outline);\n\n    const [isExpanded, setIsExpanded] = useState(shouldAutoExpandOutlines);\n    const [isSelected, setIsSelected] = useState(selectedOutlines.includes(outlinePath));\n    const [isRenaming, setIsRenaming] = useState(false);\n    const [isChangingDest, setChangingDest] = useState(false);\n    const [isHovered, setHovered] = useState(false); // when the popup menu is open, the container will have a background\n    const [clearSingleClick, setClearSingleClick] = useState(undefined);\n\n    const dispatch = useDispatch();\n\n    const elementRef = useRef(null);\n    connectDragSource(elementRef);\n    connectDragPreview(getEmptyImage(), { captureDraggingState: true });\n    connectDropTarget(elementRef);\n    const opacity = isDragging ? 0.5 : 1;\n    useImperativeHandle(ref, () => ({\n      getNode: () => elementRef.current,\n    }));\n\n    useEffect(() => {\n      const shouldExpandOutline =\n        activeOutlinePath !== null\n        && activeOutlinePath !== outlinePath\n        && activeOutlinePath.startsWith(outlinePath);\n      if (shouldExpandOutline) {\n        setIsExpanded(true);\n      }\n    }, [activeOutlinePath, isAddingNewOutline, outline]);\n\n    useLayoutEffect(() => {\n      setIsExpanded(shouldAutoExpandOutlines);\n    }, [shouldAutoExpandOutlines]);\n\n    useLayoutEffect(() => {\n      setIsRenaming(false);\n      setChangingDest(false);\n    }, [outlines]);\n\n    useEffect(() => {\n      setIsSelected(selectedOutlines.includes(outlinePath));\n    }, [selectedOutlines]);\n\n    const toggleOutline = useCallback(() => {\n      setIsExpanded((expand) => !expand);\n    }, []);\n\n    const onSingleClick = useCallback(() => {\n      core.goToOutline(outline);\n\n      outlinePath === activeOutlinePath\n        ? setActiveOutlinePath(null)\n        : setActiveOutlinePath(outlinePath);\n\n\n      if (isAddingNewOutline) {\n        setAddingNewOutline(false);\n        updateOutlines();\n      }\n\n      if (isMobile()) {\n        dispatch(actions.closeElement('leftPanel'));\n      }\n    }, [dispatch, setActiveOutlinePath, activeOutlinePath, isAddingNewOutline, outline]);\n\n    const isActive = isOutlineActive(outline);\n\n    const convertRgbObjectToRgbString = (rgbObject) => {\n      const rValue = rgbObject['r'] * 255;\n      const gValue = rgbObject['g'] * 255;\n      const bValue = rgbObject['b'] * 255;\n      return `rgb(${rValue}, ${gValue}, ${bValue})`;\n    };\n\n    return (\n      <div\n        ref={(!isAddingNewOutline && !isAnyOutlineRenaming && isMultiSelectMode && isOutlineEditable) ? elementRef : null}\n        className=\"outline-drag-container\"\n        style={{ opacity }}\n      >\n        <div className=\"outline-drag-line\" style={{ opacity: isDraggedUpwards ? 1 : 0 }} />\n        <DataElementWrapper\n          className={classNames({\n            'bookmark-outline-single-container': true,\n            'editing': isRenaming || isChangingDest,\n            'default': !isRenaming && !isChangingDest,\n            'selected': isActive,\n            'hover': isHovered && !isActive,\n          })}\n          tabIndex={0}\n          onKeyDown={(e) => e.key === 'Enter' && onSingleClick()}\n          onClick={(e) => {\n            if (!isRenaming && !isChangingDest && e.detail === 1) {\n              setClearSingleClick(setTimeout(onSingleClick, 300));\n            }\n          }}\n          onDoubleClick={() => {\n            if (!isRenaming && !isChangingDest) {\n              clearTimeout(clearSingleClick);\n            }\n          }}\n        >\n          {isMultiSelectMode &&\n            <Choice\n              type=\"checkbox\"\n              className=\"bookmark-outline-checkbox\"\n              id={`outline-checkbox-${outlinePath}`}\n              checked={isSelected}\n              onClick={(e) => e.stopPropagation()}\n              onChange={(e) => {\n                setIsSelected(e.target.checked);\n                setMultiSelected(outlinePath, e.target.checked);\n              }}\n            />\n          }\n\n          <div\n            className={classNames({\n              'outline-treeview-toggle': true,\n              expanded: isExpanded,\n            })}\n            style={{ marginLeft: outlineUtils.getNestedLevel(outline) * 12 }}\n          >\n            {outline.getChildren().length > 0 &&\n              <Button\n                img=\"icon-chevron-right\"\n                tabIndex={0}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  toggleOutline();\n                }}\n              />\n            }\n          </div>\n\n          <OutlineContent\n            text={outline.getName()}\n            outlinePath={outlinePath}\n            isOutlineRenaming={isRenaming}\n            setOutlineRenaming={setIsRenaming}\n            isOutlineChangingDest={isChangingDest}\n            setOutlineChangingDest={setChangingDest}\n            setIsHovered={setHovered}\n            textColor={outline.color ? convertRgbObjectToRgbString(outline.color) : null}\n          />\n        </DataElementWrapper>\n\n        <div className=\"outline-drag-line\" style={{ opacity: isDraggedDownwards ? 1 : 0 }} />\n\n        {isExpanded &&\n          outline.getChildren().map((child) => (\n            <OutlineNested\n              outline={child}\n              key={outlineUtils.getOutlineId(child)}\n              setMultiSelected={setMultiSelected}\n              moveOutlineInward={moveOutlineInward}\n              moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n              moveOutlineAfterTarget={moveOutlineAfterTarget}\n            />\n          ))\n        }\n        {isAddingNewOutline && isActive && (\n          <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n            <div\n              className=\"outline-treeview-toggle\"\n              style={{ marginLeft: outlineUtils.getNestedLevel(outline) * 12 }}\n            ></div>\n            <OutlineContent\n              isAdding={true}\n              text={''}\n              onCancel={() => setAddingNewOutline(false)}\n            />\n          </DataElementWrapper>\n        )}\n      </div>\n    );\n  }\n);\n\nOutline.propTypes = propTypes;\n\nconst OutlineNested = DropTarget(\n  ItemTypes.OUTLINE,\n  {\n    hover(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n\n      const dragObject = dropTargetMonitor.getItem();\n      if (!dragObject) {\n        return;\n      }\n\n      const { dragOutline, dragSourceNode } = dragObject;\n      const { outline: dropOutline } = props;\n\n      const dropTargetNode = dropTargetContainer.getNode();\n      if (!dragSourceNode || !dropTargetNode) {\n        return;\n      }\n\n      const outlineIsBeingDraggedIntoDescendant = dragSourceNode.contains(dropTargetNode);\n      if (outlineIsBeingDraggedIntoDescendant) {\n        dragObject.dropTargetNode = undefined;\n        dragObject.dropLocation = DropLocation.INITIAL;\n        return;\n      }\n\n      dragObject.dropTargetNode = dropTargetNode;\n      const dragIndex = dragOutline.index;\n      const hoverIndex = dropOutline.index;\n      if (dragOutline.parent === dropOutline.parent && dragIndex === hoverIndex) {\n        return;\n      }\n\n      const dropTargetBoundingRect = dropTargetNode.getBoundingClientRect();\n      const dropTargetVerticalMiddlePoint = (dropTargetBoundingRect.bottom - dropTargetBoundingRect.top) / 2;\n      const clientOffset = dropTargetMonitor.getClientOffset();\n      const dropTargetClientY = clientOffset.y - dropTargetBoundingRect.top;\n      switch (true) {\n        case dropTargetClientY <= dropTargetVerticalMiddlePoint + BUFFER_ROOM && dropTargetClientY >= dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT;\n          if (dropTargetMonitor.isOver({ shallow: true })) {\n            dropTargetNode.classList.add('isNesting');\n          }\n          setTimeout(() => {\n            if (dragObject?.dropTargetNode !== dropTargetNode) {\n              dropTargetNode.classList.remove('isNesting');\n            }\n          }, 100);\n          break;\n        case dropTargetClientY > dropTargetVerticalMiddlePoint + BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.BELOW_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        case dropTargetClientY < dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ABOVE_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        default:\n          dragObject.dropLocation = DropLocation.INITIAL;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n      }\n      fireEvent(Events.DRAG_OUTLINE,\n        {\n          targetOutline: dropOutline,\n          draggedOutline: dragObject.dragOutline,\n          dropLocation: dragObject.dropLocation\n        }\n      );\n    },\n    drop(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n      const dragObject = dropTargetMonitor.getItem();\n      const { dragOutline, dropTargetNode } = dragObject;\n      const { outline: dropOutline, moveOutlineInward, moveOutlineBeforeTarget, moveOutlineAfterTarget } = props;\n\n      if (!dropTargetNode) {\n        return;\n      }\n\n      switch (dragObject.dropLocation) {\n        case DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT:\n          moveOutlineInward(dragOutline, dropOutline);\n          break;\n        case DropLocation.ABOVE_TARGET:\n          moveOutlineBeforeTarget(dragOutline, dropOutline);\n          break;\n        case DropLocation.BELOW_TARGET:\n          moveOutlineAfterTarget(dragOutline, dropOutline);\n          break;\n        default:\n          break;\n      }\n      dropTargetNode.classList.remove('isNesting');\n      fireEvent(Events.DROP_OUTLINE,\n        {\n          targetOutline: dropOutline,\n          draggedOutline: dragOutline,\n          dropLocation: dragObject.dropLocation\n        }\n      );\n      dragObject.dropLocation = DropLocation.INITIAL;\n    }\n  },\n  (connect, dropTargetState) => ({\n    connectDropTarget: connect.dropTarget(),\n    isDraggedUpwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.ABOVE_TARGET),\n    isDraggedDownwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.BELOW_TARGET),\n  })\n)(DragSource(\n  ItemTypes.OUTLINE,\n  {\n    beginDrag: (props, dragSourceMonitor, dragSourceContainer) => ({\n      sourceId: dragSourceMonitor.sourceId,\n      dragOutline: props.outline,\n      dragSourceNode: dragSourceContainer.getNode(),\n      dropLocation: DropLocation.INITIAL,\n    }),\n    canDrag() {\n      if (isIE) {\n        console.warn('Drag and drop outlines for IE11 is not supported');\n        return false;\n      }\n      if (!core.isFullPDFEnabled()) {\n        console.warn('Full API must be enabled to drag and drop outlines');\n        return false;\n      }\n      return true;\n    }\n  },\n  (connect, dragSourceState) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: dragSourceState.isDragging(),\n  })\n)(Outline));\n\nOutlineNested.propTypes = propTypes;\n\nexport default OutlineNested;\n","import Outline from './Outline';\n\nexport default Outline;\n","import React from 'react';\nimport ToggleElementButton from '../ToggleElementButton';\nimport { useDispatch, useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport DataElements from 'constants/dataElement';\n\nfunction PageManipulationOverlayButtonContainer(props) {\n  const { className, pageIndex } = props;\n\n  const dispatch = useDispatch();\n  const selectedPageIndexes = useSelector((state) => selectors.getSelectedThumbnailPageIndexes(state));\n\n  const onClickPageManipulationOverlayButton = () => {\n    if (selectedPageIndexes.indexOf(pageIndex) === -1) {\n      dispatch(actions.setSelectedPageThumbnails([pageIndex]));\n    }\n  };\n\n  return (\n    <div\n      className={className}\n      onClick={onClickPageManipulationOverlayButton}\n    >\n      <ToggleElementButton\n        dataElement={DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON}\n        element={DataElements.PAGE_MANIPULATION_OVERLAY}\n        img=\"icon-tool-more\"\n        title=\"option.thumbnailPanel.moreOptions\"\n      />\n    </div>\n  );\n}\n\nexport default PageManipulationOverlayButtonContainer;","import PageManipulationOverlayButton from './PageManipulationOverlayButtonContainer';\n\nexport default PageManipulationOverlayButton;","import React from 'react';\nimport { useDispatch, shallowEqual, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { deletePages, rotateClockwise, rotateCounterClockwise } from 'helpers/pageManipulationFunctions';\nimport Button from 'components/Button';\nimport selectors from 'selectors';\nimport './ThumbnailControls.scss';\nimport PageManipulationOverlayButton from 'components/PageManipulationOverlayButton';\nimport { workerTypes } from 'constants/types';\nimport core from 'src/core';\nimport DataElements from 'constants/dataElement';\nimport { useTranslation } from 'react-i18next';\n\nconst propTypes = {\n  index: PropTypes.number.isRequired,\n};\n\nconst dataElementName = 'thumbnailControl';\n\nconst ThumbnailControls = ({ index }) => {\n  const { t } = useTranslation();\n  const [isElementDisabled] = useSelector((state) => [selectors.isElementDisabled(state, dataElementName)]);\n  const [isMoreOptionDisabled] = useSelector((state) => [selectors.isElementDisabled(state, DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON)]);\n  const [isPageDeletionConfirmationModalEnabled, selectedIndexes] = useSelector((state) => [\n    selectors.pageDeletionConfirmationModalEnabled(state),\n    selectors.getSelectedThumbnailPageIndexes(state),\n  ]);\n  const dispatch = useDispatch();\n\n  const [\n    currentPage,\n    pageThumbnailControlMenuItems,\n  ] = useSelector((state) => [\n    selectors.getCurrentPage(state),\n    selectors.getThumbnailControlMenuItems(state),\n  ], shallowEqual);\n\n  let pageNumbers = selectedIndexes.length > 0 ? selectedIndexes.map((i) => i + 1) : [index + 1];\n\n  const isCurrentPageInTheSelection = pageNumbers.includes(currentPage);\n\n  if (!isCurrentPageInTheSelection) {\n    pageNumbers = [currentPage];\n  }\n\n  const document = core.getDocument();\n  const documentType = document?.type;\n  const isXod = documentType === workerTypes.XOD;\n  const isOffice = documentType === workerTypes.OFFICE || documentType === workerTypes.LEGACY_OFFICE;\n\n  const BUTTONS_MAP = {\n    'thumbRotateClockwise': <Button\n      className=\"rotate-button\"\n      img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n      onClick={() => rotateClockwise(pageNumbers)}\n      title=\"option.thumbnailPanel.rotatePageClockwise\"\n      dataElement=\"thumbRotateClockwise\"\n    />,\n    'thumbRotateCounterClockwise': <Button\n      img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n      onClick={() => rotateCounterClockwise(pageNumbers)}\n      title=\"option.thumbnailPanel.rotatePageCounterClockwise\"\n      dataElement=\"thumbRotateCounterClockwise\"\n    />,\n    'thumbDelete': <Button\n      className=\"delete-button\"\n      img=\"icon-delete-line\"\n      onClick={() => deletePages(pageNumbers, dispatch, isPageDeletionConfirmationModalEnabled)}\n      title=\"option.thumbnailPanel.delete\"\n      dataElement=\"thumbDelete\"\n      onClickAnnouncement={`${t('action.delete')} ${t('action.modal')} ${t('action.isOpen')}`}\n    />,\n  };\n  let isCustomized = false;\n  const occurredButtons = [];\n  const buttons = pageThumbnailControlMenuItems.map((item) => {\n    const { dataElement } = item;\n    const key = dataElement;\n    let component = BUTTONS_MAP[dataElement];\n    if (occurredButtons.indexOf(dataElement) > -1) {\n      return null;\n    }\n    occurredButtons.push(dataElement);\n\n    /* Example button object:\n    {\n      title: 'Alert me',\n      img: '/path-to-image',\n      onClick: (selectedPageNumbers) => alert(``),\n      dataElement: 'alertMeDataElement',\n    } */\n    if (!component) {\n      isCustomized = true;\n      const { img, onClick, title } = item;\n      component = <Button\n        className={`${dataElement}-button`}\n        img={img}\n        onClick={() => onClick(currentPage)}\n        title={title}\n        dataElement={dataElement}\n      />;\n    }\n\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n\n  if (isElementDisabled) {\n    return null;\n  } if (isXod || isOffice || document?.isWebViewerServerDocument()) {\n    return (\n      <div className=\"thumbnailControls-overlay\" data-element={dataElementName}\n        style={{ display: 'flex' }}\n      >\n        <Button\n          img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n          onClick={() => rotateCounterClockwise(pageNumbers)}\n          title=\"option.thumbnailPanel.rotatePageCounterClockwise\"\n          dataElement=\"thumbRotateCounterClockwise\"\n        />\n        <Button\n          img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n          onClick={() => rotateClockwise(pageNumbers)}\n          title=\"option.thumbnailPanel.rotatePageClockwise\"\n          dataElement=\"thumbRotateClockwise\"\n        />\n      </div>\n    );\n  }\n  return (\n    <div className={classNames({\n      'thumbnailControls-overlay': true,\n      'custom-buttons': isCustomized,\n    })}\n    data-element={dataElementName}\n    >\n      {buttons}\n      {\n        (isMoreOptionDisabled) ? null : <PageManipulationOverlayButton\n          className={'more-options'}\n          pageIndex={index}\n        />\n      }\n\n    </div>\n  );\n};\n\n\nThumbnailControls.propTypes = propTypes;\n\nexport default ThumbnailControls;\n","import ThumbnailControls from './ThumbnailControls';\n\nexport default ThumbnailControls;\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport useDidUpdate from 'hooks/useDidUpdate';\nimport core from 'core';\nimport ThumbnailControls from 'components/ThumbnailControls';\nimport thumbnailSelectionModes from 'constants/thumbnailSelectionModes';\n\nimport './Thumbnail.scss';\nimport { Choice } from '@pdftron/webviewer-react-toolkit';\nimport getRootNode from 'helpers/getRootNode';\n\n// adds a delay in ms so thumbs that are only on the screen briefly are not loaded.\nconst THUMBNAIL_LOAD_DELAY = 50;\n\nconst Thumbnail = ({\n  index,\n  isSelected,\n  updateAnnotations,\n  shiftKeyThumbnailPivotIndex,\n  onFinishLoading,\n  onLoad,\n  onRemove = () => { },\n  onDragStart,\n  onDragOver,\n  isDraggable,\n  shouldShowControls,\n  thumbnailSize,\n  currentPage,\n  pageLabels = [],\n  selectedPageIndexes,\n  isThumbnailMultiselectEnabled,\n  isReaderModeOrReadOnly,\n  dispatch,\n  actions,\n  isMobile,\n  canLoad,\n  onCancel,\n  isThumbnailSelectingPages,\n  thumbnailSelectionMode,\n  activeDocumentViewerKey,\n  panelSelector\n}) => {\n  const thumbSize = thumbnailSize ? Number(thumbnailSize) : 150;\n\n  const [dimensions, setDimensions] = useState({ width: thumbSize, height: thumbSize });\n  // To ensure checkmark loads after thumbnail\n  const [loaded, setLoaded] = useState(false);\n\n  let loadTimeout = null;\n\n  const loadThumbnailAsync = () => {\n    loadTimeout = setTimeout(() => {\n      const thumbnailContainer = getRootNode().querySelector(`.ThumbnailsPanel.${panelSelector} #pageThumb${index}`);\n\n      const pageNum = index + 1;\n      const viewerRotation = core.getRotation(pageNum);\n\n      const doc = core.getDocument(activeDocumentViewerKey);\n      // Possible race condition can happen where we try to render a thumbnail for a page that has\n      // been deleted. Prevent that by checking if pageInfo exists\n\n      if (doc && doc.getPageInfo(pageNum)) {\n        const id = doc.loadCanvas({\n          pageNumber: pageNum,\n          width: thumbSize,\n          height: thumbSize,\n          drawComplete: async (thumb) => {\n            const thumbnailContainer = getRootNode().querySelector(`.ThumbnailsPanel.${panelSelector} #pageThumb${index}`);\n            if (thumbnailContainer) {\n              const childElement = thumbnailContainer.querySelector('.page-image');\n              if (childElement) {\n                thumbnailContainer.removeChild(childElement);\n              }\n\n              thumb.className = 'page-image';\n\n              const ratio = Math.min(thumbSize / thumb.width, thumbSize / thumb.height);\n              thumb.style.width = `${thumb.width * ratio}px`;\n              thumb.style.height = `${thumb.height * ratio}px`;\n              setDimensions({ width: Number(thumb.width), height: Number(thumb.height) });\n\n              if (Math.abs(viewerRotation)) {\n                const cssTransform = `rotate(${viewerRotation * 90}deg) translate(-50%,-50%)`;\n                const cssTransformOrigin = 'top left';\n                thumb.style['transform'] = cssTransform;\n                thumb.style['transform-origin'] = cssTransformOrigin;\n                thumb.style['ms-transform'] = cssTransform;\n                thumb.style['ms-transform-origin'] = cssTransformOrigin;\n                thumb.style['-moz-transform'] = cssTransform;\n                thumb.style['-moz-transform-origin'] = cssTransformOrigin;\n                thumb.style['-webkit-transform-origin'] = cssTransformOrigin;\n                thumb.style['-webkit-transform'] = cssTransform;\n                thumb.style['-o-transform'] = cssTransform;\n                thumb.style['-o-transform-origin'] = cssTransformOrigin;\n              }\n\n              thumbnailContainer.appendChild(thumb);\n            }\n\n            if (updateAnnotations) {\n              updateAnnotations(index);\n            }\n\n            onFinishLoading(index);\n            setLoaded(true);\n          },\n          allowUseOfOptimizedThumbnail: true,\n        });\n        onLoad(index, thumbnailContainer, id);\n      }\n    }, THUMBNAIL_LOAD_DELAY);\n  };\n\n  useEffect(() => {\n    const onPagesUpdated = (changes) => {\n      const { contentChanged, moved, added, removed } = changes;\n\n      const currentPage = index + 1;\n\n      const isPageAdded = added.includes(currentPage);\n      const didPageChange = contentChanged.some((changedPage) => currentPage === changedPage);\n      const didPageMove = Object.keys(moved).some((movedPage) => currentPage === parseInt(movedPage));\n      const isPageRemoved = removed.includes(currentPage);\n      const newPageCount = core.getTotalPages();\n\n      if (removed.length > 0 && index + 1 > newPageCount) {\n        return;\n      }\n\n      if (isPageAdded || didPageChange || didPageMove || isPageRemoved) {\n        loadThumbnailAsync();\n      }\n    };\n\n    const onRotationUpdated = () => {\n      setLoaded(false);\n      loadThumbnailAsync();\n    };\n\n    core.addEventListener('pagesUpdated', onPagesUpdated);\n    core.addEventListener('rotationUpdated', onRotationUpdated);\n    if (canLoad) {\n      loadThumbnailAsync();\n    }\n    return () => {\n      core.removeEventListener('pagesUpdated', onPagesUpdated);\n      core.removeEventListener('rotationUpdated', onRotationUpdated);\n      clearTimeout(loadTimeout);\n      onRemove(index);\n    };\n  }, []);\n\n  useDidUpdate(() => {\n    if (canLoad) {\n      loadThumbnailAsync();\n      updateAnnotations(index);\n    } else {\n      onCancel(index);\n    }\n  }, [canLoad, activeDocumentViewerKey]);\n\n  const handleClick = (e) => {\n    const checkboxToggled = e.target.type && e.target.type === 'checkbox';\n    if (isThumbnailMultiselectEnabled && !isReaderModeOrReadOnly) {\n      const multiSelectionKeyPressed = e.ctrlKey || e.metaKey;\n      const shiftKeyPressed = e.shiftKey;\n      let updatedSelectedPages = [...selectedPageIndexes];\n\n      if (shiftKeyPressed) {\n        dispatch(actions.setThumbnailSelectingPages(true));\n        // Include current page as part of selection if we just started shift-selecting\n        let shiftKeyPivot = shiftKeyThumbnailPivotIndex;\n        if (shiftKeyPivot === null) {\n          shiftKeyPivot = currentPage - 1;\n          dispatch(actions.setShiftKeyThumbnailsPivotIndex(shiftKeyPivot));\n        }\n        // get the range of the selected index and update selected page\n        const currSelectMinIndex = Math.min(shiftKeyPivot, index);\n        const currSelectMaxIndex = Math.max(shiftKeyPivot, index);\n        updatedSelectedPages = [...new Set([...Array.from(\n          { length: currSelectMaxIndex - currSelectMinIndex + 1 },\n          (_, i) => i + currSelectMinIndex,\n        )])];\n      } else if (multiSelectionKeyPressed || isThumbnailSelectingPages) {\n        dispatch(actions.setThumbnailSelectingPages(true));\n        // Only select a page if multiSelectionKeyPressed or if checkbox is checked unless in 'thumbnail' mode\n        if (multiSelectionKeyPressed || checkboxToggled || thumbnailSelectionMode === thumbnailSelectionModes['THUMBNAIL']) {\n          // Include current page as part of selection if we just started multi-selecting\n          if (selectedPageIndexes.length === 0 && !isThumbnailSelectingPages) {\n            updatedSelectedPages.push(currentPage - 1);\n          } else if (selectedPageIndexes.includes(index)) {\n            updatedSelectedPages = selectedPageIndexes.filter((pageIndex) => index !== pageIndex);\n          } else {\n            updatedSelectedPages.push(index);\n          }\n        }\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex(index));\n      } else {\n        updatedSelectedPages = [index];\n      }\n      // set shiftKeyPivot when press ctr key or single key\n      const lastSelectedPageIndex = updatedSelectedPages[updatedSelectedPages.length - 1];\n      const shouldUpdateShiftKeyPivotIndex = !isThumbnailSelectingPages && !shiftKeyPressed;\n\n      if (shouldUpdateShiftKeyPivotIndex) {\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex(lastSelectedPageIndex));\n      }\n\n      dispatch(actions.setSelectedPageThumbnails(updatedSelectedPages));\n    } else if (isMobile()) {\n      dispatch(actions.closeElement('leftPanel'));\n    }\n\n    // due to the race condition, we need a settimeout here\n    // otherwise, sometimes the current page will not be visible in left panel\n    setTimeout(() => {\n      // If user clicks on checkbox, it should not automatically jump to that page,\n      // only if the user clicks on thumbnail then go to page and view it, unless in 'thumbnail' mode\n      if (!checkboxToggled || thumbnailSelectionMode === thumbnailSelectionModes['THUMBNAIL']) {\n        core.setCurrentPage(index + 1);\n      }\n    }, 0);\n  };\n\n  const isActive = currentPage === index + 1;\n  const pageLabel = pageLabels[index];\n  let checkboxRotateClass = 'default';\n  const rotation = core.getRotation(index + 1);\n  if ((!rotation || rotation === 2) && dimensions.width > dimensions.height) {\n    checkboxRotateClass = 'rotated';\n  } else if ((rotation === 1 || rotation === 3) && dimensions.width < dimensions.height) {\n    checkboxRotateClass = 'rotated';\n  }\n\n  return (\n    <div\n      className={classNames({\n        Thumbnail: true,\n        active: isActive,\n        selected: isSelected && isThumbnailSelectingPages,\n      })}\n      onDragOver={(e) => onDragOver(e, index)}\n      id=\"Thumbnail-container\"\n    >\n      <div\n        className=\"container\"\n        style={{\n          width: thumbSize,\n          height: thumbSize,\n        }}\n        onDragStart={(e) => onDragStart(e, index)}\n        draggable={isDraggable}\n        onClick={handleClick}\n      >\n        <div id={`pageThumb${index}`} className=\"thumbnail\" />\n        {isThumbnailSelectingPages && loaded && (\n          <Choice className={`checkbox ${checkboxRotateClass}`} checked={selectedPageIndexes.includes(index)} />\n        )}\n      </div>\n      <div className=\"page-label\">{pageLabel}</div>\n      {!isThumbnailSelectingPages && isActive && shouldShowControls && <ThumbnailControls index={index} />}\n    </div>\n  );\n};\n\nexport default Thumbnail;\n","import React from 'react';\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux';\n\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport { isMobile } from 'helpers/device';\n\nimport Thumbnail from './Thumbnail';\n\nconst ThumbnailRedux = (props) => {\n  const [\n    currentPage,\n    pageLabels,\n    selectedPageIndexes,\n    isThumbnailMultiselectEnabled,\n    isReaderMode,\n    isDocumentReadOnly,\n    shiftKeyThumbnailPivotIndex,\n    isThumbnailSelectingPages,\n    thumbnailSelectionMode,\n    activeDocumentViewerKey,\n    selectionModes\n  ] = useSelector(\n    (state) => [\n      selectors.getCurrentPage(state),\n      selectors.getPageLabels(state),\n      selectors.getSelectedThumbnailPageIndexes(state),\n      selectors.isThumbnailMultiselectEnabled(state),\n      selectors.isReaderMode(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.getShiftKeyThumbnailPivotIndex(state),\n      selectors.isThumbnailSelectingPages(state),\n      selectors.getThumbnailSelectionMode(state),\n      selectors.getActiveDocumentViewerKey(state),\n    ],\n    shallowEqual,\n  );\n\n  const dispatch = useDispatch();\n\n  return <Thumbnail {...props} {...{\n    currentPage,\n    pageLabels,\n    selectedPageIndexes,\n    isThumbnailMultiselectEnabled,\n    isReaderModeOrReadOnly: isReaderMode || isDocumentReadOnly,\n    dispatch,\n    actions,\n    isMobile,\n    shiftKeyThumbnailPivotIndex,\n    isThumbnailSelectingPages,\n    thumbnailSelectionMode,\n    selectionModes,\n    activeDocumentViewerKey,\n  }}\n  />;\n};\n\nexport default ThumbnailRedux;\n","import Thumbnail from './ThumbnailRedux';\n\nexport default Thumbnail;","import React from 'react';\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport DataElements from 'constants/dataElement';\n\nfunction LeftPanelPageTabsMoreSmall() {\n  return (\n    <div className={'dropdown-menu button-hover'}>\n      <ToggleElementButton\n        title=\"action.more\"\n        className={'dropdown-menu'}\n        element={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL}\n        dataElement={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER}\n        img=\"icon-tool-more\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsMoreSmall;\n","import React from 'react';\n\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsInsertSmall() {\n  return (\n    <div className={'dropdown-menu'}>\n      <ToggleElementButton\n        title=\"action.PageInsertion\"\n        className={'dropdown-menu'}\n        element=\"thumbnailsControlInsertPopup\"\n        dataElement=\"thumbnailsControlInsertPopupTrigger\"\n        img=\"icon-header-page-manipulation-insert-above\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsInsertSmall;\n","import React from 'react';\nimport Button from 'components/Button';\n\nfunction CustomLeftPanelOperations({ pageNumbers, operations }) {\n  return (\n    <>\n      {operations.map((operation, index) => {\n        return (\n          <Button\n            key={index}\n            className={'button-hover'}\n            dataElement={operation.dataElement}\n            img={operation.img}\n            onClick={() => operation.onClick(pageNumbers)}\n            title={operation.title}\n          />);\n      })\n      }\n    </>\n  );\n}\n\nexport default CustomLeftPanelOperations;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsRotate({ onRotateClockwise, onRotateCounterClockwise }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlRotateCounterClockwise\"\n        img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n        onClick={onRotateCounterClockwise}\n        title=\"action.rotateCounterClockwise\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlRotateClockwise\"\n        img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n        onClick={onRotateClockwise}\n        title=\"action.rotateClockwise\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsRotate;\n","import React from 'react';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport LeftPanelPageTabsMoreSmall from '../LeftPanelPageTabsMoreSmall/LeftPanelPageTabsMoreSmall';\nimport LeftPanelPageTabsInsertSmall from '../LeftPanelPageTabsInsertSmall/LeftPanelPageTabsInsertSmall';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\n\nfunction InitialLeftPanelPageTabsSmall({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabsSmall(props) {\n  const { pageNumbers, multiPageManipulationControlsItemsSmall, onRotateClockwise, onRotateCounterClockwise } = props;\n  return (\n    <div className={'PageControlContainer root small'}>\n      <InitialLeftPanelPageTabsSmall pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItemsSmall}>\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise}\n          onRotateCounterClockwise={onRotateCounterClockwise}\n          dataElement=\"leftPanelPageTabsRotate\"/>\n        <LeftPanelPageTabsInsertSmall dataElement=\"leftPanelPageTabsInsertSmall\" />\n        <LeftPanelPageTabsMoreSmall dataElement=\"leftPanelPageTabsMoreSmall\" />\n      </InitialLeftPanelPageTabsSmall>\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsSmall;\n","import React from 'react';\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport DataElements from 'constants/dataElement';\n\nfunction LeftPanelPageTabsMore() {\n  return (\n    <div className={'dropdown-menu button-hover'}>\n      <ToggleElementButton\n        title=\"action.more\"\n        className={'dropdown-menu'}\n        element={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP}\n        dataElement={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER}\n        img=\"icon-tool-more\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsMore;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsMove({ moveToTop, moveToBottom }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"moveToTop\"\n        img=\"icon-page-move-up\"\n        onClick={moveToTop}\n        title=\"action.moveToTop\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"moveToBottom\"\n        img=\"icon-page-move-down\"\n        onClick={moveToBottom}\n        title=\"action.moveToBottom\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsMove;\n","import React from 'react';\n\nimport LeftPanelPageTabsMore from '../LeftPanelPageTabsMore/LeftPanelPageTabsMore';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsMove from 'components/LeftPanelPageTabs/LeftPanelPageTabsMove/LeftPanelPageTabsMove';\n\n\nfunction InitialLeftPanelPageTabs({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabs(props) {\n  const {\n    pageNumbers,\n    onRotateClockwise,\n    onRotateCounterClockwise,\n    multiPageManipulationControlsItems,\n    moveToTop,\n    moveToBottom\n  } = props;\n  return (\n    <div className={'PageControlContainer root'}>\n      <InitialLeftPanelPageTabs pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItems} >\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} dataElement=\"leftPanelPageTabsRotate\" />\n        <LeftPanelPageTabsMove moveToTop={moveToTop} moveToBottom={moveToBottom} dataElement=\"leftPanelPageTabsMove\"/>\n        <LeftPanelPageTabsMore dataElement=\"leftPanelPageTabsMore\" />\n      </InitialLeftPanelPageTabs>\n    </div>\n  );\n}\n\n\nexport default LeftPanelPageTabs;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsInsert({ onInsert }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlInsert\"\n        img=\"icon-page-insertion-insert\"\n        onClick={onInsert}\n        title=\"action.insert\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsInsert;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsOperations({ onInsert, onReplace, onExtractPages, onDeletePages }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlInsert\"\n        img=\"icon-page-insertion-insert\"\n        onClick={onInsert}\n        title=\"action.insert\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlReplace\"\n        img=\"icon-page-replacement\"\n        onClick={onReplace}\n        title=\"action.replace\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlExtract\"\n        img=\"icon-page-manipulation-extract\"\n        onClick={onExtractPages}\n        title=\"action.extract\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlDelete\"\n        img=\"icon-delete-line\"\n        onClick={onDeletePages}\n        title=\"action.delete\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsOperations;\n","import React from 'react';\n\nimport LeftPanelPageTabsInsert from '../LeftPanelPageTabsInsert/LeftPanelPageTabsInsert';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport LeftPanelPageTabsOperations from '../LeftPanelPageTabsOperations/LeftPanelPageTabsOperations';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsMove from '../LeftPanelPageTabsMove/LeftPanelPageTabsMove';\n\n\nfunction InitialLeftPanelPageTabs({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabsLarge(props) {\n  const { pageNumbers, onRotateClockwise, onRotateCounterClockwise, onInsert, onReplace, onExtractPages, onDeletePages, moveToTop, moveToBottom, multiPageManipulationControlsItems } = props;\n  return (\n    <div className={'PageControlContainer root'}>\n      <InitialLeftPanelPageTabs pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItems} >\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} dataElement=\"leftPanelPageTabsRotate\" />\n        <LeftPanelPageTabsInsert onInsert={onInsert} dataElement=\"leftPanelPageTabsInsert\" />\n        <LeftPanelPageTabsOperations onReplace={onReplace} onExtractPages={onExtractPages} onDeletePages={onDeletePages} dataElement=\"leftPanelPageTabsOperations\" />\n        <LeftPanelPageTabsMove moveToTop={moveToTop} moveToBottom={moveToBottom} dataElement=\"leftPanelPageTabsMove\" />\n      </InitialLeftPanelPageTabs>\n    </div>\n  );\n}\n\n\nexport default LeftPanelPageTabsLarge;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport {\n  deletePages,\n  extractPages,\n  noPagesSelectedWarning,\n  replace,\n  rotateClockwise,\n  rotateCounterClockwise,\n  movePagesToBottom,\n  movePagesToTop\n} from 'helpers/pageManipulationFunctions';\nimport LeftPanelPageTabsSmall from 'src/components/LeftPanelPageTabs/LeftPanelPageTabsSmall/LeftPanelPageTabsSmall';\nimport LeftPanelPageTabs from 'components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabs';\nimport { workerTypes } from 'constants/types';\nimport core from 'src/core';\nimport LeftPanelPageTabsRotate from 'components/LeftPanelPageTabs/LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport LeftPanelPageTabsLarge from './LeftPanelPageTabsLarge/LeftPanelPageTabsLarge';\nimport DataElements from 'constants/dataElement';\nimport { panelMinWidth } from 'constants/panel';\nimport { isMobile as isInMobile } from 'helpers/device';\nimport getRootNode from 'helpers/getRootNode';\n\n// Values come from the CSS\nconst WIDTH_MARGINS = 16 + 8 + 16 + 16 + 16 + 16;\n\nfunction LeftPanelPageTabsContainer({ parentElement }) {\n  const dispatch = useDispatch();\n  const isMobile = isInMobile();\n  const [\n    selectedPageIndexes,\n    panelWidth,\n    deleteModalEnabled,\n    multiPageManipulationControlsItems,\n    multiPageManipulationControlsSmall,\n    multiPageManipulationControlsLarge,\n    isDesktopOnlyMode,\n  ] = useSelector((state) => [\n    selectors.getSelectedThumbnailPageIndexes(state),\n    !parentElement || parentElement === 'leftPanel' ? selectors.getLeftPanelWidth(state) : selectors.getPanelWidth(state, parentElement),\n    selectors.pageDeletionConfirmationModalEnabled(state),\n    selectors.getMultiPageManipulationControlsItems(state),\n    selectors.getMultiPageManipulationControlsItemsSmall(state),\n    selectors.getMultiPageManipulationControlsItemsLarge(state),\n    selectors.isInDesktopOnlyMode(state),\n  ]);\n\n  const pageNumbers = selectedPageIndexes.map((index) => index + 1);\n\n  const openInsertPageModal = () => {\n    dispatch(actions.closeElement(DataElements.PAGE_MANIPULATION_OVERLAY));\n    dispatch(actions.openElement('insertPageModal'));\n  };\n\n  const onReplace = () => !noPagesSelectedWarning(pageNumbers, dispatch) && replace(dispatch);\n  const onExtractPages = () => !noPagesSelectedWarning(pageNumbers, dispatch) && extractPages(pageNumbers, dispatch);\n  const onDeletePages = () => !noPagesSelectedWarning(pageNumbers, dispatch) && deletePages(pageNumbers, dispatch, deleteModalEnabled);\n  const onRotateClockwise = () => !noPagesSelectedWarning(pageNumbers, dispatch) && rotateClockwise(pageNumbers);\n  const onRotateCounterClockwise = () => !noPagesSelectedWarning(pageNumbers, dispatch) && rotateCounterClockwise(pageNumbers);\n  const onInsert = () => !noPagesSelectedWarning(pageNumbers, dispatch) && openInsertPageModal();\n  const moveToTop = () => !noPagesSelectedWarning(pageNumbers, dispatch) && movePagesToTop(pageNumbers);\n  const moveToBottom = () => !noPagesSelectedWarning(pageNumbers, dispatch) && movePagesToBottom(pageNumbers);\n\n  const document = core.getDocument();\n  const documentType = document?.type;\n  const isXod = documentType === workerTypes.XOD;\n  const isOffice = documentType === workerTypes.OFFICE || documentType === workerTypes.LEGACY_OFFICE;\n\n  if (isXod || isOffice || document?.isWebViewerServerDocument()) {\n    return (\n      <div className={'PageControlContainer root small'}>\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} />\n      </div>\n    );\n  }\n\n  const smallBreakPoint = 190;\n  const largeBreakPoint = 290;\n  let widthMinusMargins;\n  if (!isDesktopOnlyMode && isMobile) {\n    try {\n      const appRect = getRootNode().querySelector('.App').getBoundingClientRect();\n      widthMinusMargins = appRect.width - WIDTH_MARGINS;\n    } catch (e) {\n      widthMinusMargins = (panelWidth || panelMinWidth) - WIDTH_MARGINS;\n    }\n  } else {\n    widthMinusMargins = (panelWidth || panelMinWidth) - WIDTH_MARGINS;\n  }\n  const isPanelSmall = widthMinusMargins < smallBreakPoint;\n  const isPanelLarge = widthMinusMargins > largeBreakPoint;\n\n  const childProps = {\n    onReplace,\n    onExtractPages,\n    onDeletePages,\n    onRotateCounterClockwise,\n    onRotateClockwise,\n    onInsert,\n    moveToTop,\n    moveToBottom,\n    pageNumbers,\n  };\n\n  if (isPanelSmall) {\n    return <LeftPanelPageTabsSmall\n      {...childProps}\n      multiPageManipulationControlsItemsSmall={multiPageManipulationControlsSmall}\n    />;\n  }\n\n  if (isPanelLarge) {\n    return <LeftPanelPageTabsLarge\n      {...childProps}\n      multiPageManipulationControlsItems={multiPageManipulationControlsLarge}\n    />;\n  }\n\n\n  return (\n    <LeftPanelPageTabs\n      {...childProps}\n      multiPageManipulationControlsItems={multiPageManipulationControlsItems}\n    />\n  );\n}\n\nexport default LeftPanelPageTabsContainer;\n","import LeftPanelPageTabsContainer from './LeftPanelPageTabsContainer';\n\nexport default LeftPanelPageTabsContainer;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Button from 'components/Button';\nimport getPageArrayFromString from 'helpers/getPageArrayFromString';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport pageNumberPlaceholder from 'constants/pageNumberPlaceholder';\nimport core from 'src/core';\nimport { useTranslation } from 'react-i18next';\nimport LeftPanelPageTabs from 'components/LeftPanelPageTabs';\nimport './DocumentControls.scss';\n\nfunction getPageString(selectedPageArray, pageLabels) {\n  let pagesToPrint = '';\n  const sortedPages = selectedPageArray.sort((a, b) => a - b);\n  let prevIndex = null;\n\n  for (let i = 0; sortedPages.length > i; i++) {\n    if (sortedPages[i + 1] === sortedPages[i] + 1) {\n      prevIndex = prevIndex !== null ? prevIndex : sortedPages[i];\n    } else if (prevIndex !== null) {\n      pagesToPrint = `${pagesToPrint}${pageLabels[prevIndex]}-${pageLabels[sortedPages[i]]}, `;\n      prevIndex = null;\n    } else {\n      pagesToPrint = `${pagesToPrint}${pageLabels[sortedPages[i]]}, `;\n    }\n  }\n\n  return pagesToPrint.slice(0, -2);\n}\n\nconst DocumentControls = ({ shouldShowControls, parentElement }) => {\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n\n  const [\n    selectedPageIndexes,\n    isDisabled,\n    pageLabels,\n    isThumbnailSelectingPages,\n  ] = useSelector((state) => [\n    selectors.getSelectedThumbnailPageIndexes(state),\n    selectors.isElementDisabled(state, 'documentControl'),\n    selectors.getPageLabels(state),\n    selectors.isThumbnailSelectingPages(state),\n  ]);\n\n  const initialPagesString = getPageString(selectedPageIndexes, pageLabels);\n\n  const [pageString, setPageString] = useState(initialPagesString);\n  const [previousPageString, setPreviousPageString] = useState(initialPagesString);\n\n  useEffect(() => {\n    setPageString(getPageString(selectedPageIndexes, pageLabels));\n  }, [setPageString, selectedPageIndexes, shouldShowControls, pageLabels]);\n\n  const onBlur = (e) => {\n    const selectedPagesString = e.target.value.replace(/ /g, '');\n    const pages = !selectedPagesString ? [] : getPageArrayFromString(selectedPagesString, pageLabels);\n    const pageIndexes = pages.map((page) => page - 1);\n\n    if (pages.length || !selectedPagesString) {\n      dispatch(actions.setSelectedPageThumbnails(pageIndexes));\n\n      const updatedString = getPageString(selectedPageIndexes, pageLabels);\n\n      setPageString(updatedString);\n      setPreviousPageString(updatedString);\n    } else {\n      setPageString(previousPageString);\n    }\n\n    if (selectedPageIndexes.length > 0 && !isThumbnailSelectingPages) {\n      // set a short timeout due to race condition caused by onBlur and\n      // changing the documentControlsButton based on isThumbnailSelectingPages\n      setTimeout(() => {\n        enableThumbnailSelectingPages();\n      }, 100);\n    }\n  };\n\n  const pageStringUpdate = (e) => {\n    setPageString(e.target.value);\n  };\n\n  const disableThumbnailSelectingPages = () => {\n    dispatch(actions.setSelectedPageThumbnails([core.getCurrentPage() - 1]));\n    dispatch(actions.setThumbnailSelectingPages(false));\n  };\n\n  const enableThumbnailSelectingPages = () => {\n    dispatch(actions.setThumbnailSelectingPages(true));\n  };\n\n  return isDisabled ? null : (\n    <div className={'documentControlsContainer'} data-element={'documentControl'}>\n      {shouldShowControls ? (\n        <div className={'documentControls'}>\n          <div className={'divider'}></div>\n          {isThumbnailSelectingPages && <LeftPanelPageTabs parentElement={parentElement}/>}\n          <div className={'documentControlsInput'}>\n            <input\n              onBlur={onBlur}\n              onChange={pageStringUpdate}\n              value={pageString}\n              placeholder={pageNumberPlaceholder}\n              aria-label={t('option.thumbnailPanel.enterPageNumbers')}\n              className=\"pagesInput\"\n              type=\"text\"\n            />\n            <div className={'documentControlsButton'}>\n              {!isThumbnailSelectingPages ? (\n                <Button\n                  img={'icon-tool-select-pages'}\n                  title={'option.documentControls.selectTooltip'}\n                  onClick={enableThumbnailSelectingPages}\n                  dataElement={'thumbMultiSelect'}\n                />\n              ) : (\n                <Button\n                  img={'icon-close'}\n                  title={'option.documentControls.closeTooltip'}\n                  onClick={disableThumbnailSelectingPages}\n                  dataElement={'thumbCloseMultiSelect'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nDocumentControls.propTypes = {\n  isDisabled: PropTypes.bool,\n  pageLabels: PropTypes.arrayOf(PropTypes.string),\n  toggleDocumentControl: PropTypes.func,\n  shouldShowControls: PropTypes.bool,\n};\n\nexport default DocumentControls;\n","import DocumentControls from './DocumentControls';\n\nexport default DocumentControls;","import core from 'core';\nimport actions from 'actions';\nimport extractPagesWithAnnotations from './extractPagesWithAnnotations';\nimport fireEvent from './fireEvent';\nimport Events from 'constants/events';\nimport DataElements from 'src/constants/dataElement';\n\nexport const extractPagesToMerge = (pageNumbers) => {\n  // extract pages and put the data on the iFrame window element for another instance of WebViewer to access\n  window.extractedDataPromise = extractPagesWithAnnotations(pageNumbers);\n  window.pagesExtracted = pageNumbers;\n};\n\nexport const mergeDocument = (srcToMerge, mergeToPage, shouldFireEvent = true) => (dispatch) => {\n  dispatch(actions.openElement(DataElements.LOADING_MODAL));\n\n  return new Promise((resolve, reject) => {\n    core.mergeDocument(srcToMerge, mergeToPage).then((mergeResults) => {\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n      core.setCurrentPage(mergeToPage);\n\n      if (shouldFireEvent) {\n        fireEvent(Events.DOCUMENT_MERGED, mergeResults);\n      }\n\n      resolve(mergeResults);\n    }).catch((err) => {\n      reject(err);\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n    });\n  });\n};\n\nexport const mergeExternalWebViewerDocument = (viewerID, mergeToPage) => (dispatch) => {\n  return new Promise((resolve, reject) => {\n    const otherWebViewerIframe = window.parent.document.querySelector(`#${viewerID}`);\n    if (!otherWebViewerIframe) {\n      console.warn('Could not find other instance of WebViewer');\n      reject();\n    }\n\n    const extractedDataPromise = otherWebViewerIframe.contentWindow.extractedDataPromise;\n    if (!extractedDataPromise) {\n      console.warn('Could not retrieve data from other instance of WebViewer');\n      reject();\n    }\n\n    dispatch(actions.openElement(DataElements.LOADING_MODAL));\n    extractedDataPromise.then((docToMerge) => {\n      dispatch(mergeDocument(docToMerge, mergeToPage, false)).then(({ filename, pages }) => {\n        fireEvent(Events.DOCUMENT_MERGED, { filename, pages: otherWebViewerIframe.contentWindow.pagesExtracted });\n        dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n        resolve({ filename, pages });\n      });\n    }).catch((err) => {\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n      reject(err);\n    });\n  });\n};","import debounce from 'lodash/debounce';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { List } from 'react-virtualized';\nimport Measure from 'react-measure';\nimport classNames from 'classnames';\nimport { isIE11 } from 'helpers/device';\n\nimport Thumbnail from 'components/Thumbnail';\nimport DocumentControls from 'components/DocumentControls';\nimport Button from 'components/Button';\n\nimport core from 'core';\nimport { extractPagesToMerge, mergeDocument, mergeExternalWebViewerDocument } from 'helpers/pageManipulation';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport Events from 'constants/events';\nimport DataElements from 'constants/dataElement';\nimport fireEvent from 'helpers/fireEvent';\n\nimport './ThumbnailsPanel.scss';\nimport getRootNode from 'helpers/getRootNode';\nimport { useTranslation } from 'react-i18next';\n\nconst dataTransferWebViewerFrameKey = 'dataTransferWebViewerFrame';\n\nconst ZOOM_RANGE_MIN = '100';\nconst ZOOM_RANGE_MAX = '1000';\nconst ZOOM_RANGE_STEP = '50';\nconst MAX_COLUMNS = 16;\n\nconst hoverAreaHeight = 25;\n\nconst ThumbnailsPanel = ({ panelSelector }) => {\n  const [\n    isLeftPanelOpen,\n    isDisabled,\n    totalPages,\n    currentPage,\n    selectedPageIndexes,\n    isThumbnailMergingEnabled,\n    isThumbnailReorderingEnabled,\n    isMultipleViewerMerging,\n    isThumbnailControlDisabled,\n    isThumbnailSliderDisabled,\n    isReaderMode,\n    isDocumentReadOnly,\n    totalPagesFromSecondaryDocumentViewer,\n    activeDocumentViewerKey,\n    isRightClickEnabled,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementOpen(state, 'leftPanel'),\n      selectors.isElementDisabled(state, 'thumbnailsPanel'),\n      selectors.getTotalPages(state),\n      selectors.getCurrentPage(state),\n      selectors.getSelectedThumbnailPageIndexes(state),\n      selectors.getIsThumbnailMergingEnabled(state),\n      selectors.getIsThumbnailReorderingEnabled(state),\n      selectors.getIsMultipleViewerMerging(state),\n      selectors.isElementDisabled(state, 'thumbnailControl'),\n      selectors.isElementDisabled(state, 'thumbnailsSizeSlider'),\n      selectors.isReaderMode(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.getTotalPages(state, 2),\n      selectors.getActiveDocumentViewerKey(state),\n      selectors.openingPageManipulationOverlayByRightClickEnabled(state),\n    ],\n    shallowEqual,\n  );\n\n  const [t] = useTranslation();\n\n  const listRef = useRef();\n  const pendingThumbs = useRef([]);\n  const thumbs = useRef([]);\n  const afterMovePageNumber = useRef(null);\n\n  const [isOfficeEditor, setIsOfficeEditor] = useState(false);\n  const [canLoad, setCanLoad] = useState(true);\n  const [height, setHeight] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [draggingOverPageIndex, setDraggingOverPageIndex] = useState(null);\n  const [isDraggingToPreviousPage, setDraggingToPreviousPage] = useState(false);\n  const [numberOfColumns, setNumberOfColumns] = useState(1);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const [thumbnailSize, setThumbnailSize] = useState(150);\n  const [lastTimeTriggered, setLastTimeTriggered] = useState(0);\n  const [globalIndex, setGlobalIndex] = useState(0);\n  const pageCount = activeDocumentViewerKey === 2 ? totalPagesFromSecondaryDocumentViewer : totalPages;\n\n  const dispatch = useDispatch();\n\n  // If memory becomes an issue, change this to use pageNumbers.\n  // Instead of a debounced drawAnnotations function, perhaps use\n  // a function that first checks for the pageNumber in this map\n  // before calling drawAnnotations on a page.\n  let activeThumbRenders = {};\n\n  const getThumbnailSize = (pageWidth, pageHeight) => {\n    let width;\n    let height;\n    let ratio;\n\n    if (pageWidth > pageHeight) {\n      ratio = pageWidth / thumbnailSize;\n      width = thumbnailSize;\n      height = Math.round(pageHeight / ratio);\n    } else {\n      ratio = pageHeight / thumbnailSize;\n      width = Math.round(pageWidth / ratio); // Chrome has trouble displaying borders of non integer width canvases.\n      height = thumbnailSize;\n    }\n\n    return {\n      width,\n      height,\n    };\n  };\n\n  const updateAnnotations = (pageIndex) => {\n    const thumbContainer = thumbs.current && thumbs.current[pageIndex] && thumbs.current[pageIndex].element;\n    if (!thumbContainer) {\n      return;\n    }\n\n    const pageNumber = pageIndex + 1;\n    const pageWidth = core.getPageWidth(pageNumber);\n    const pageHeight = core.getPageHeight(pageNumber);\n\n    const { width, height } = getThumbnailSize(pageWidth, pageHeight);\n\n    const annotCanvas = thumbContainer.querySelector('.annotation-image') || document.createElement('canvas');\n    annotCanvas.className = 'annotation-image';\n    annotCanvas.style.maxWidth = `${thumbnailSize}px`;\n    annotCanvas.style.maxHeight = `${thumbnailSize}px`;\n    const ctx = annotCanvas.getContext('2d');\n\n    let zoom = 1;\n    let rotation = core.getCompleteRotation(pageNumber);\n    if (rotation < 0) {\n      rotation += 4;\n    }\n    const multiplier = window.Core.getCanvasMultiplier();\n\n    if (rotation % 2 === 0) {\n      annotCanvas.width = width;\n      annotCanvas.height = height;\n      zoom = annotCanvas.width / pageWidth;\n      zoom /= multiplier;\n    } else {\n      annotCanvas.width = height;\n      annotCanvas.height = width;\n\n      zoom = annotCanvas.height / pageWidth;\n      zoom /= multiplier;\n    }\n\n    thumbContainer.appendChild(annotCanvas);\n    core.setAnnotationCanvasTransform(ctx, zoom, rotation);\n\n    let options = {\n      pageNumber,\n      overrideCanvas: annotCanvas,\n    };\n\n    const thumb = thumbContainer.querySelector('.page-image');\n\n    if (thumb) {\n      options = {\n        ...options,\n        overridePageRotation: rotation,\n        overridePageCanvas: thumb,\n      };\n    } else {\n      return;\n    }\n\n    if (!activeThumbRenders[pageNumber]) {\n      activeThumbRenders[pageNumber] = debounce(core.drawAnnotations, 112);\n    }\n    const debouncedDraw = activeThumbRenders[pageNumber];\n    debouncedDraw(options);\n  };\n\n  useEffect(() => {\n    const onBeginRendering = () => {\n      setCanLoad(false);\n    };\n\n    const onFinishedRendering = (needsMoreRendering) => {\n      if (!needsMoreRendering) {\n        setCanLoad(true);\n      }\n    };\n\n    const onDocumentLoaded = () => {\n      if (core.getDocument()?.getType() === 'officeEditor') {\n        setIsOfficeEditor(true);\n      } else {\n        setIsOfficeEditor(false);\n      }\n      activeThumbRenders = {};\n      dispatch(actions.setSelectedPageThumbnails([]));\n    };\n\n    const onPageComplete = () => {\n      if (afterMovePageNumber.current) {\n        core.setCurrentPage(afterMovePageNumber.current);\n        afterMovePageNumber.current = null;\n      }\n    };\n\n    core.addEventListener('beginRendering', onBeginRendering);\n    core.addEventListener('finishedRendering', onFinishedRendering);\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    core.addEventListener('pageComplete', onPageComplete);\n\n\n    // The document might have already been loaded before this component is mounted.\n    // If document is already loaded, call 'onDocumentLoaded()' manually to update the state properly.\n    if (core.getDocument()) {\n      onDocumentLoaded();\n    }\n\n    return () => {\n      core.removeEventListener('beginRendering', onBeginRendering);\n      core.removeEventListener('finishedRendering', onFinishedRendering);\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n      core.removeEventListener('pageComplete', onPageComplete);\n    };\n  }, []);\n\n  useEffect(() => {\n    const onPagesUpdated = (changes) => {\n      if (!changes) {\n        return;\n      }\n      let updatedPagesIndexes = Array.from(selectedPageIndexes);\n\n      if (changes.removed) {\n        updatedPagesIndexes = updatedPagesIndexes.filter((pageIndex) => changes.removed.indexOf(pageIndex + 1) === -1);\n      }\n\n      if (changes.moved) {\n        updatedPagesIndexes = updatedPagesIndexes.map((pageIndex) => (changes.moved[pageIndex + 1] ? changes.moved[pageIndex + 1] - 1 : pageIndex),\n        );\n      }\n\n      dispatch(actions.setSelectedPageThumbnails(updatedPagesIndexes));\n    };\n\n    core.addEventListener('pagesUpdated', onPagesUpdated);\n\n    return () => core.removeEventListener('pagesUpdated', onPagesUpdated);\n  }, [selectedPageIndexes]);\n\n  useEffect(() => {\n    listRef.current?.scrollToRow(Math.floor((currentPage - 1) / numberOfColumns));\n    const onAnnotationChanged = (annots) => {\n      const indices = [];\n\n      annots.forEach((annot) => {\n        const pageIndex = annot.PageNumber - 1;\n        if (!annot.Listable || indices.indexOf(pageIndex) > -1) {\n          return;\n        }\n        indices.push(pageIndex);\n\n        updateAnnotations(pageIndex);\n      });\n    };\n\n    const onPageNumberUpdated = (pageNumber) => {\n      const pageIndex = pageNumber - 1;\n      listRef.current?.scrollToRow(Math.floor(pageIndex / numberOfColumns));\n    };\n\n    core.addEventListener('pageNumberUpdated', onPageNumberUpdated);\n    core.addEventListener('annotationChanged', onAnnotationChanged);\n    core.addEventListener('annotationHidden', onAnnotationChanged);\n\n    return () => {\n      core.removeEventListener('pageNumberUpdated', onPageNumberUpdated);\n      core.removeEventListener('annotationChanged', onAnnotationChanged);\n      core.removeEventListener('annotationHidden', onAnnotationChanged);\n    };\n  }, [thumbnailSize, numberOfColumns]);\n\n  useEffect(() => {\n    if (isReaderMode || isDocumentReadOnly) {\n      dispatch(actions.setSelectedPageThumbnails([]));\n      dispatch(actions.setThumbnailSelectingPages(false));\n    }\n  }, [isReaderMode, isDocumentReadOnly]);\n\n  // if disabled, or is office editor or left panel is not open when we are not in customize mode, return\n  if (isDisabled || isOfficeEditor || (!isLeftPanelOpen && !panelSelector)) {\n    return null;\n  }\n  const onDragEnd = () => {\n    setIsDragging(false);\n    setDraggingOverPageIndex(null);\n  };\n\n  const scrollToRowHelper = (index, change, time) => {\n    const now = new Date().getTime();\n    if (index < pageCount - 1 && index > 0 && now - lastTimeTriggered >= time) {\n      listRef.current?.scrollToRow(Math.floor((index + change) / numberOfColumns));\n      setLastTimeTriggered(now);\n      return index + change;\n    }\n    return index;\n  };\n\n  const onDragOver = (e, index) => {\n    // 'preventDefault' to prevent opening pdf dropped in and 'stopPropagation' to keep parent from opening pdf\n    e.preventDefault();\n    e.stopPropagation();\n    if (!isThumbnailReorderingEnabled && !isThumbnailMergingEnabled) {\n      return;\n    }\n\n    const thumbnail = e.target.getBoundingClientRect();\n    if (numberOfColumns > 1) {\n      // row with more than 1 thumbnail so user are dragging to the left and right\n      setDraggingToPreviousPage(!(e.pageX > thumbnail.x + thumbnail.width / 2));\n    } else {\n      setDraggingToPreviousPage(!(e.pageY > thumbnail.y + thumbnail.height / 2));\n    }\n\n    setDraggingOverPageIndex(index);\n    const virtualizedThumbnailContainerElement = getRootNode().querySelector('#virtualized-thumbnails-container');\n    const { y, bottom } = virtualizedThumbnailContainerElement.getBoundingClientRect();\n\n    if (e.pageY < y + hoverAreaHeight * 4) {\n      setGlobalIndex(scrollToRowHelper(index, -1, 400));\n    } else if (e.pageY > bottom - hoverAreaHeight * 4) {\n      setGlobalIndex(scrollToRowHelper(index, 1, 400));\n    }\n  };\n\n  const scrollDown = () => {\n    setGlobalIndex(scrollToRowHelper(globalIndex, 1, 200));\n  };\n  const scrollUp = () => {\n    setGlobalIndex(scrollToRowHelper(globalIndex, -1, 200));\n  };\n\n  const onDragStart = (e, index) => {\n    setGlobalIndex(index);\n    setIsDragging(true);\n    const draggingSelectedPage = selectedPageIndexes.some((i) => i === index);\n    const pagesToMove = draggingSelectedPage ? selectedPageIndexes.map((index) => index + 1) : [index + 1];\n    fireEvent(Events.THUMBNAIL_DRAGGED);\n    // need to set 'text' to empty for drag to work in FireFox and mobile\n    e.dataTransfer.setData('text', '');\n\n    if (pagesToMove.length > 1) {\n      // can't set to null so set to new instance of an image\n      e.dataTransfer.setDragImage(new Image(), 0, 0);\n    }\n\n    if (isThumbnailMergingEnabled && isMultipleViewerMerging) {\n      e.dataTransfer.dropEffect = 'move';\n      e.dataTransfer.effectAllowed = 'all';\n      e.dataTransfer.setData(dataTransferWebViewerFrameKey, window.frameElement.id);\n      extractPagesToMerge(pagesToMove);\n    }\n\n    if (!draggingSelectedPage) {\n      dispatch(actions.setSelectedPageThumbnails([index]));\n    }\n\n    core.setCurrentPage(index + 1);\n  };\n\n  const onDrop = (e) => {\n    e.preventDefault();\n    const { files } = e.dataTransfer;\n    const insertTo = isDraggingToPreviousPage ? draggingOverPageIndex + 1 : draggingOverPageIndex + 2;\n    let externalPageWebViewerFrameId;\n    if (!isIE11) {\n      // at this time of writing, IE11 does not really have support for getData\n      externalPageWebViewerFrameId = e.dataTransfer.getData(dataTransferWebViewerFrameKey);\n    }\n    const mergingDocument =\n      (externalPageWebViewerFrameId && window.frameElement.id !== externalPageWebViewerFrameId) || files.length;\n    const currentPageIndex = currentPage - 1;\n\n    if (isThumbnailMergingEnabled && mergingDocument) {\n      if (externalPageWebViewerFrameId && window.frameElement.id !== externalPageWebViewerFrameId) {\n        dispatch(mergeExternalWebViewerDocument(externalPageWebViewerFrameId, insertTo));\n      } else if (files.length) {\n        Array.from(files).forEach((file) => {\n          dispatch(mergeDocument(file, insertTo));\n        });\n      }\n    } else if (isThumbnailReorderingEnabled && !mergingDocument) {\n      if (draggingOverPageIndex !== null) {\n        const targetPageNumber = isDraggingToPreviousPage ? draggingOverPageIndex + 1 : draggingOverPageIndex + 2;\n        const draggingSelectedPage = selectedPageIndexes.some((i) => i === currentPageIndex);\n        const pageNumbersToMove = draggingSelectedPage ? selectedPageIndexes.map((i) => i + 1) : [currentPage];\n        afterMovePageNumber.current = targetPageNumber - pageNumbersToMove.filter((p) => p < targetPageNumber).length;\n        core.movePages(pageNumbersToMove, targetPageNumber);\n        const updatedPagesNumbers = [];\n        for (let offset = 0; offset < pageNumbersToMove.length; offset++) {\n          updatedPagesNumbers.push(afterMovePageNumber.current + offset);\n        }\n        fireEvent(Events.THUMBNAIL_DROPPED, { pageNumbersBeforeMove: pageNumbersToMove, pagesNumbersAfterMove: updatedPagesNumbers, numberOfPagesMoved: updatedPagesNumbers.length });\n      }\n    }\n    setDraggingOverPageIndex(null);\n    setIsDragging(false);\n  };\n\n  const onLoad = (pageIndex, element, id) => {\n    if (!thumbIsLoaded(pageIndex) && !thumbIsPending(pageIndex)) {\n      thumbs.current[pageIndex] = {\n        element,\n        loaded: false,\n      };\n\n      pendingThumbs.current.push({\n        pageIndex,\n        id,\n      });\n    }\n  };\n\n  const removeFromPendingThumbs = (pageIndex) => {\n    const index = getPendingThumbIndex(pageIndex);\n    if (index !== -1) {\n      pendingThumbs.current.splice(index, 1);\n    }\n  };\n\n  const thumbIsLoaded = (pageIndex) => thumbs.current[pageIndex]?.loaded;\n\n  const thumbIsPending = (pageIndex) => getPendingThumbIndex(pageIndex) !== -1;\n\n  const onCancel = (pageIndex) => {\n    const index = getPendingThumbIndex(pageIndex);\n    if (index !== -1) {\n      core.cancelLoadThumbnail(pendingThumbs.current[index].id);\n      pendingThumbs.current.splice(index, 1);\n    }\n  };\n\n  const onRightClick = (event, pageIndex) => {\n    event.preventDefault();\n    core.setCurrentPage(pageIndex + 1);\n    if (!selectedPageIndexes.includes(pageIndex)) {\n      dispatch(actions.setSelectedPageThumbnails([pageIndex]));\n    }\n\n    if (isReaderMode || isDocumentReadOnly) {\n      return;\n    }\n\n    dispatch(actions.setPageManipulationOverlayAlternativePosition({ left: event.pageX, right: 'auto', top: event.pageY }));\n    dispatch(actions.openElements([DataElements.PAGE_MANIPULATION_OVERLAY]));\n  };\n\n  const getPendingThumbIndex = (pageIndex) => pendingThumbs.current.findIndex((thumbStatus) => thumbStatus.pageIndex === pageIndex);\n\n  const onRemove = (pageIndex) => {\n    onCancel(pageIndex);\n    const canvases = thumbs.current[pageIndex]?.element?.querySelectorAll('canvas');\n    if (canvases?.length) {\n      canvases.forEach((c) => {\n        c.height = 0;\n        c.width = 0;\n      });\n    }\n\n    if (activeThumbRenders[pageIndex]) {\n      activeThumbRenders[pageIndex].cancel();\n    }\n    thumbs.current[pageIndex] = null;\n  };\n\n  const renderThumbnails = ({ index, key, style }) => {\n    const className = classNames({\n      columnsOfThumbnails: numberOfColumns > 1,\n      row: true,\n    });\n    const allowPageOperationsUI = !(isReaderMode || isDocumentReadOnly);\n\n    return (\n      <div role=\"row\" aria-label=\"row\" className={className} key={key} style={style}>\n        {new Array(numberOfColumns).fill().map((_, columnIndex) => {\n          const thumbIndex = index * numberOfColumns + columnIndex;\n          const allowDragAndDrop = allowPageOperationsUI && (isThumbnailMergingEnabled || isThumbnailReorderingEnabled);\n          const showPlaceHolder = allowDragAndDrop && draggingOverPageIndex === thumbIndex;\n\n          return thumbIndex < pageCount ? (\n            <React.Fragment key={thumbIndex}>\n              {(numberOfColumns > 1 || thumbIndex === 0) && showPlaceHolder && isDraggingToPreviousPage && <div key={`placeholder1-${thumbIndex}`} className=\"thumbnailPlaceholder\" />}\n              <div key={thumbIndex} role=\"cell\" onDragEnd={onDragEnd} className=\"cellThumbContainer\" onContextMenu={(e) => isRightClickEnabled && onRightClick(e, thumbIndex)}>\n                <Thumbnail\n                  isDraggable={allowDragAndDrop}\n                  isSelected={selectedPageIndexes.includes(thumbIndex)}\n                  index={thumbIndex}\n                  canLoad={canLoad}\n                  onLoad={onLoad}\n                  onCancel={onCancel}\n                  onRemove={onRemove}\n                  onDragStart={onDragStart}\n                  onDragOver={onDragOver}\n                  onFinishLoading={removeFromPendingThumbs}\n                  updateAnnotations={updateAnnotations}\n                  shouldShowControls={allowPageOperationsUI}\n                  thumbnailSize={thumbnailSize}\n                  panelSelector={panelSelector}\n                />\n              </div>\n              {showPlaceHolder && !isDraggingToPreviousPage && <div key={`placeholder2-${thumbIndex}`} className=\"thumbnailPlaceholder\" />}\n            </React.Fragment>\n          ) : null;\n        })}\n      </div>\n    );\n  };\n\n  const onPanelResize = ({ bounds }) => {\n    setHeight(bounds.height);\n    setWidth(bounds.width);\n    setNumberOfColumns(Math.min(MAX_COLUMNS, Math.max(1, Math.floor(bounds.width / thumbnailSize))));\n  };\n\n  const updateNumberOfColumns = () => {\n    setNumberOfColumns(Math.min(MAX_COLUMNS, Math.max(1, Math.floor(width / thumbnailSize))));\n  };\n\n  const thumbnailHeight = isThumbnailControlDisabled ? Number(thumbnailSize) + 50 : Number(thumbnailSize) + 80;\n  const shouldShowControls = !(isReaderMode || isDocumentReadOnly);\n  const thumbnailAutoScrollAreaStyle = {\n    'height': `${hoverAreaHeight}px`,\n  };\n\n  return (\n    <React.Fragment>\n      {!isThumbnailSliderDisabled && <div data-element=\"thumbnailsSizeSlider\" className=\"thumbnail-slider-container\">\n        <Button\n          img=\"icon-zoom-thumb-out\"\n          title=\"action.zoomOut\"\n          hideTooltipShortcut\n          onClick={() => {\n            if (thumbnailSize - Number(ZOOM_RANGE_STEP) > Number(ZOOM_RANGE_STEP)) {\n              setThumbnailSize(thumbnailSize - Number(ZOOM_RANGE_STEP));\n              updateNumberOfColumns();\n            }\n          }}\n          dataElement=\"zoomThumbOutButton\"\n        />\n        <input\n          role='slider'\n          type=\"range\"\n          aria-label='thumbnail size slider'\n          min={ZOOM_RANGE_MIN}\n          max={ZOOM_RANGE_MAX}\n          value={thumbnailSize}\n          aria-valuemin={ZOOM_RANGE_MIN}\n          aria-valuemax={ZOOM_RANGE_MAX}\n          aria-valuenow={thumbnailSize}\n          onChange={(e) => {\n            setThumbnailSize(Number(e.target.value));\n            updateNumberOfColumns();\n          }}\n          step={ZOOM_RANGE_STEP}\n          className=\"thumbnail-slider\"\n          id=\"thumbnailSize\"\n        />\n        <Button\n          img=\"icon-zoom-thumb-in\"\n          title=\"action.zoomIn\"\n          hideTooltipShortcut\n          onClick={() => {\n            if (thumbnailSize + Number(ZOOM_RANGE_STEP) < 1001) {\n              setThumbnailSize(thumbnailSize + Number(ZOOM_RANGE_STEP));\n              updateNumberOfColumns();\n            }\n          }}\n          dataElement=\"zoomThumbInButton\"\n        />\n      </div>}\n      <Measure bounds onResize={onPanelResize} key={thumbnailSize}>\n        {({ measureRef }) => (\n          <div className={`Panel ThumbnailsPanel ${panelSelector}`} id=\"virtualized-thumbnails-container\" data-element=\"thumbnailsPanel\" onDrop={onDrop} ref={measureRef}>\n            <div className=\"virtualized-thumbnails-container\">\n              {isDragging ?\n                <div className=\"thumbnailAutoScrollArea\" onDragOver={scrollUp} style={thumbnailAutoScrollAreaStyle}></div> : ''\n              }\n              <List\n                ref={listRef}\n                height={height}\n                width={width}\n                rowHeight={thumbnailHeight}\n                // Round it to a whole number because React-Virtualized list library doesn't round it for us and throws errors when rendering non whole number rows\n                // use ceiling rather than floor so that an extra row can be created in case the items can't be evenly distributed between rows\n                rowCount={Math.ceil(pageCount / numberOfColumns)}\n                rowRenderer={renderThumbnails}\n                overscanRowCount={3}\n                className={'thumbnailsList'}\n                style={{ outline: 'none' }}\n                // Ensure we show the current page in the thumbnails when we open the panel\n                scrollToIndex={Math.floor((currentPage - 1) / numberOfColumns)}\n                role='grid'\n                aria-label={t('component.thumbnailsPanel')}\n              />\n              {isDragging ?\n                <div className=\"thumbnailAutoScrollArea\" onDragOver={scrollDown} style={{ ...thumbnailAutoScrollAreaStyle, 'bottom': '70px' }}></div> : ''\n              }\n            </div>\n          </div>\n        )}\n      </Measure>\n      <DocumentControls shouldShowControls={shouldShowControls} parentElement={panelSelector}/>\n    </React.Fragment>\n  );\n};\n\nexport default ThumbnailsPanel;\n","import ThumbnailsPanel from './ThumbnailsPanel';\n\nexport default ThumbnailsPanel;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport core from 'core';\nimport PropTypes from 'prop-types';\n\nimport Button from '../Button';\nimport DataElementWrapper from '../DataElementWrapper';\nimport MoreOptionsContextMenuPopup from '../MoreOptionsContextMenuPopup';\nimport Choice from 'components/Choice';\n\nconst propTypes = {\n  text: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  defaultLabel: PropTypes.string,\n  pageIndex: PropTypes.number.isRequired,\n  isAdding: PropTypes.bool,\n  isMultiSelectionMode: PropTypes.bool,\n  setSelected: PropTypes.func,\n  onSave: PropTypes.func.isRequired,\n  onRemove: PropTypes.func,\n  onCancel: PropTypes.func,\n  panelSelector: PropTypes.string,\n};\n\nconst Bookmark = ({\n  text,\n  label,\n  defaultLabel,\n  pageIndex,\n  isAdding,\n  isMultiSelectionMode,\n  setSelected,\n  onSave,\n  onRemove,\n  onCancel,\n  panelSelector,\n}) => {\n  const [t] = useTranslation();\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [isDefault, setIsDefault] = useState(false);\n  const [bookmarkText, setBookmarkText] = useState(text);\n  const [isContextMenuOpen, setContextMenuOpen] = useState(false);\n  const [clearSingleClick, setClearSingleClick] = useState(undefined);\n  const inputRef = useRef();\n\n  const isRenameButtonDisabled = () => {\n    return !bookmarkText || text === bookmarkText;\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding || (isEditing && !isRenameButtonDisabled())) {\n        onSaveBookmark();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelBookmark();\n    }\n  };\n\n  const onSaveBookmark = () => {\n    setIsEditing(false);\n    onSave(bookmarkText.trim() === '' ? t('message.untitled') : bookmarkText);\n  };\n\n  const onCancelBookmark = () => {\n    setIsEditing(false);\n    // on cancel reset local bookmark text\n    isEditing && setBookmarkText(text);\n    isAdding && onCancel();\n  };\n\n  const setCurrentPage = (pageIndex) => {\n    core.setCurrentPage(pageIndex + 1);\n  };\n\n  useEffect(() => {\n    if (bookmarkText !== text) {\n      setBookmarkText(text);\n    }\n  }, [text]);\n\n  useEffect(() => {\n    if (isAdding || isEditing) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    if (!isAdding && !isEditing) {\n      setIsDefault(true);\n    } else {\n      setIsDefault(false);\n    }\n  }, [isEditing]);\n\n  return (\n    <DataElementWrapper\n      className={classNames({\n        'bookmark-outline-single-container': true,\n        'editing': isAdding || isEditing,\n        'default': isDefault,\n        'hover': isContextMenuOpen,\n      })}\n      tabIndex={0}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') {\n          setCurrentPage(pageIndex);\n        }\n      }}\n      onClick={(e) => {\n        if (isDefault && e.detail === 1) {\n          setClearSingleClick(setTimeout(() => {\n            setCurrentPage(pageIndex);\n          }, 300));\n        }\n      }}\n      onDoubleClick={() => {\n        if (isDefault) {\n          clearTimeout(clearSingleClick);\n        }\n      }}\n    >\n      {isMultiSelectionMode &&\n        <Choice\n          type=\"checkbox\"\n          className=\"bookmark-outline-checkbox\"\n          id={`bookmark-checkbox-${pageIndex + 1}`}\n          onClick={(e) => e.stopPropagation()}\n          onChange={(e) => setSelected(pageIndex, e.target.checked)}\n        />\n      }\n\n      <div className=\"bookmark-outline-label-row\">\n        <div className=\"bookmark-outline-label\">{(isAdding || isEditing) ? label : defaultLabel}</div>\n\n        {isDefault &&\n          <>\n            {isMultiSelectionMode &&\n              <Button\n                className=\"bookmark-outline-more-button\"\n                dataElement={`bookmark-more-button-${pageIndex}`}\n                img=\"icon-pencil-line\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setIsEditing(true);\n                }}\n                tabIndex={-1}\n              />\n            }\n            {!isMultiSelectionMode &&\n              <Button\n                className=\"bookmark-outline-more-button\"\n                dataElement={`bookmark-more-button-${panelSelector}-${pageIndex}`}\n                img=\"icon-tool-more\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setContextMenuOpen(true);\n                }}\n                tabIndex={-1}\n              />\n            }\n            {isContextMenuOpen && (\n              <MoreOptionsContextMenuPopup\n                type={'bookmark'}\n                anchorButton={`bookmark-more-button-${panelSelector}-${pageIndex}`}\n                shouldDisplayDeleteButton={true}\n                onClosePopup={() => setContextMenuOpen(false)}\n                onRenameClick={() => {\n                  setContextMenuOpen(false);\n                  setIsEditing(true);\n                }}\n                onDeleteClick={() => {\n                  setContextMenuOpen(false);\n                  onRemove(pageIndex);\n                }}\n              />\n            )}\n\n            <div\n              className=\"bookmark-outline-text bookmark-text-input\"\n              onDoubleClick={() => setIsEditing(true)}\n            >\n              {text}\n            </div>\n          </>\n        }\n\n        {(isAdding || isEditing) &&\n          <>\n            <input\n              type=\"text\"\n              name=\"bookmark\"\n              ref={inputRef}\n              className=\"bookmark-outline-input bookmark-text-input\"\n              placeholder={t('component.bookmarkTitle')}\n              aria-label={t('action.name')}\n              value={bookmarkText}\n              onKeyDown={handleKeyDown}\n              onChange={(e) => setBookmarkText(e.target.value)}\n            />\n\n            <div className=\"bookmark-outline-editing-controls\">\n              <Button\n                className=\"bookmark-outline-cancel-button\"\n                label={t('action.cancel')}\n                onClick={onCancelBookmark}\n              />\n              {isAdding &&\n                <Button\n                  className=\"bookmark-outline-save-button\"\n                  label={t('action.add')}\n                  isSubmitType\n                  onClick={onSaveBookmark}\n                />\n              }\n              {isEditing &&\n                <Button\n                  className=\"bookmark-outline-save-button\"\n                  label={t('action.save')}\n                  isSubmitType\n                  disabled={isRenameButtonDisabled()}\n                  onClick={onSaveBookmark}\n                />\n              }\n            </div>\n          </>\n        }\n      </div>\n    </DataElementWrapper>\n  );\n};\n\nBookmark.propTypes = propTypes;\n\nexport default Bookmark;\n","import Bookmark from './Bookmark';\n\nexport default Bookmark;\n","import React, { useEffect, useState } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport Bookmark from 'components/Bookmark';\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport DataElements from 'constants/dataElement';\nimport Choice from 'components/Choice';\n\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './BookmarksPanel.scss';\n\nconst BookmarksPanel = ({ panelSelector }) => {\n  const [\n    isDisabled,\n    bookmarks,\n    currentPageIndex,\n    pageLabels,\n    isBookmarkIconShortcutVisible\n  ] = useSelector(\n    (state) => [\n      selectors.isElementDisabled(state, DataElements.BOOKMARK_PANEL),\n      selectors.getBookmarks(state),\n      selectors.getCurrentPage(state) - 1,\n      selectors.getPageLabels(state),\n      selectors.isBookmarkIconShortcutVisible(state),\n    ],\n    shallowEqual,\n  );\n\n  const [isAddingNewBookmark, setAddingNewBookmark] = useState(false);\n  const [isMultiSelectionMode, setMultiSelectionMode] = useState(false);\n  const [selectingBookmarks, setSelectingBookmarks] = useState([]);\n\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (isBookmarkIconShortcutVisible && !isDisabled) {\n      core.setBookmarkIconShortcutVisibility(true);\n    } else {\n      core.setBookmarkIconShortcutVisibility(false);\n    }\n  }, [isDisabled, isBookmarkIconShortcutVisible]);\n\n  const pageIndexes = Object.keys(bookmarks).map((pageIndex) => parseInt(pageIndex, 10));\n\n  useEffect(() => {\n    // if bookmark is deleted from the shortcut, should also remove from selectingBookmarks\n    selectingBookmarks.forEach((index) => {\n      if (!pageIndexes.includes(index)) {\n        setSelectingBookmarks(selectingBookmarks.filter((bm) => bm !== index));\n      }\n    });\n\n    const shouldResetMultiSelectMode = pageIndexes.length === 0;\n    if (shouldResetMultiSelectMode) {\n      setMultiSelectionMode(false);\n    }\n  }, [bookmarks]);\n\n  const onRemoveBookmarks = (pageIndexes) => {\n    const title = t('warning.deleteBookmark.title');\n    const message = t('warning.deleteBookmark.message');\n    const confirmationWarning = {\n      message,\n      title,\n      onConfirm: () => {\n        pageIndexes.forEach((pageIndex) => dispatch(actions.removeBookmark(pageIndex)));\n        setSelectingBookmarks([]);\n      },\n      confirmBtnText: t('action.delete'),\n    };\n    dispatch(actions.showWarningMessage(confirmationWarning));\n  };\n\n  if (isDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      className={`Panel BookmarksPanel bookmark-outline-panel ${panelSelector}`}\n      data-element={DataElements.BOOKMARK_PANEL}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <div className=\"header-title\">\n          {t('component.bookmarksPanel')}\n        </div>\n        {!isMultiSelectionMode &&\n          <Button\n            className=\"bookmark-outline-control-button\"\n            dataElement={DataElements.BOOKMARK_MULTI_SELECT}\n            label={t('action.edit')}\n            disabled={isAddingNewBookmark || pageIndexes.length === 0}\n            onClick={() => setMultiSelectionMode(true)}\n          />\n        }\n        {isMultiSelectionMode &&\n          <Button\n            className=\"bookmark-outline-control-button\"\n            dataElement={DataElements.BOOKMARK_MULTI_SELECT}\n            label={t('option.bookmarkOutlineControls.done')}\n            disabled={isAddingNewBookmark}\n            onClick={() => {\n              setMultiSelectionMode(false);\n              setSelectingBookmarks([]);\n            }}\n          />\n        }\n      </div>\n\n      <Choice\n        dataElement={DataElements.BOOKMARK_SHORTCUT_OPTION}\n        type=\"checkbox\"\n        isSwitch\n        id=\"bookmark-view-option\"\n        className=\"bookmark-switch\"\n        label={t('message.viewBookmark')}\n        checked={isBookmarkIconShortcutVisible}\n        onChange={(e) => dispatch(actions.setBookmarkIconShortcutVisibility(e.target.checked))}\n      />\n\n      {!isAddingNewBookmark && pageIndexes.length === 0 && (\n        <div className=\"msg msg-no-bookmark-outline\">{t('message.noBookmarks')}</div>\n      )}\n\n      <div className=\"bookmark-outline-row\">\n        {isAddingNewBookmark &&\n          <Bookmark\n            isAdding\n            label={`${t('component.bookmarkPage')} ${pageLabels[currentPageIndex]} - ${t('component.bookmarkTitle')}`}\n            text={bookmarks[currentPageIndex] ?? ''}\n            pageIndex={currentPageIndex}\n            onSave={(newText) => {\n              dispatch(actions.addBookmark(currentPageIndex, newText));\n              setAddingNewBookmark(false);\n            }}\n            onCancel={() => setAddingNewBookmark(false)}\n            panelSelector={panelSelector}\n          />\n        }\n\n        {pageIndexes.map((pageIndex) => (\n          <Bookmark\n            key={pageIndex}\n            panelSelector={panelSelector}\n            isMultiSelectionMode={isMultiSelectionMode}\n            label={`${t('component.bookmarkPage')} ${pageLabels[pageIndex]} - ${t('component.bookmarkTitle')}`}\n            defaultLabel={`${t('component.bookmarkPage')} ${pageLabels[pageIndex]}`}\n            text={bookmarks[pageIndex]}\n            pageIndex={pageIndex}\n            onSave={(newText) => dispatch(actions.editBookmark(pageIndex, newText))}\n            onRemove={(index) => onRemoveBookmarks([index])}\n            setSelected={(index, val) => {\n              if (selectingBookmarks.find((bm) => bm === index)) {\n                if (!val) {\n                  setSelectingBookmarks(selectingBookmarks.filter((bm) => bm !== index));\n                }\n              } else {\n                if (val) {\n                  setSelectingBookmarks([...selectingBookmarks, index]);\n                }\n              }\n            }}\n          />\n        ))}\n      </div>\n\n      <DataElementWrapper\n        className=\"bookmark-outline-footer\"\n        dataElement={DataElements.BOOKMARK_ADD_NEW_BUTTON_CONTAINER}\n      >\n        {isMultiSelectionMode ?\n          <>\n            <Button\n              className=\"multi-selection-button\"\n              img=\"icon-menu-add\"\n              disabled={selectingBookmarks.length > 0 || !!bookmarks[currentPageIndex] || isAddingNewBookmark}\n              onClick={() => setAddingNewBookmark(true)}\n            />\n            <Button\n              className=\"multi-selection-button\"\n              img=\"icon-delete-line\"\n              disabled={selectingBookmarks.length === 0}\n              onClick={() => onRemoveBookmarks(selectingBookmarks)}\n            />\n          </>\n          :\n          <Button\n            className=\"bookmark-outline-control-button add-new-button\"\n            img=\"icon-menu-add\"\n            dataElement={DataElements.BOOKMARK_ADD_NEW_BUTTON}\n            label={`${t('action.add')} ${t('component.bookmarkPanel')}`}\n            disabled={isAddingNewBookmark || !!bookmarks[currentPageIndex]}\n            onClick={() => setAddingNewBookmark(true)}\n          />\n        }\n      </DataElementWrapper>\n    </div>\n  );\n};\n\nexport default BookmarksPanel;\n","import BookmarksPanel from './BookmarksPanel';\n\nexport default BookmarksPanel;\n","import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { getFileAttachments, getEmbeddedFileData } from 'helpers/getFileAttachments';\r\nimport Spinner from '../Spinner';\r\nimport { saveAs } from 'file-saver';\r\nimport Icon from 'components/Icon';\r\nimport core from 'core';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport selectors from 'selectors';\r\nimport actions from 'actions';\r\nimport DataElements from 'constants/dataElement';\r\n\r\nimport './FileAttachmentPanel.scss';\r\n\r\nconst getActualFileName = (filename) => {\r\n  const fileNameRegex = /[^\\\\\\/]+$/g;\r\n  return filename.match(fileNameRegex)[0];\r\n};\r\n\r\nconst renderAttachment = (filename, onClickCallback, key, showFileIdProcessSpinner) => {\r\n  filename = getActualFileName(filename);\r\n  const fileExtension = filename.split('.').pop().toUpperCase();\r\n  if (showFileIdProcessSpinner === key) {\r\n    return (\r\n      <li onClick={onClickCallback} key={key}>\r\n        <div className='embedSpinner'>{`[${fileExtension}] ${filename}`}<Spinner height={15} width={15}/></div>\r\n      </li>\r\n    );\r\n  }\r\n  return (\r\n    <li onClick={onClickCallback} key={key}>\r\n      {`[${fileExtension}] ${filename}`}\r\n    </li>\r\n  );\r\n};\r\n\r\nconst initialFilesDefault = { embeddedFiles: [], fileAttachmentAnnotations: [] };\r\n\r\nconst FileAttachmentPanel = ({ initialFiles = initialFilesDefault }) => {\r\n  const [t] = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const [fileAttachments, setFileAttachments] = useState(initialFiles);\r\n  const isMultiTab = useSelector(selectors.getIsMultiTab);\r\n  const tabManager = useSelector(selectors.getTabManager);\r\n  const [showFileIdProcessSpinner, setFileIdProcessSpinner] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const updateFileAttachments = async () => {\r\n      const attachments = await getFileAttachments();\r\n      setFileAttachments(attachments);\r\n    };\r\n    core.addEventListener('annotationChanged', updateFileAttachments);\r\n    core.addEventListener('documentLoaded', updateFileAttachments);\r\n    updateFileAttachments();\r\n    return () => {\r\n      core.removeEventListener('annotationChanged', updateFileAttachments);\r\n      core.removeEventListener('documentLoaded', updateFileAttachments);\r\n    };\r\n  }, []);\r\n\r\n  if (\r\n    fileAttachments.embeddedFiles.length === 0 &&\r\n    Object.entries(fileAttachments.fileAttachmentAnnotations).length === 0\r\n  ) {\r\n    return (\r\n      <div className=\"no-attachment\">\r\n        <Icon className=\"empty-icon\" glyph=\"illustration - empty state - outlines\" />\r\n        <div className=\"msg\">{t('message.noAttachments')}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const attachmentPanelItemOnClick = async (fileAttachmentAnnot) => {\r\n    if (isMultiTab) {\r\n      dispatch(actions.openElement(DataElements.LOADING_MODAL));\r\n      setTimeout(async () => {\r\n        const blob = await fileAttachmentAnnot.getFileData();\r\n        const filename = getActualFileName(fileAttachmentAnnot.filename);\r\n        const newTabId = await tabManager.addTab(blob, { filename });\r\n        dispatch(actions.closeElement(DataElements.LOADING_MODAL));\r\n        dispatch(actions.closeElement(DataElements.LEFT_PANEL));\r\n        await tabManager.setActiveTab(newTabId);\r\n      }, 100);\r\n    } else {\r\n      return core.getAnnotationManager().trigger('annotationDoubleClicked', fileAttachmentAnnot);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fileAttachmentPanel\">\r\n      <div className=\"section\">\r\n        {fileAttachments.embeddedFiles.length ? <p className=\"title\">{t('message.embeddedFiles')}</p> : null}\r\n        <ul className=\"downloadable\">\r\n          {fileAttachments.embeddedFiles.map((file, idx) => renderAttachment(\r\n            getActualFileName(file.filename),\r\n            () => {\r\n              setFileIdProcessSpinner(`embeddedFile_${idx}`);\r\n              getEmbeddedFileData(file.fileObject).then((blob) => {\r\n                saveAs(blob, getActualFileName(file.filename));\r\n              }).finally(() => {\r\n                setFileIdProcessSpinner(null);\r\n              });\r\n            },\r\n            `embeddedFile_${idx}`,\r\n            showFileIdProcessSpinner\r\n          )\r\n          )}\r\n        </ul>\r\n      </div>\r\n\r\n      {Object.entries(fileAttachments.fileAttachmentAnnotations).map(([pageNumber, fileAttachmentAnnotsPerPage]) => {\r\n        return (\r\n          <div key={pageNumber} className=\"section\">\r\n            <p className=\"title\">\r\n              {t('message.pageNum')}: {pageNumber}\r\n            </p>\r\n            <ul className=\"downloadable\">\r\n              {fileAttachmentAnnotsPerPage.map((fileAttachmentAnnot, idx) => renderAttachment(\r\n                getActualFileName(fileAttachmentAnnot.filename),\r\n                async () => {\r\n                  core.setCurrentPage(fileAttachmentAnnot['PageNumber']);\r\n                  core.selectAnnotation(fileAttachmentAnnot);\r\n                  await attachmentPanelItemOnClick(fileAttachmentAnnot);\r\n                },\r\n                `fileAttachmentAnnotation_${idx}`,\r\n              ),\r\n              )}\r\n            </ul>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileAttachmentPanel;\r\n","import FileAttachmentPanel from './FileAttachmentPanel';\r\n\r\nexport default FileAttachmentPanel;\r\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dropTargetRef\", null);\n\n    _defineProperty(this, \"dropTargetNode\", void 0);\n\n    _defineProperty(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dragSourceRef\", null);\n\n    _defineProperty(this, \"dragSourceNode\", void 0);\n\n    _defineProperty(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty(this, \"dragPreviewRef\", null);\n\n    _defineProperty(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useEffect } from 'react';\nimport { useDragDropManager } from './useDragDropManager';\nimport { useCollector } from './useCollector';\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\n\nexport function useDragLayer(collect) {\n  var dragDropManager = useDragDropManager();\n  var monitor = dragDropManager.getMonitor();\n\n  var _useCollector = useCollector(monitor, collect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useEffect(function () {\n    return monitor.subscribeToOffsetChange(updateCollected);\n  });\n  useEffect(function () {\n    return monitor.subscribeToStateChange(updateCollected);\n  });\n  return collected;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { TargetConnector, DropTargetMonitorImpl, registerTarget } from '../internals';\nimport { isPlainObject, isValidType } from './utils';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\n/**\n * @param type The accepted target type\n * @param spec The DropTarget specification\n * @param collect The props collector function\n * @param options Options\n */\n\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    _defineProperty(this, \"beginDrag\", function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    });\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { registerSource, DragSourceMonitorImpl, SourceConnector } from '../internals';\nimport { checkDecoratorArguments, isPlainObject, isValidType } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createSourceFactory } from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","import { __assign, __rest } from \"tslib\";\nimport classnames from 'classnames';\nimport React, { forwardRef, useMemo } from 'react';\nimport { useFocus } from '../../hooks';\nimport { Icon } from '../Icon';\nexport var Input = forwardRef(function (_a, ref) {\n    var _b = _a.message, message = _b === void 0 ? 'default' : _b, messageText = _a.messageText, fillWidth = _a.fillWidth, wrapperClassName = _a.wrapperClassName, padMessageText = _a.padMessageText, className = _a.className, onFocus = _a.onFocus, onBlur = _a.onBlur, rightElement = _a.rightElement, leftElement = _a.leftElement, _c = _a.type, type = _c === void 0 ? 'text' : _c, props = __rest(_a, [\"message\", \"messageText\", \"fillWidth\", \"wrapperClassName\", \"padMessageText\", \"className\", \"onFocus\", \"onBlur\", \"rightElement\", \"leftElement\", \"type\"]);\n    var _d = useFocus(onFocus, onBlur), focused = _d.focused, handleOnFocus = _d.handleOnFocus, handleOnBlur = _d.handleOnBlur;\n    var rightIcon = useMemo(function () {\n        if (rightElement)\n            return rightElement;\n        var icon = undefined;\n        switch (message) {\n            case 'warning':\n                icon = 'Warning';\n                break;\n            case 'error':\n                icon = 'Error';\n                break;\n        }\n        return icon ? React.createElement(Icon, { className: \"ui__input__icon\", icon: icon }) : undefined;\n    }, [message, rightElement]);\n    var wrapperClass = classnames('ui__base ui__input__wrapper', {\n        'ui__input__wrapper--fill': fillWidth,\n        'ui__input__wrapper--pad': padMessageText && !messageText,\n    }, wrapperClassName);\n    var mainClass = classnames('ui__input', \"ui__input--message-\" + message, { 'ui__input--focused': focused });\n    var inputClass = classnames('ui__input__input', { 'ui__input__input--disabled': props.disabled }, className);\n    return (React.createElement(\"div\", { className: wrapperClass },\n        React.createElement(\"div\", { className: mainClass },\n            leftElement,\n            React.createElement(\"input\", __assign({}, props, { type: type, onFocus: handleOnFocus, onBlur: handleOnBlur, className: inputClass, ref: ref })),\n            rightIcon),\n        messageText ? React.createElement(\"div\", { className: \"ui__input__messageText\" }, messageText) : undefined));\n});\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./LeftPanelTabs.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.LeftPanelTabs{display:flex;flex:1;border-radius:4px;border:1px solid var(--border)}.LeftPanelTabs .Button{flex-grow:1;height:26px;margin:0;border-radius:0}.LeftPanelTabs .Button:not(:last-child){border-right:1px solid var(--divider)}.LeftPanelTabs .Button:first-child{border-bottom-left-radius:4px;border-top-left-radius:4px}.LeftPanelTabs .Button:last-child{border-bottom-right-radius:4px;border-top-right-radius:4px}.LeftPanelTabs .Button .Icon{width:19px;height:19px}.LeftPanelTabs .Button:hover{background:var(--popup-button-hover)}.LeftPanelTabs .Button.active{background:var(--popup-button-active)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./PortfolioItemContent.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".PortfolioPanel .bookmark-outline-single-container{margin-top:6px;margin-bottom:6px}.PortfolioPanel .bookmark-outline-single-container .bookmark-outline-label-row{align-items:center}.PortfolioPanel .bookmark-outline-single-container .bookmark-outline-text{flex-basis:calc(100% - 38px)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input{-webkit-font-smoothing:antialiased}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input{border-color:var(--border)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-error{border-color:var(--error-border-color)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-error.ui__input--focused{box-shadow:none}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-error .ui__input__icon{display:none}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-default.ui__input--focused{border-color:var(--outline-color);box-shadow:none}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input .ui__input__input{padding:var(--padding-small);color:var(--text-color);height:auto;overflow:auto;line-height:normal}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input .ui__input__input::-moz-placeholder{color:var(--placeholder-text)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input .ui__input__input:-ms-input-placeholder{color:var(--placeholder-text)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input .ui__input__input::placeholder{color:var(--placeholder-text)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input__messageText{color:var(--error-text-color);margin-top:var(--padding-small);font-size:inherit}.PortfolioPanel .bookmark-outline-single-container .portfolio-item-icon{margin-right:5px}.PortfolioPanel .bookmark-outline-single-container .portfolio-item-icon .Icon{width:15px;height:15px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./PortfolioItem.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./PortfolioPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.PortfolioPanel .portfolio-panel-control{display:flex}.PortfolioPanel .bookmark-outline-row{padding-top:6px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlinesPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".OutlinesPanel .bookmark-outline-single-container{margin-top:6px;margin-bottom:6px}.OutlinesPanel .bookmark-outline-row{padding-top:6px}.OutlinesPanel .msg-no-bookmark-outline{margin-top:6px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./LeftPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.LeftPanel .Panel{overflow:auto;-webkit-overflow-scrolling:touch;flex:1;flex-direction:column}.LeftPanel{z-index:65;display:flex!important;flex-direction:column;background-color:var(--panel-background);display:flex;flex-direction:row;justify-content:flex-end;overflow:hidden;position:fixed;left:0;transition:transform .3s ease-in-out;max-width:calc(100% - 16px);height:calc(100% - 40px)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel{max-width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel{max-width:100%}}.LeftPanel.logo-bar-enabled{height:calc(100% - 24px)}.LeftPanel.tools-header-open{height:calc(100% - 80px)}.LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 104px)}.LeftPanel.multi-tab-active{height:calc(100% - 120px)}.LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 144px)}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.multi-tab-active{height:calc(100% - 140px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 164px)}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.multi-tab-active{height:calc(100% - 140px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 164px)}}@media(min-width:901px){.App:not(.is-web-component) .LeftPanel{height:calc(100% - 40px)}.App:not(.is-web-component) .LeftPanel.logo-bar-enabled{height:calc(100% - 64px)}.App:not(.is-web-component) .LeftPanel.tools-header-open{height:calc(100% - 74px)}.App:not(.is-web-component) .LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 98px)}.App:not(.is-web-component) .LeftPanel.multi-tab-active{height:calc(100% - 120px)}.App:not(.is-web-component) .LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 144px)}}@container (min-width: 901px){.LeftPanel{height:calc(100% - 40px)}.LeftPanel.logo-bar-enabled{height:calc(100% - 64px)}.LeftPanel.tools-header-open{height:calc(100% - 74px)}.LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 98px)}.LeftPanel.multi-tab-active{height:calc(100% - 120px)}.LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 144px)}}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel{height:calc(100% - 37px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.logo-bar-enabled{height:calc(100% - 61px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-open{height:calc(100% - 76px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 100px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.multi-tab-active{height:calc(100% - 115px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 139px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-and-header-hidden{height:100%}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-and-header-hidden.logo-bar-enabled{height:calc(100% - 24px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-and-header-hidden.multi-tab-active{height:calc(100% - 140px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-and-header-hidden.multi-tab-active.logo-bar-enabled{height:calc(100% - 164px)}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel{height:calc(100% - 37px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.logo-bar-enabled{height:calc(100% - 61px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-open{height:calc(100% - 76px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 100px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.multi-tab-active{height:calc(100% - 115px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 139px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-and-header-hidden{height:100%}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-and-header-hidden.logo-bar-enabled{height:calc(100% - 24px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-and-header-hidden.multi-tab-active{height:calc(100% - 140px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-and-header-hidden.multi-tab-active.logo-bar-enabled{height:calc(100% - 164px)}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel{height:calc(100% - 53px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.logo-bar-enabled{height:calc(100% - 77px)}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel{height:calc(100% - 53px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.logo-bar-enabled{height:calc(100% - 77px)}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-open{height:calc(100% - 104px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 128px)}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-open{height:calc(100% - 104px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 128px)}}.LeftPanel.closed{transform:translateX(-100%)}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel{border-right:1px solid var(--side-panel-border)}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel{border-right:1px solid var(--side-panel-border)}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel{position:fixed;top:0;left:0;height:100%;width:100%;z-index:95}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel{position:fixed;top:0;left:0;height:100%;width:100%;z-index:95}}.LeftPanel .left-panel-container{display:flex;flex-direction:column;padding:16px 16px 0}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel .left-panel-container{padding-top:0;width:100%;min-width:100%}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel .left-panel-container .close-container{display:flex;align-items:center;justify-content:flex-end;height:64px;width:100%;padding-right:5px;top:0}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel .left-panel-container .close-container .close-icon-container{cursor:pointer}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel .left-panel-container .close-container .close-icon-container .close-icon{width:24px;height:24px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel .left-panel-container{padding-top:0;width:100%;min-width:100%}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel .left-panel-container .close-container{display:flex;align-items:center;justify-content:flex-end;height:64px;width:100%;padding-right:5px;top:0}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel .left-panel-container .close-container .close-icon-container{cursor:pointer}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel .left-panel-container .close-container .close-icon-container .close-icon{width:24px;height:24px}}.LeftPanel .left-panel-header{display:flex;align-items:center;margin:0 8px 16px 16px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\n\nimport Button from 'components/Button';\nimport Element from 'components/Element';\n\nimport DataElements from 'constants/dataElement';\n\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport './LeftPanelTabs.scss';\n\nclass LeftPanelTabs extends React.Component {\n  static propTypes = {\n    isLeftPanelOpen: PropTypes.bool,\n    showPortfolio: PropTypes.bool,\n    activePanel: PropTypes.string.isRequired,\n    disabledCustomPanelTabs: PropTypes.array.isRequired,\n    customPanels: PropTypes.array.isRequired,\n    isLeftPanelTabsDisabled: PropTypes.bool,\n    setActiveLeftPanel: PropTypes.func.isRequired,\n    t: PropTypes.func.isRequired,\n  };\n\n  isActive = (panel) => this.props.activePanel === panel;\n\n  render() {\n    const {\n      isLeftPanelOpen,\n      showPortfolio,\n      customPanels,\n      isLeftPanelTabsDisabled,\n      setActiveLeftPanel,\n      notesInLeftPanel,\n      openElement,\n    } = this.props;\n\n    if (isLeftPanelTabsDisabled) {\n      return null;\n    }\n\n    return (\n      <Element className=\"LeftPanelTabs\" dataElement=\"leftPanelTabs\">\n        {showPortfolio &&\n          <Button\n            isActive={this.isActive(DataElements.PORTFOLIO_PANEL)}\n            dataElement={DataElements.PORTFOLIO_PANEL_BUTTON}\n            img=\"icon-compare-change\"\n            onClick={() => setActiveLeftPanel(DataElements.PORTFOLIO_PANEL)}\n            title=\"portfolio.portfolioPanelTitle\"\n            tabIndex={isLeftPanelOpen ? 0 : -1}\n          />}\n        <Button\n          isActive={this.isActive('thumbnailsPanel')}\n          dataElement=\"thumbnailsPanelButton\"\n          img=\"icon-panel-thumbnail-line\"\n          onClick={() => setActiveLeftPanel('thumbnailsPanel')}\n          title=\"component.thumbnailsPanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        <Button\n          isActive={this.isActive('outlinesPanel')}\n          dataElement=\"outlinesPanelButton\"\n          img=\"icon-panel-outlines\"\n          onClick={() => setActiveLeftPanel('outlinesPanel')}\n          title=\"component.outlinesPanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        <Button\n          isActive={this.isActive('layersPanel')}\n          dataElement=\"layersPanelButton\"\n          img=\"ic_layers_24px\"\n          onClick={() => setActiveLeftPanel('layersPanel')}\n          title=\"component.layersPanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        <Button\n          isActive={this.isActive('bookmarksPanel')}\n          dataElement=\"bookmarksPanelButton\"\n          img=\"ic_bookmarks_black_24px\"\n          onClick={() => setActiveLeftPanel('bookmarksPanel')}\n          title=\"component.bookmarksPanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        <Button\n          isActive={this.isActive('signaturePanel')}\n          dataElement=\"signaturePanelButton\"\n          img=\"icon-tool-signature\"\n          onClick={() => setActiveLeftPanel('signaturePanel')}\n          title=\"component.signaturePanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        <Button\n          isActive={this.isActive('attachmentPanel')}\n          dataElement=\"attachmentPanelButton\"\n          img=\"ic_fileattachment_24px\"\n          onClick={() => setActiveLeftPanel('attachmentPanel')}\n          title=\"component.attachmentPanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        {notesInLeftPanel &&\n          <Button\n            isActive={this.isActive(DataElements.NOTES_PANEL)}\n            dataElement=\"notesPanelButton\"\n            img=\"icon-header-chat-line\"\n            onClick={() => {\n              openElement(DataElements.NOTES_PANEL);\n              setActiveLeftPanel(DataElements.NOTES_PANEL);\n            }}\n            title=\"component.notesPanel\"\n          />}\n        {customPanels.map(({ panel, tab }, index) => <React.Fragment key={index}>\n          <Button\n            key={tab.dataElement || index}\n            isActive={this.isActive(panel.dataElement)}\n            dataElement={tab.dataElement}\n            img={tab.img}\n            onClick={() => setActiveLeftPanel(panel.dataElement)}\n            title={tab.title}\n          />\n          {index < customPanels.length - 1 && <div className=\"divider\" />}\n        </React.Fragment>,\n        )}\n      </Element>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isLeftPanelOpen: selectors.isElementOpen(state, 'leftPanel'),\n  activePanel: selectors.getActiveLeftPanel(state),\n  customPanels: selectors.getCustomPanels(state),\n  disabledCustomPanelTabs: selectors.getDisabledCustomPanelTabs(state),\n  isLeftPanelTabsDisabled: selectors.isElementDisabled(state, 'leftPanelTabs'),\n  notesInLeftPanel: selectors.getNotesInLeftPanel(state),\n});\n\nconst mapDispatchToProps = {\n  setActiveLeftPanel: actions.setActiveLeftPanel,\n  openElement: actions.openElement,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(withTranslation()(LeftPanelTabs));\n","import LeftPanelTabs from './LeftPanelTabs';\n\nexport default LeftPanelTabs;","import React from 'react';\n\nconst PortfolioContext = React.createContext();\n\nexport default PortfolioContext;","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\n\nimport { Input } from '@pdftron/webviewer-react-toolkit';\nimport Button from 'components/Button';\nimport Icon from 'components/Icon';\nimport PortfolioContext from 'components/PortfolioPanel/PortfolioContext';\nimport MoreOptionsContextMenuPopup from 'components/MoreOptionsContextMenuPopup';\nimport { isOpenableFile } from 'helpers/portfolio';\n\nimport './PortfolioItemContent.scss';\n\nconst propTypes = {\n  portfolioItem: PropTypes.object.isRequired,\n  isAdding: PropTypes.bool,\n  isPortfolioRenaming: PropTypes.bool,\n  setPortfolioRenaming: PropTypes.func,\n  setIsHovered: PropTypes.func,\n};\n\nconst PortfolioItemContent = ({\n  portfolioItem,\n  isAdding,\n  isPortfolioRenaming,\n  setPortfolioRenaming,\n  setIsHovered,\n}) => {\n  const {\n    setAddingNewFolder,\n    addNewFolder,\n    refreshPortfolio,\n    renamePortfolioItem,\n    removePortfolioItem,\n    openPortfolioItem,\n    downloadPortfolioItem,\n    isNameDuplicated,\n  } = useContext(PortfolioContext);\n\n  const { name, nameWithoutExtension, extension, id, isFolder } = portfolioItem;\n\n  const [t] = useTranslation();\n  const inputRef = useRef();\n  const [isDefault, setIsDefault] = useState(false);\n  const [portfolioEditName, setPortfolioEditName] = useState(nameWithoutExtension);\n  const [isContextMenuOpen, setContextMenuOpen] = useState(false);\n\n  const getIcon = () => {\n    return isFolder ? 'icon-folder' : 'icon-header-page-manipulation-page-layout-single-page-line';\n  };\n\n  const isRenameButtonDisabled = () => {\n    return !portfolioEditName || nameWithoutExtension === portfolioEditName || isNameDuplicated(`${portfolioEditName}.${extension}`, id);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding) {\n        onAddFolder();\n      }\n      if (isPortfolioRenaming && !isRenameButtonDisabled()) {\n        onRenamePortfolioItem();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelPortfolio();\n    }\n  };\n\n  const onAddFolder = () => {\n    addNewFolder(portfolioEditName.trim() === '' ? '' : portfolioEditName);\n  };\n\n  const onRenamePortfolioItem = () => {\n    setPortfolioRenaming(false);\n    renamePortfolioItem(id, `${portfolioEditName}.${extension}`);\n  };\n\n  const onCancelPortfolio = () => {\n    if (isPortfolioRenaming) {\n      setPortfolioRenaming(false);\n      setPortfolioEditName(nameWithoutExtension);\n    }\n    if (isAdding) {\n      setAddingNewFolder(false);\n    }\n    refreshPortfolio();\n  };\n\n  const duplicatedMessage = () => {\n    if (!isNameDuplicated(`${portfolioEditName}.${extension}`, id)) {\n      return '';\n    }\n    return isFolder ? t('portfolio.folderNameAlreadyExists') : t('portfolio.fileNameAlreadyExists');\n  };\n\n  useEffect(() => {\n    // when in adding or renaming mode, input is automatically focused\n    if (isAdding || isPortfolioRenaming) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    setIsDefault(!isAdding && !isPortfolioRenaming);\n  }, [isAdding, isPortfolioRenaming]);\n\n  useEffect(() => {\n    if (!isAdding) {\n      setIsHovered(isContextMenuOpen);\n    }\n  }, [isContextMenuOpen]);\n\n  return (\n    <div className=\"bookmark-outline-label-row\">\n      {isAdding &&\n        <div className=\"bookmark-outline-label\">\n          {t('portfolio.portfolioNewFolder')}\n        </div>\n      }\n\n      {isDefault &&\n        <>\n          <span className=\"portfolio-item-icon\">\n            <Icon glyph={getIcon()} color={'inherit'} />\n          </span>\n          <div\n            className=\"bookmark-outline-text outline-text\"\n          >\n            {name}\n          </div>\n\n          <Button\n            className=\"bookmark-outline-more-button\"\n            dataElement={`portfolio-item-more-button-${id}`}\n            img=\"icon-tool-more\"\n            tabIndex={-1}\n            onClick={(e) => {\n              e.stopPropagation(); // click on this button won't select the file/folder\n              setContextMenuOpen(true);\n            }}\n          />\n\n          {isContextMenuOpen &&\n            <MoreOptionsContextMenuPopup\n              type={'portfolio'}\n              anchorButton={`portfolio-item-more-button-${id}`}\n              onClosePopup={() => setContextMenuOpen(false)}\n              onRenameClick={() => {\n                setContextMenuOpen(false);\n                setPortfolioRenaming(true);\n              }}\n              onDownloadClick={() => {\n                setContextMenuOpen(false);\n                downloadPortfolioItem(portfolioItem);\n              }}\n              shouldDisplayDeleteButton={true}\n              onDeleteClick={() => {\n                setContextMenuOpen(false);\n                removePortfolioItem(id);\n              }}\n              onOpenClick={isOpenableFile(extension) ? () => {\n                setContextMenuOpen(false);\n                openPortfolioItem(portfolioItem);\n              } : null}\n            />\n          }\n        </>\n      }\n\n      {(isAdding || isPortfolioRenaming) &&\n        <>\n          <Input\n            type=\"text\"\n            name=\"outline\"\n            ref={inputRef}\n            wrapperClassName=\"portfolio-input\"\n            placeholder={isFolder ? t('portfolio.portfolioFolderPlaceholder') : t('portfolio.portfolioFilePlaceholder')}\n            aria-label={t('action.name')}\n            value={portfolioEditName}\n            onKeyDown={handleKeyDown}\n            onChange={(e) => setPortfolioEditName(e.target.value)}\n            fillWidth\n            messageText={duplicatedMessage()}\n            message={isNameDuplicated(`${portfolioEditName}.${extension}`, id) ? 'error' : 'default'}\n          />\n\n          <div className=\"bookmark-outline-editing-controls\">\n            <Button\n              className=\"bookmark-outline-cancel-button\"\n              label={t('action.cancel')}\n              onClick={onCancelPortfolio}\n            />\n            {isAdding &&\n              <Button\n                className=\"bookmark-outline-save-button\"\n                label={t('action.add')}\n                isSubmitType={true}\n                onClick={onAddFolder}\n              />\n            }\n            {isPortfolioRenaming &&\n              <Button\n                className=\"bookmark-outline-save-button\"\n                label={t('action.save')}\n                isSubmitType={true}\n                disabled={isRenameButtonDisabled()}\n                onClick={onRenamePortfolioItem}\n              />\n            }\n          </div>\n        </>\n      }\n    </div>\n  );\n};\n\nPortfolioItemContent.propTypes = propTypes;\n\nexport default PortfolioItemContent;\n","import PortfolioItemContent from './PortfolioItemContent';\n\nexport default PortfolioItemContent;\n","import React, { forwardRef, useCallback, useContext, useImperativeHandle, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { DragSource, DropTarget } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { ItemTypes, DropLocation, BUFFER_ROOM } from 'constants/dnd';\n\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport PortfolioContext from 'components/PortfolioPanel/PortfolioContext';\nimport PortfolioItemContent from 'components/PortfolioItemContent';\nimport { hasChildren } from 'helpers/portfolio';\n\nimport './PortfolioItem.scss';\n\nconst propTypes = {\n  portfolioItem: PropTypes.object.isRequired,\n  movePortfolioInward: PropTypes.func,\n  movePortfolioBeforeTarget: PropTypes.func,\n  movePortfolioAfterTarget: PropTypes.func,\n  connectDragSource: PropTypes.func,\n  connectDragPreview: PropTypes.func,\n  connectDropTarget: PropTypes.func,\n  isDragging: PropTypes.bool,\n  isDraggedUpwards: PropTypes.bool,\n  isDraggedDownwards: PropTypes.bool,\n};\n\nconst PortfolioItem = forwardRef(({\n  portfolioItem,\n  movePortfolioInward,\n  movePortfolioBeforeTarget,\n  movePortfolioAfterTarget,\n  connectDragSource,\n  connectDragPreview,\n  connectDropTarget,\n  isDragging,\n  isDraggedUpwards,\n  isDraggedDownwards,\n}, ref) => {\n  const {\n    setActivePortfolioItem,\n    isPortfolioItemActive,\n    isAddingNewFolder,\n    setAddingNewFolder,\n    openPortfolioItem,\n  } = useContext(PortfolioContext);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [isRenaming, setIsRenaming] = useState(false);\n  const [isHovered, setHovered] = useState(false); // when the popup menu is open, the container will have a background\n  const isActive = isPortfolioItemActive(portfolioItem);\n\n  const elementRef = useRef(null);\n  connectDragSource(elementRef);\n  connectDragPreview(getEmptyImage(), { captureDraggingState: true });\n  connectDropTarget(elementRef);\n  const opacity = isDragging ? 0.5 : 1;\n  useImperativeHandle(ref, () => ({\n    getNode: () => elementRef.current,\n  }));\n\n  const togglePortfolioItem = useCallback(() => {\n    setIsExpanded((expand) => !expand);\n  }, []);\n\n  const onDoubleClick = useCallback(() => {\n    // If the item is in renaming-mode, double-clicking on it won't do anything\n    if (isRenaming) {\n      return;\n    }\n\n    openPortfolioItem(portfolioItem);\n    setActivePortfolioItem(portfolioItem.id);\n\n    // If the panel is in add-folder-mode, reset it when double-clicking on other items\n    if (isAddingNewFolder) {\n      setAddingNewFolder(false);\n    }\n  }, [isRenaming, portfolioItem, openPortfolioItem, setActivePortfolioItem, isAddingNewFolder, setAddingNewFolder]);\n\n  return (\n    <div\n      ref={(!isAddingNewFolder) ? elementRef : null}\n      className=\"outline-drag-container\"\n      style={{ opacity }}\n    >\n      <div className=\"outline-drag-line\" style={{ opacity: isDraggedUpwards ? 1 : 0 }} />\n      <DataElementWrapper\n        className={classNames({\n          'bookmark-outline-single-container': true,\n          'editing': isRenaming,\n          'default': !isRenaming,\n          'selected': isActive,\n          'hover': isHovered && !isActive,\n        })}\n        tabIndex={0}\n        onDoubleClick={onDoubleClick}\n      >\n        <div\n          className={classNames({\n            'outline-treeview-toggle': true,\n            expanded: isExpanded,\n          })}\n          style={{ marginLeft: portfolioItem.getNestedLevel() * 12 }}\n        >\n          {hasChildren(portfolioItem) &&\n            <Button\n              img=\"icon-chevron-right\"\n              tabIndex={0}\n              onClick={(e) => {\n                e.stopPropagation();\n                togglePortfolioItem();\n              }}\n            />\n          }\n        </div>\n\n        <PortfolioItemContent\n          portfolioItem={portfolioItem}\n          isPortfolioRenaming={isRenaming}\n          setPortfolioRenaming={setIsRenaming}\n          setIsHovered={setHovered}\n        />\n      </DataElementWrapper>\n\n      <div className=\"outline-drag-line\" style={{ opacity: isDraggedDownwards ? 1 : 0 }} />\n\n      {isExpanded &&\n        portfolioItem?.children.map((child) => (\n          <PortfolioItemNested\n            portfolioItem={child}\n            key={child.id}\n            movePortfolioInward={movePortfolioInward}\n            movePortfolioBeforeTarget={movePortfolioBeforeTarget}\n            movePortfolioAfterTarget={movePortfolioAfterTarget}\n          />\n        ))\n      }\n    </div>\n  );\n});\n\nPortfolioItem.propTypes = propTypes;\nPortfolioItem.displayName = 'PortfolioItem';\n\nconst PortfolioItemNested = DropTarget(\n  ItemTypes.PORTFOLIO,\n  {\n    hover(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n\n      const dragObject = dropTargetMonitor.getItem();\n      if (!dragObject) {\n        return;\n      }\n\n      const { dragPortfolioItem, dragSourceNode } = dragObject;\n      const { portfolioItem: dropPortfolioItem } = props;\n\n      const dropTargetNode = dropTargetContainer.getNode();\n      if (!dragSourceNode || !dropTargetNode) {\n        return;\n      }\n\n      const portfolioItemIsBeingDraggedIntoDescendant = dragSourceNode.contains(dropTargetNode);\n      if (portfolioItemIsBeingDraggedIntoDescendant) {\n        dragObject.dropTargetNode = undefined;\n        dragObject.dropLocation = DropLocation.INITIAL;\n        return;\n      }\n\n      dragObject.dropTargetNode = dropTargetNode;\n      const dragId = dragPortfolioItem.id;\n      const hoverId = dropPortfolioItem.id;\n      // do nothing if drag object and drop object are the same item\n      // depends on the data structure, could have more conditions here\n      if (dragId === hoverId) {\n        return;\n      }\n\n      const dropTargetBoundingRect = dropTargetNode.getBoundingClientRect();\n      const dropTargetVerticalMiddlePoint = (dropTargetBoundingRect.height / 2) + dropTargetBoundingRect.top;\n      const clientOffset = dropTargetMonitor.getClientOffset();\n      const dropTargetClientY = clientOffset.y;\n      switch (true) {\n        case dropPortfolioItem.isFolder && dropTargetClientY <= dropTargetVerticalMiddlePoint + BUFFER_ROOM && dropTargetClientY >= dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT;\n          if (dropTargetMonitor.isOver({ shallow: true })) {\n            dropTargetNode.classList.add('isNesting');\n          }\n          setTimeout(() => {\n            if (dragObject?.dropTargetNode !== dropTargetNode) {\n              dropTargetNode.classList.remove('isNesting');\n            }\n          }, 100);\n          break;\n        case dropTargetClientY > dropTargetVerticalMiddlePoint:\n          dragObject.dropLocation = DropLocation.BELOW_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        case dropTargetClientY < dropTargetVerticalMiddlePoint:\n          dragObject.dropLocation = DropLocation.ABOVE_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        default:\n          dragObject.dropLocation = DropLocation.INITIAL;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n      }\n    },\n    drop(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n      const dragObject = dropTargetMonitor.getItem();\n      const { dragPortfolioItem, dropTargetNode } = dragObject;\n      const { portfolioItem: dropPortfolioItem, movePortfolioInward, movePortfolioBeforeTarget, movePortfolioAfterTarget } = props;\n\n      if (!dropTargetNode) {\n        return;\n      }\n\n      switch (dragObject.dropLocation) {\n        case DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT:\n          movePortfolioInward(dragPortfolioItem, dropPortfolioItem);\n          break;\n        case DropLocation.ABOVE_TARGET:\n          movePortfolioBeforeTarget(dragPortfolioItem.id, dropPortfolioItem.id);\n          break;\n        case DropLocation.BELOW_TARGET:\n          movePortfolioAfterTarget(dragPortfolioItem.id, dropPortfolioItem.id);\n          break;\n        default:\n          break;\n      }\n      dropTargetNode.classList.remove('isNesting');\n      dragObject.dropLocation = DropLocation.INITIAL;\n    }\n  },\n  (connect, dropTargetState) => ({\n    connectDropTarget: connect.dropTarget(),\n    isDraggedUpwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.ABOVE_TARGET),\n    isDraggedDownwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.BELOW_TARGET),\n  })\n)(DragSource(\n  ItemTypes.PORTFOLIO,\n  {\n    beginDrag: (props, dragSourceMonitor, dragSourceContainer) => ({\n      sourceId: dragSourceMonitor.sourceId,\n      dragPortfolioItem: props.portfolioItem,\n      dragSourceNode: dragSourceContainer.getNode(),\n      dropLocation: DropLocation.INITIAL,\n    }),\n    canDrag: () => true,\n  },\n  (connect, dragSourceState) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: dragSourceState.isDragging(),\n  })\n)(PortfolioItem));\n\nPortfolioItemNested.propTypes = propTypes;\n\nexport default PortfolioItemNested;\n","import PortfolioItem from './PortfolioItem';\n\nexport default PortfolioItem;\n","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport { ItemTypes } from 'constants/dnd';\n\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 99999,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%'\n};\n\nconst getItemStyles = (initialOffset, currentOffset) => {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none'\n    };\n  }\n  const { x, y } = currentOffset;\n  const transform = `translate(calc(${x}px - 50%), calc(${y}px - 100%))`;\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n};\n\nexport const PortfolioDragLayer = () => {\n  const {\n    itemType,\n    item,\n    isDragging,\n    initialOffset,\n    currentOffset\n  } = useDragLayer((dragLayerState) => ({\n    itemType: dragLayerState.getItemType(),\n    item: dragLayerState.getItem(),\n    isDragging: dragLayerState.isDragging(),\n    initialOffset: dragLayerState.getInitialSourceClientOffset(),\n    currentOffset: dragLayerState.getClientOffset(),\n  }));\n\n  const renderDragItemPreview = () => {\n    if (!item) {\n      return null;\n    }\n\n    const { dragPortfolioItem } = item;\n\n    if (itemType === ItemTypes.PORTFOLIO) {\n      return (\n        <>\n          {dragPortfolioItem.name}\n        </>\n      );\n    }\n\n    return null;\n  };\n\n  if (!isDragging) {\n    return null;\n  }\n\n  return (\n    <div style={layerStyles}>\n      <div\n        className=\"bookmark-outline-single-container preview\"\n        style={getItemStyles(initialOffset, currentOffset)}\n      >\n        {renderDragItemPreview()}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useRef, useCallback } from 'react';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { DndProvider } from 'react-dnd';\nimport TouchBackEnd from 'react-dnd-touch-backend';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport selectors from 'selectors';\nimport actions from 'actions';\n\nimport Button from 'components/Button';\nimport PortfolioContext from './PortfolioContext';\nimport PortfolioItem from 'components/PortfolioItem';\nimport PortfolioItemContent from 'components/PortfolioItemContent';\nimport { PortfolioDragLayer } from './PortfolioDragLayer';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport DataElements from 'constants/dataElement';\nimport { DropLocation as MoveDirection } from 'constants/dnd';\nimport { isMobileDevice } from 'helpers/device';\nimport { enableMultiTab } from 'helpers/TabManager';\nimport { addFile, deletePortfolioFile, downloadPortfolioFile, getPortfolioFiles, isOpenableFile, renamePortfolioFile, reorderPortfolioFile } from 'helpers/portfolio';\nimport core from 'core';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './PortfolioPanel.scss';\n\nconst PortfolioPanel = () => {\n  const [\n    isDisabled,\n    tabManager,\n    portfolioFiles,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementDisabled(state, DataElements.PORTFOLIO_PANEL),\n      selectors.getTabManager(state),\n      selectors.getPortfolio(state),\n    ],\n    shallowEqual,\n  );\n\n  const dispatch = useDispatch();\n  const [t] = useTranslation();\n\n  const [activePortfolioItem, setActivePortfolioItem] = useState(null);\n  const [isAddingNewFolder, setAddingNewFolder] = useState(false);\n\n  const fileInputRef = useRef(null);\n\n  const onAddFile = () => {\n    fileInputRef?.current?.click();\n  };\n\n  const addNewFile = async (e) => {\n    const files = e.target.files;\n    if (files.length === 1) {\n      const file = files[0];\n      const isNameConflicted = portfolioFiles.some((item) => item.name === file.name);\n      if (isNameConflicted) {\n        const message = t('portfolio.fileAlreadyExistsMessage', { fileName: file.name });\n        const title = t('portfolio.fileAlreadyExists');\n        const confirmBtnText = t('portfolio.reselect');\n        const warning = {\n          message,\n          title,\n          confirmBtnText,\n          onConfirm: () => onAddFile()\n        };\n        dispatch(actions.showWarningMessage(warning));\n      } else {\n        const doc = core.getDocument();\n        if (doc) {\n          const pdfDoc = await doc.getPDFDoc();\n          if (pdfDoc) {\n            await addFile(pdfDoc, file);\n            refreshPortfolio();\n          }\n        }\n      }\n    }\n  };\n\n  const addNewFolder = (name) => {\n    if (!name) {\n      name = t('message.untitled');\n    }\n    // TODO: add new folder to portfolio here\n    refreshPortfolio();\n  };\n\n  const renamePortfolioItem = async (id, newName) => {\n    await renamePortfolioFile(id, newName);\n    refreshPortfolio();\n  };\n\n  const refreshPortfolio = async () => {\n    dispatch(actions.setPortfolio(await getPortfolioFiles()));\n    setAddingNewFolder(false);\n  };\n\n  const removePortfolioItem = (id) => {\n    const fileToRemove = portfolioFiles.find((file) => file.id === id);\n    const message = t('portfolio.deletePortfolio', { fileName: fileToRemove.name });\n    const title = t('action.delete');\n    const confirmBtnText = t('action.delete');\n    const warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: async () => {\n        await deletePortfolioFile(id);\n        refreshPortfolio();\n      },\n    };\n    dispatch(actions.showWarningMessage(warning));\n  };\n\n  const openPortfolioItem = (portfolioItem) => {\n    if (isOpenableFile(portfolioItem.extension)) {\n      dispatch(enableMultiTab());\n      dispatch(actions.addPortfolioTab(portfolioItem));\n    }\n  };\n\n  const isNameDuplicated = (newName, id) => {\n    const otherFiles = portfolioFiles.filter((file) => file.id !== id);\n    return otherFiles.some((file) => file.name === newName);\n  };\n\n  const downloadPortfolioItem = async (portfolioItem) => {\n    dispatch(actions.openElement(DataElements.LOADING_MODAL));\n    await downloadPortfolioFile(portfolioItem);\n    dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n  };\n\n  const movePortfolioInward = (dragItem, dropItem) => {\n    /* eslint-disable no-console */\n    // no-console function is empty for now\n    console.log(dragItem.name, 'Inward', dropItem.name);\n    /* eslint-enable no-console */\n  };\n\n  const moveFileInArray = async (portfolioFiles, dragItemId, dropItemId, moveDirection) => {\n    // clone to another array to avoid modifying portfolioFiles\n    const fileArray = [...portfolioFiles];\n    const fromIndex = fileArray.findIndex((file) => file.id === dragItemId);\n    const dropItemIndex = fileArray.findIndex((file) => file.id === dropItemId);\n    let moveToIndex = dropItemIndex;\n    // If move 1 to before 3, we want to delete 1 and re-insert at index (3-1=2)\n    if (moveDirection === MoveDirection.ABOVE_TARGET && fromIndex < dropItemIndex) {\n      moveToIndex = dropItemIndex - 1;\n    }\n    // If move 3 to after 1, we want to delete 3 and re-insert at index (1+1=2)\n    if (moveDirection === MoveDirection.BELOW_TARGET && fromIndex > dropItemIndex) {\n      moveToIndex = dropItemIndex + 1;\n    }\n\n    // Move elements in an array based on index\n    fileArray.splice(moveToIndex, 0, fileArray.splice(fromIndex, 1)[0]);\n    for (const [index, file] of fileArray.entries()) {\n      if (file.order !== index) {\n        await reorderPortfolioFile(file.id, index);\n      }\n    }\n  };\n\n  const movePortfolioBeforeTarget = useCallback(async (dragItemId, dropItemId) => {\n    await moveFileInArray(portfolioFiles, dragItemId, dropItemId, MoveDirection.ABOVE_TARGET);\n    refreshPortfolio();\n  }, [portfolioFiles]);\n\n  const movePortfolioAfterTarget = useCallback(async (dragItemId, dropItemId) => {\n    await moveFileInArray(portfolioFiles, dragItemId, dropItemId, MoveDirection.BELOW_TARGET);\n    refreshPortfolio();\n  }, [portfolioFiles]);\n\n  return isDisabled ? null : (\n    <DataElementWrapper\n      className=\"Panel PortfolioPanel bookmark-outline-panel\"\n      dataElement={DataElements.PORTFOLIO_PANEL}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <div className=\"header-title\">\n          {t('portfolio.portfolioPanelTitle')}\n        </div>\n\n        <div className=\"portfolio-panel-control\">\n          <Button\n            className=\"portfolio-panel-control-button\"\n            dataElement={DataElements.PORTFOLIO_ADD_FILE}\n            img=\"icon-add-file\"\n            title={t('portfolio.addFile')}\n            disabled={isAddingNewFolder}\n            onClick={onAddFile}\n          />\n\n          <input\n            ref={fileInputRef}\n            style={{ display: 'none' }}\n            type=\"file\"\n            onChange={(event) => {\n              addNewFile(event);\n              event.target.value = null;\n            }}\n          />\n        </div>\n      </div>\n\n      <PortfolioContext.Provider\n        value={{\n          activePortfolioItem,\n          setActivePortfolioItem,\n          isPortfolioItemActive: (portfolioItem) => portfolioItem?.id === activePortfolioItem,\n          isAddingNewFolder,\n          setAddingNewFolder,\n          addNewFolder,\n          renamePortfolioItem,\n          removePortfolioItem,\n          openPortfolioItem,\n          downloadPortfolioItem,\n          refreshPortfolio,\n          isNameDuplicated,\n          tabManager,\n        }}\n      >\n        <DndProvider backend={isMobileDevice ? TouchBackEnd : HTML5Backend}>\n          <PortfolioDragLayer />\n\n          <div className=\"bookmark-outline-row\">\n            {portfolioFiles.map((item) => (\n              <PortfolioItem\n                key={item.id}\n                portfolioItem={item}\n                movePortfolioInward={movePortfolioInward}\n                movePortfolioBeforeTarget={movePortfolioBeforeTarget}\n                movePortfolioAfterTarget={movePortfolioAfterTarget}\n              />\n            ))}\n\n            {isAddingNewFolder && (\n              <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n                <PortfolioItemContent\n                  name={''}\n                  id={'0'}\n                  isFolder\n                  isAdding\n                />\n              </DataElementWrapper>\n            )}\n          </div>\n        </DndProvider>\n      </PortfolioContext.Provider>\n    </DataElementWrapper>\n  );\n};\n\nexport default PortfolioPanel;\n","import PortfolioPanel from './PortfolioPanel';\n\nexport default PortfolioPanel;\n","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport { ItemTypes } from 'constants/dnd';\n\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 99999,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%'\n};\n\nconst getItemStyles = (initialOffset, currentOffset) => {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none'\n    };\n  }\n  const { x, y } = currentOffset;\n  const transform = `translate(calc(${x}px - 50%), calc(${y}px - 100%))`;\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n};\n\nexport const OutlinesDragLayer = () => {\n  const {\n    itemType,\n    item,\n    isDragging,\n    initialOffset,\n    currentOffset\n  } = useDragLayer((dragLayerState) => ({\n    itemType: dragLayerState.getItemType(),\n    item: dragLayerState.getItem(),\n    isDragging: dragLayerState.isDragging(),\n    initialOffset: dragLayerState.getInitialSourceClientOffset(),\n    currentOffset: dragLayerState.getClientOffset(),\n  }));\n\n  const renderDragItem = () => {\n    if (!item) {\n      return null;\n    }\n\n    const { dragOutline } = item;\n\n    switch (itemType) {\n      case ItemTypes.OUTLINE:\n        return (\n          <>\n            {dragOutline.getName()}\n          </>\n        );\n      default:\n        return null;\n    }\n  };\n\n  if (!isDragging) {\n    return null;\n  }\n\n  return (\n    <div style={layerStyles}>\n      <div\n        className=\"bookmark-outline-single-container preview\"\n        style={getItemStyles(initialOffset, currentOffset)}\n      >\n        {renderDragItem()}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useLayoutEffect, useRef, useEffect } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { DndProvider } from 'react-dnd';\nimport { isMobileDevice } from 'helpers/device';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport TouchBackEnd from 'react-dnd-touch-backend';\nimport OutlineControls from '../OutlineControls';\nimport Outline from 'components/Outline';\nimport OutlineContext from 'components/Outline/Context';\nimport Button from 'components/Button';\nimport OutlineContent from 'components/OutlineContent';\nimport DataElementWrapper from 'components/DataElementWrapper';\n\nimport core from 'core';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport DataElements from 'constants/dataElement';\nimport defaultTool from 'constants/defaultTool';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './OutlinesPanel.scss';\nimport { OutlinesDragLayer } from './OutlinesDragLayer';\n\nconst OutlinesPanel = () => {\n  const [\n    isDisabled,\n    outlines,\n    outlineControlVisibility,\n    outlineEditingEnabled,\n    shouldAutoExpandOutlines,\n    currentPage,\n    pageLabels,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementDisabled(state, DataElements.OUTLINE_PANEL),\n      selectors.getOutlines(state),\n      selectors.isOutlineControlVisible(state),\n      selectors.getOutlineEditingEnabled(state),\n      selectors.shouldAutoExpandOutlines(state),\n      selectors.getCurrentPage(state),\n      selectors.getPageLabels(state),\n    ],\n    shallowEqual,\n  );\n\n  const defaultDestText = 'Full Page';\n  const areaDestinationText = 'Area Selection';\n  const defaultDestCoord = { x: 0, y: 0 };\n\n  const [currentDestText, setCurrentDestText] = useState(defaultDestText);\n  const [currentDestCoord, setCurrentDestCoord] = useState(defaultDestCoord);\n  const [currentDestPage, setCurrentDestPage] = useState(currentPage);\n  const [isOutlineEditable, setOutlineEditable] = useState(false);\n  const [activeOutlinePath, setActiveOutlinePath] = useState(null);\n  const [isAddingNewOutline, setAddingNewOutline] = useState(false);\n  const [editingOutlines, setEditingOutlines] = useState({});\n  const [isAnyOutlineRenaming, setAnyOutlineRenaming] = useState(false);\n  const [isMultiSelectMode, setMultiSelectMode] = useState(false);\n  const [selectedOutlines, setSelectedOutlines] = useState([]);\n\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n  const nextPathRef = useRef(null);\n  const TOOL_NAME = 'OutlineDestinationCreateTool';\n  const tool = core.getTool(TOOL_NAME);\n\n  useLayoutEffect(() => {\n    setAddingNewOutline(false);\n\n    if (nextPathRef.current !== null) {\n      setActiveOutlinePath(nextPathRef.current);\n      nextPathRef.current = null;\n    }\n\n    const shouldResetMultiSelectedMode = outlines.length === 0;\n    if (shouldResetMultiSelectedMode) {\n      setMultiSelectMode(false);\n    }\n  }, [outlines]);\n\n  useEffect(() => {\n    setOutlineEditable(core.isFullPDFEnabled() && outlineEditingEnabled);\n  }, [outlineEditingEnabled]);\n\n  useEffect(() => {\n    const isAnyEditing = Object.values(editingOutlines).some((value) => value);\n    setAnyOutlineRenaming(isAnyEditing);\n  }, [editingOutlines, outlines]);\n\n  useEffect(() => {\n    const onSetDestination = (annotation) => {\n      setCurrentDestText(annotation['IsText'] ? annotation.getCustomData('trn-annot-preview') : areaDestinationText);\n      setCurrentDestCoord({ x: annotation['X'], y: annotation['Y'] });\n      setCurrentDestPage(annotation['PageNumber']);\n    };\n\n    const onOutlinesBookmarksChanged = () => {\n      core.getOutlines((outlines) => {\n        dispatch(actions.setOutlines(outlines));\n      });\n    };\n\n    const onDocumentLoaded = () => {\n      setActiveOutlinePath(null);\n    };\n\n    core.addEventListener('outlineSetDestination', onSetDestination);\n    window.addEventListener('outlineBookmarksChanged', onOutlinesBookmarksChanged);\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    return () => {\n      core.removeEventListener('outlineSetDestination', onSetDestination);\n      window.removeEventListener('outlineBookmarksChanged', onOutlinesBookmarksChanged);\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n    };\n  }, []);\n\n  const getCurrentDestViewerCoord = (pageNum, { x, y }) => {\n    const doc = core.getDocumentViewer().getDocument();\n    // convert annotation coordinates to viewerCoordinates because PDFNet used PDF coordinates\n    return doc.getViewerCoordinates(pageNum, x, y);\n  };\n\n  const addNewOutline = async (name) => {\n    let { x, y } = getCurrentDestViewerCoord(currentDestPage, currentDestCoord);\n    let nextPath;\n    let outlineName = name;\n    if (![defaultDestText, areaDestinationText].includes(currentDestText) && !name) {\n      outlineName = currentDestText.slice(0, 40);\n    } else if (!name) {\n      outlineName = t('message.untitled');\n    }\n\n    const doc = core.getDocumentViewer().getDocument();\n\n    const pageRotation = doc.getPageRotation(currentDestPage) / 90;\n    if (pageRotation === window.Core.PageRotation.E_90 || pageRotation === window.Core.PageRotation.E_270) {\n      const tmp = x;\n      x = y;\n      y = tmp;\n    }\n    if (outlines.length === 0) {\n      nextPath = await outlineUtils.addRootOutline(outlineName, currentDestPage, x, y, 0);\n    } else {\n      nextPath = await outlineUtils.addNewOutline(outlineName, activeOutlinePath, currentDestPage, x, y, 0);\n    }\n\n    nextPathRef.current = nextPath;\n    updateOutlines();\n  };\n\n  const updateOutlines = () => {\n    core.getOutlines((outlines) => {\n      dispatch(actions.setOutlines(outlines));\n    });\n    clearOutlineDestination();\n    setEditingOutlines({});\n  };\n\n  const getPath = (outline) => {\n    return outlineUtils.getPath(outline);\n  };\n\n  const clearOutlineDestination = () => {\n    core.setToolMode(defaultTool);\n    setCurrentDestText(defaultDestText);\n    setCurrentDestCoord(defaultDestCoord);\n    setCurrentDestPage(currentPage);\n    tool.clearOutlineDestination();\n  };\n\n  const updateOutlineDest = async (outlinePath) => {\n    const { x, y } = getCurrentDestViewerCoord(currentDestPage, currentDestCoord);\n    await outlineUtils.setOutlineDestination(outlinePath, currentDestPage, x, y, 0);\n    nextPathRef.current = outlinePath;\n    updateOutlines();\n  };\n\n  useEffect(() => {\n    if (currentDestText === defaultDestText) {\n      setCurrentDestPage(currentPage);\n    }\n  }, [currentDestText, currentPage]);\n\n  useEffect(() => {\n    if (isAddingNewOutline) {\n      core.setToolMode(TOOL_NAME);\n    } else {\n      clearOutlineDestination();\n    }\n  }, [isAddingNewOutline]);\n\n  const generalMoveOutlineAction = (dragOutline, dropOutline, moveDirection) => {\n    const dragPath = getPath(dragOutline);\n    const dropPath = getPath(dropOutline);\n    setSelectedOutlines([]);\n\n    moveDirection.call(outlineUtils, dragPath, dropPath).then((path) => {\n      updateOutlines();\n      nextPathRef.current = path;\n    });\n    core.goToOutline(dragOutline);\n  };\n\n  const moveOutlineAfterTarget = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineAfterTarget);\n  };\n\n  const moveOutlineBeforeTarget = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineBeforeTarget);\n  };\n\n  const moveOutlineInward = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineInTarget);\n  };\n\n  const renameOutline = async (outlinePath, newName) => {\n    await outlineUtils.setOutlineName(outlinePath, newName);\n    updateOutlines();\n  };\n\n  const removeOutlines = async (outlinesToRemove) => {\n    outlinesToRemove.sort().reverse();\n    const confirmationWarning = {\n      message: t('warning.deleteOutline.message'),\n      title: t('warning.deleteOutline.title'),\n      confirmBtnText: t('action.delete'),\n      onConfirm: async () => {\n        for (let i = 0; i < outlinesToRemove.length; i++) {\n          const fullIndex = outlinesToRemove[i];\n          await outlineUtils.deleteOutline(fullIndex);\n        }\n        updateOutlines();\n        setActiveOutlinePath(null);\n        setSelectedOutlines([]);\n      },\n    };\n    dispatch(actions.showWarningMessage(confirmationWarning));\n  };\n\n  if (isDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      className=\"Panel OutlinesPanel bookmark-outline-panel\"\n      data-element={DataElements.OUTLINE_PANEL}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <div className=\"header-title\">\n          {t('component.outlinesPanel')}\n        </div>\n        {isOutlineEditable &&\n          (isMultiSelectMode ?\n            <Button\n              className=\"bookmark-outline-control-button\"\n              dataElement={DataElements.OUTLINE_MULTI_SELECT}\n              label={t('option.bookmarkOutlineControls.done')}\n              disabled={isAddingNewOutline}\n              onClick={() => setMultiSelectMode(false)}\n            />\n            :\n            <Button\n              className=\"bookmark-outline-control-button\"\n              dataElement={DataElements.OUTLINE_MULTI_SELECT}\n              label={t('option.bookmarkOutlineControls.edit')}\n              disabled={isAddingNewOutline || outlines.length === 0}\n              onClick={() => {\n                setMultiSelectMode(true);\n                setSelectedOutlines([]);\n              }}\n            />\n          )\n        }\n      </div>\n      <OutlineContext.Provider\n        value={{\n          currentDestPage: pageLabels[currentDestPage - 1],\n          currentDestText,\n          setActiveOutlinePath,\n          activeOutlinePath,\n          isOutlineActive: (outline) => getPath(outline) === activeOutlinePath,\n          setAddingNewOutline,\n          isAddingNewOutline,\n          setEditingOutlines,\n          editingOutlines,\n          selectedOutlines,\n          isAnyOutlineRenaming,\n          isMultiSelectMode,\n          shouldAutoExpandOutlines,\n          isOutlineEditable,\n          addNewOutline,\n          updateOutlines,\n          renameOutline,\n          updateOutlineDest,\n          removeOutlines,\n        }}\n      >\n        {outlineControlVisibility && <OutlineControls />}\n        <DndProvider backend={isMobileDevice ? TouchBackEnd : HTML5Backend}>\n          <OutlinesDragLayer />\n\n          <div className=\"bookmark-outline-row\">\n            {!isAddingNewOutline && outlines.length === 0 &&\n              <div className=\"msg msg-no-bookmark-outline\">{t('message.noOutlines')}</div>\n            }\n            {outlines.map((outline) => (\n              <Outline\n                key={outlineUtils.getOutlineId(outline)}\n                outline={outline}\n                setMultiSelected={(path, value) => {\n                  if (selectedOutlines.find((outline) => outline === path)) {\n                    if (!value) {\n                      setSelectedOutlines(selectedOutlines.filter((outline) => outline !== path));\n                    }\n                  } else {\n                    if (value) {\n                      setSelectedOutlines([...selectedOutlines, path]);\n                    }\n                  }\n                }}\n                moveOutlineInward={moveOutlineInward}\n                moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n                moveOutlineAfterTarget={moveOutlineAfterTarget}\n              />\n            ))}\n            {isAddingNewOutline && activeOutlinePath === null && (\n              <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n                <OutlineContent\n                  isAdding={true}\n                  text={''}\n                  onCancel={() => setAddingNewOutline(false)}\n                />\n              </DataElementWrapper>\n            )}\n          </div>\n        </DndProvider>\n\n        {isOutlineEditable &&\n          <DataElementWrapper\n            className=\"bookmark-outline-footer\"\n            dataElement={DataElements.OUTLINE_ADD_NEW_BUTTON_CONTAINER}\n          >\n            {isMultiSelectMode ?\n              <>\n                <Button\n                  className=\"multi-selection-button\"\n                  img=\"icon-menu-add\"\n                  disabled={selectedOutlines.length > 0 || isAddingNewOutline}\n                  onClick={() => setAddingNewOutline(true)}\n                />\n                <Button\n                  className=\"multi-selection-button\"\n                  img=\"icon-delete-line\"\n                  disabled={selectedOutlines.length === 0}\n                  onClick={() => removeOutlines(selectedOutlines)}\n                />\n              </>\n              :\n              <Button\n                className=\"bookmark-outline-control-button add-new-button\"\n                img=\"icon-menu-add\"\n                dataElement={DataElements.OUTLINE_ADD_NEW_BUTTON}\n                disabled={isAddingNewOutline}\n                label={`${t('action.add')} ${t('component.outlinePanel')}`}\n                onClick={() => setAddingNewOutline(true)}\n              />\n            }\n          </DataElementWrapper>\n        }\n      </OutlineContext.Provider>\n    </div>\n  );\n};\n\nexport default React.memo(OutlinesPanel);\n","import OutlinesPanel from './OutlinesPanel';\n\nexport default OutlinesPanel;\n","import React, { useEffect } from 'react';\nimport classNames from 'classnames';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport LeftPanelTabs from 'components/LeftPanelTabs';\nimport PortfolioPanel from 'components/PortfolioPanel';\nimport ThumbnailsPanel from 'components/ThumbnailsPanel';\nimport OutlinesPanel from 'components/OutlinesPanel';\nimport BookmarksPanel from 'components/BookmarksPanel';\nimport LayersPanel from 'components/LayersPanel';\nimport FileAttachmentPanel from 'components/FileAttachmentPanel';\nimport SignaturePanel from 'components/SignaturePanel';\nimport CustomElement from 'components/CustomElement';\nimport ResizeBar from 'components/ResizeBar';\nimport Icon from 'components/Icon';\nimport LazyLoadWrapper, { LazyLoadComponents } from 'components/LazyLoadWrapper';\n\nimport core from 'core';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport { isMobileSize, isTabletAndMobileSize } from 'helpers/getDeviceSize';\nimport { isIE } from 'helpers/device';\nimport DataElements from 'constants/dataElement';\n\nimport './LeftPanel.scss';\n\nconst LeftPanel = () => {\n  const isMobile = isMobileSize();\n\n  const isTabletAndMobile = isTabletAndMobileSize();\n\n  const [\n    currentToolbarGroup,\n    isHeaderOpen,\n    isToolsHeaderOpen,\n    isOfficeEditorToolsHeaderOpen,\n    isOpen,\n    isDisabled,\n    activePanel,\n    customPanels,\n    currentWidth,\n    notesInLeftPanel,\n    isInDesktopOnlyMode,\n    bookmarks,\n    isBookmarkPanelEnabled,\n    isBookmarkIconShortcutVisible,\n    isMultiTabActive,\n    isLogoBarEnabled,\n    featureFlags,\n    topHeadersHeight,\n    bottomHeadersHeight,\n    portfolioFiles,\n  ] = useSelector(\n    (state) => [\n      selectors.getCurrentToolbarGroup(state),\n      selectors.isElementOpen(state, 'header'),\n      selectors.isElementOpen(state, 'toolsHeader'),\n      selectors.isElementOpen(state, 'officeEditorToolsHeader'),\n      selectors.isElementOpen(state, DataElements.LEFT_PANEL),\n      selectors.isElementDisabled(state, DataElements.LEFT_PANEL),\n      selectors.getActiveLeftPanel(state),\n      selectors.getCustomPanels(state),\n      selectors.getLeftPanelWidth(state),\n      selectors.getNotesInLeftPanel(state),\n      selectors.isInDesktopOnlyMode(state),\n      selectors.getBookmarks(state),\n      !selectors.isElementDisabled(state, DataElements.BOOKMARK_PANEL),\n      selectors.isBookmarkIconShortcutVisible(state),\n      selectors.getIsMultiTab(state),\n      !selectors.isElementDisabled(state, DataElements.LOGO_BAR),\n      selectors.getFeatureFlags(state),\n      selectors.getTopHeadersHeight(state),\n      selectors.getBottomHeadersHeight(state),\n      selectors.getPortfolio(state),\n    ],\n    shallowEqual,\n  );\n\n  const minWidth = 264;\n  const dispatch = useDispatch();\n  const [t] = useTranslation();\n\n  const onDrop = (e) => {\n    // this is mainly for the thumbnail panel, to prevent the broswer from loading a document that dropped in\n    e.preventDefault();\n  };\n\n  const onDragOver = (e) => {\n    // when dragging over the \"LeftPanel\", change the cursor to \"Move\" from \"Copy\"\n    e.preventDefault();\n  };\n\n  const getDisplay = (panel) => (panel === activePanel ? 'flex' : 'none');\n\n  let style = {};\n  if (isInDesktopOnlyMode || !isMobile) {\n    style = { width: `${currentWidth}px`, minWidth: `${currentWidth}px` };\n  }\n\n  const isVisible = !(!isOpen || isDisabled);\n\n  useEffect(() => {\n    if (isBookmarkPanelEnabled) {\n      core.setBookmarkShortcutToggleOnFunction((pageIndex) => {\n        dispatch(actions.addBookmark(pageIndex, t('message.untitled')));\n      });\n      core.setBookmarkShortcutToggleOffFunction((pageIndex) => {\n        dispatch(actions.removeBookmark(pageIndex));\n      });\n      core.setUserBookmarks(Object.keys(bookmarks).map((pageIndex) => parseInt(pageIndex, 10)));\n    }\n  }, [isBookmarkPanelEnabled, bookmarks]);\n\n  useEffect(() => {\n    if (isBookmarkPanelEnabled && isBookmarkIconShortcutVisible) {\n      core.setBookmarkIconShortcutVisibility(true);\n    } else {\n      core.setBookmarkIconShortcutVisibility(false);\n    }\n  }, [isBookmarkPanelEnabled, isBookmarkIconShortcutVisible]);\n\n  // TODO: For whoever is refactoring the LeftPanel to make it generic, review if this is the best approach\n  // Once we move to the new UI we can remove the legacy stuff\n  const legacyToolsHeaderOpen = isToolsHeaderOpen && currentToolbarGroup !== 'toolbarGroup-View';\n  const legacyAllHeadersHidden = !isHeaderOpen && !legacyToolsHeaderOpen;\n\n  const { customizableUI } = featureFlags;\n  const wrapperStyle = {\n    // prevent panel from appearing until scss is loaded\n    display: 'none',\n  };\n  // Calculating its height according to the existing horizontal modular headers\n  if (customizableUI) {\n    const horizontalHeadersHeight = topHeadersHeight + bottomHeadersHeight;\n    wrapperStyle['height'] = `calc(100% - ${horizontalHeadersHeight}px)`;\n  }\n\n  return (\n    <div\n      className={classNames({\n        Panel: true,\n        LeftPanel: true,\n        'closed': !isVisible,\n        'tools-header-open': legacyToolsHeaderOpen || isOfficeEditorToolsHeaderOpen,\n        'tools-header-and-header-hidden': legacyAllHeadersHidden,\n        'thumbnail-panel-active': activePanel === 'thumbnailsPanel',\n        'outlines-panel-active': activePanel === 'outlinesPanel',\n        'multi-tab-active': isMultiTabActive,\n        'logo-bar-enabled': isLogoBarEnabled,\n      })}\n      onDrop={onDrop}\n      onDragOver={onDragOver}\n      data-element={DataElements.LEFT_PANEL}\n      style={wrapperStyle}\n    >\n      <div\n        className=\"left-panel-container\"\n        style={style}\n      >\n        {!isInDesktopOnlyMode && isMobile &&\n          <div\n            className=\"close-container\"\n          >\n            <div\n              className=\"close-icon-container\"\n              onClick={() => {\n                dispatch(actions.closeElements(['leftPanel']));\n              }}\n            >\n              <Icon\n                glyph=\"ic_close_black_24px\"\n                className=\"close-icon\"\n              />\n            </div>\n          </div>}\n        <div className=\"left-panel-header\">\n          <LeftPanelTabs showPortfolio={portfolioFiles.length > 0}/>\n        </div>\n        {activePanel === DataElements.PORTFOLIO_PANEL\n          && core.isFullPDFEnabled()\n          && portfolioFiles.length > 0\n          && <PortfolioPanel />}\n        {activePanel === 'thumbnailsPanel' && <ThumbnailsPanel />}\n        {activePanel === 'outlinesPanel' && <OutlinesPanel />}\n        {activePanel === 'bookmarksPanel' && <BookmarksPanel />}\n        {activePanel === 'layersPanel' && <LayersPanel />}\n        {core.isFullPDFEnabled() && activePanel === 'signaturePanel' && <SignaturePanel />}\n        {activePanel === 'attachmentPanel' && <FileAttachmentPanel />}\n        {notesInLeftPanel && activePanel === 'notesPanel' &&\n          <LazyLoadWrapper\n            Component={LazyLoadComponents.NotesPanel}\n            dataElement={DataElements.NOTES_PANEL}\n            currentLeftPanelWidth={currentWidth}\n          />}\n        {customPanels.map(({ panel }, index) => (\n          <CustomElement\n            key={panel.dataElement || index}\n            className={`Panel ${panel.dataElement}`}\n            display={getDisplay(panel.dataElement)}\n            dataElement={panel.dataElement}\n            render={panel.render}\n          />\n        ))}\n      </div>\n      {(isInDesktopOnlyMode || !isTabletAndMobile) &&\n        <ResizeBar\n          dataElement=\"leftPanelResizeBar\"\n          minWidth={minWidth}\n          onResize={(_width) => {\n            let maxAllowedWidth = window.innerWidth;\n            // there will be a scroll bar in IE, so we don't allow 100% page width\n            if (isIE) {\n              maxAllowedWidth -= 30;\n            }\n            dispatch(actions.setLeftPanelWidth(Math.min(_width, maxAllowedWidth)));\n          }}\n        />}\n    </div>\n  );\n};\n\nexport default LeftPanel;\n","import LeftPanel from './LeftPanel';\n\nexport default LeftPanel;","var emptyImage;\nexport function getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}"],"sourceRoot":""}